define("oj-c/hooks/UNSAFE_useMergedFormContext/useMergedFormContext",["require","exports","@oracle/oraclejet-preact/hooks/UNSAFE_useFormContext"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useMergedFormContext=function({propContainerReadonly:e,propLabelWrapping:a,propReadonly:r,propUserAssistanceDensity:s}){const n=(0,t.useFormContext)(),u=s??n.userAssistanceDensity,l=r??n.isReadonly,{isFormLayout:o,isReadonly:i,labelWrapping:d,...c}=n;return{containerProps:{...c,isFormLayout:void 0!==e||o,isReadonly:e??i,labelWrapping:a??d},readonlyValue:l,uadValue:u}}})),define("oj-c/editable-value/UNSAFE_useAssistiveText/useAssistiveText",["require","exports","preact/hooks"],(function(require,e,t){"use strict";function a(e,t,a,r,s,n){const u="compact"!==n?a?.definition:void 0;return e?.instruction||("none"===s?.validatorHint?void 0:t)||u||("none"===s?.converterHint?void 0:r)}function r(e){if(!e.length)return;return e.map((e=>"function"==typeof e.getHint?e.getHint():void 0)).filter(Boolean).join("\n")}Object.defineProperty(e,"__esModule",{value:!0}),e.useAssistiveText=function({addBusyState:e,converter:s,displayOptions:n,help:u,helpHints:l,userAssistanceDensity:o,validators:i}){const[d,c]=(0,t.useState)(i&&i.length?r(i):void 0),p=(0,t.useRef)();(0,t.useEffect)((()=>{if(!i||!i.length)return void c(void 0);c(r(i));const t=i.map((e=>e.hint)).filter(Boolean),a=p.current=Symbol(),s=e?.("resolving the async validator hints");Promise.allSettled(t).then((e=>{c((t=>{const r=e.map((e=>"fulfilled"===e.status?e.value:void 0)).filter(Boolean);return a===p.current&&r.length?[t,...r].join("\n"):t})),s?.()}))}),[i]);const v="compact"!==o?l?.sourceText:l?.definition||l?.sourceText;return{assistiveText:a(u,d,l,s?.getHint?.()??void 0,n,o),helpSourceLink:l?.source,helpSourceText:v}}})),define("oj-c/hooks/UNSAFE_useEditableValue/utils",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.treatNull=e.normalizeValue=e.isShallowEqual=e.hasErrorMessages=e.getVirtualKeyboardHintFromConverter=e.createMessageFromError=void 0;e.createMessageFromError=e=>"function"==typeof e.getMessage?{severity:"error",detail:e.getMessage().detail}:{severity:"error",detail:e.message};e.treatNull=(e,t)=>null===e?t:e;e.normalizeValue=e=>"string"==typeof e&&""===e?null:e;e.isShallowEqual=(e,t)=>e===t||e.length===t.length&&e.every(((e,a)=>e===t[a]));e.hasErrorMessages=e=>!!e&&e.some((e=>"error"===e.severity));e.getVirtualKeyboardHintFromConverter=e=>{let t;if(e&&e.resolvedOptions){const a=e.resolvedOptions();t=a?.virtualKeyboardHint??"text"}else t="text";return t}})),define("oj-c/hooks/UNSAFE_useEditableValue/converterUtils",["require","exports","./utils"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.format=function(e,a,r){if(function(e){return null===e}(e))return{result:"success",value:a};try{return{result:"success",value:r.format(e)}}catch(e){return{result:"failure",error:(0,t.createMessageFromError)(e)}}},e.parse=function(e,a,r){if(void 0===e)return{result:"success",value:null};if(s=e,""===s||null===s)return{result:"success",value:e};var s;try{return{result:"success",value:a.parse(e)}}catch(e){return{result:"failure",error:r?.(e)??(0,t.createMessageFromError)(e)}}}})),define("oj-c/editable-value/UNSAFE_useStaleIdentity/useStaleIdentity",["require","exports","preact/hooks"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useStaleIdentity=function(){const e=(0,t.useRef)(new Map);return{setStaleIdentity:(0,t.useCallback)((t=>{const a=Symbol();return e.current.set(t,a),{isStale:()=>a!==e.current.get(t)}}),[])}}})),define("oj-c/hooks/UNSAFE_useEditableValue/reducer",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reducer=function(e,t){const a=e.customMessages??[],r=e.hiddenMessages,s=e.componentMessages,n=e.shownMessages;switch(t.type){case"UPDATE_DISPLAY_VALUE":return{...e,displayValue:t.payload};case"UPDATE_VALID":return{...e,valid:t.payload};case"UPDATE_VALUE":return{...e,value:t.payload};case"UPDATE_TRANSIENT_VALUE":return{...e,transientValue:t.payload};case"UPDATE_PREVIOUS_CONVERTER":return{...e,previousConverter:t.payload};case"UPDATE_PREVIOUS_DEFERRED_VALIDATORS":return{...e,previousDeferredValidators:t.payload};case"UPDATE_PREVIOUS_DISABLED":return{...e,previousDisabled:t.payload};case"UPDATE_PREVIOUS_READONLY":return{...e,previousReadonly:t.payload};case"UPDATE_PREVIOUS_VALIDATORS":return{...e,previousValidators:t.payload};case"UPDATE_PREVIOUS_VALUE":return{...e,previousValue:t.payload};case"UPDATE_COMPONENT_MESSAGES":return{...e,componentMessages:t.payload,shownMessages:[...a,...t.payload]};case"UPDATE_HIDDEN_MESSAGES":return{...e,hiddenMessages:t.payload};case"UPDATE_CUSTOM_MESSAGES":return{...e,customMessages:t.payload,shownMessages:[...t.payload,...s]};case"CLEAR_ALL_MESSAGES":return{...e,shownMessages:[],hiddenMessages:[],customMessages:[],componentMessages:[]};case"ADD_COMPONENT_MESSAGE":return{...e,componentMessages:[...s,t.payload],shownMessages:[...n,t.payload]};case"SHOW_HIDDEN_MESSAGES":return 0===r.length?e:{...e,hiddenMessages:[],shownMessages:[...a,...s,...r]};default:return e}},e.addComponentMessage=function(e,t){e({type:"ADD_COMPONENT_MESSAGE",payload:t})},e.clearAllMessages=function(e,t,{onMessagesCustomChanged:a}){e({type:"CLEAR_ALL_MESSAGES"}),a?.([])},e.showHiddenMessages=function(e){e({type:"SHOW_HIDDEN_MESSAGES"})},e.updateComponentMessages=function(e,t){e({type:"UPDATE_COMPONENT_MESSAGES",payload:t})},e.updateCustomMessages=function(e,t){e({type:"UPDATE_CUSTOM_MESSAGES",payload:t})},e.updateDisplayValue=function(e,t,{onRawValueChanged:a}){e({type:"UPDATE_DISPLAY_VALUE",payload:t}),a?.(t)},e.updateHiddenMessages=function(e,t){e({type:"UPDATE_HIDDEN_MESSAGES",payload:t})},e.updatePreviousConverter=function(e,t){e({type:"UPDATE_PREVIOUS_CONVERTER",payload:t})},e.updatePreviousDeferredValidators=function(e,t){e({type:"UPDATE_PREVIOUS_DEFERRED_VALIDATORS",payload:t})},e.updatePreviousDisabled=function(e,t){e({type:"UPDATE_PREVIOUS_DISABLED",payload:t})},e.updatePreviousReadonly=function(e,t){e({type:"UPDATE_PREVIOUS_READONLY",payload:t})},e.updatePreviousValidators=function(e,t){e({type:"UPDATE_PREVIOUS_VALIDATORS",payload:t})},e.updatePreviousValue=function(e,t){e({type:"UPDATE_PREVIOUS_VALUE",payload:t})},e.updateTransientValue=function(e,t,{onTransientValueChanged:a}){e({type:"UPDATE_TRANSIENT_VALUE",payload:t}),a?.(t)},e.updateValidStatus=function(e,t,{onValidChanged:a}){e({type:"UPDATE_VALID",payload:t}),a?.(t)},e.updateValue=function(e,t,{onValueChanged:a}){e({type:"UPDATE_VALUE",payload:t}),a?.(t)}})),define("oj-c/hooks/UNSAFE_useEditableValue/validationUtils",["require","exports","./utils"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateAsync=function({validators:e,value:a}){const r=(e,a)=>{try{const r=e.validate(a);if(r instanceof Promise)return r.then((()=>{}),(e=>(0,t.createMessageFromError)(e)))}catch(e){return(0,t.createMessageFromError)(e)}},s=[],n=[];for(const t of e){const e=r(t,a);void 0!==e&&(e instanceof Promise?n.push(e):s.push(e))}return{errors:s,maybeErrorPromises:n}},e.validateSync=function({validators:e,value:a}){const r=[];for(const s of e)try{s.validate(a)}catch(e){r.push((0,t.createMessageFromError)(e))}if(r.length)return{result:"failure",errors:r};return{result:"success"}}})),define("oj-c/hooks/UNSAFE_useEditableValue/useEditableValue",["require","exports","preact/hooks","./converterUtils","./utils","oj-c/editable-value/UNSAFE_useStaleIdentity/useStaleIdentity","./reducer","./validationUtils"],(function(require,e,t,a,r,s,n,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useEditableValue=function({addBusyState:e,ariaDescribedBy:l,converter:o,defaultDisplayValue:i,deferredValidators:d,disabled:c,displayOptions:p,messagesCustom:v,onDisplayValueChanged:m,onMessagesCustomChanged:y,onRawValueChanged:g,onTransientValueChanged:f,onValidChanged:b,onValueChanged:V,translateConverterParseError:h,readonly:S,validators:E,value:M}){const C=(0,t.useRef)(!0),{setStaleIdentity:_}=(0,s.useStaleIdentity)(),[A,D]=(0,t.useReducer)(n.reducer,{shownMessages:[],hiddenMessages:[],customMessages:v,componentMessages:[],value:M,valid:"pending"},(e=>{const t=o?(0,a.format)(M,i,o):{result:"success",value:(0,r.treatNull)(M,i)};return{...e,displayValue:"success"===t.result?t.value:i}})),P=(0,t.useRef)(),R=(0,t.useCallback)((e=>{e!==P.current&&(P.current=e,b?.(e))}),[b]),x=(0,t.useCallback)(((e,t)=>(e(D,t,{onMessagesCustomChanged:y,onRawValueChanged:g,onTransientValueChanged:f,onValidChanged:R,onValueChanged:V}),!0)),[D,y,g,f,R,V]),U=(0,t.useCallback)((e=>{const t="string"==typeof e?e.trim():e;return(0,u.validateSync)({validators:d??[],value:t})}),[d]),N=(0,t.useCallback)((e=>{x(n.updateValue,e)}),[x]),w=(0,t.useCallback)((e=>{x(n.updateDisplayValue,e)}),[x]),O=(0,t.useCallback)((e=>{x(n.updateTransientValue,e)}),[x]),j=(0,t.useCallback)((e=>{let t;if(o){const s=(0,a.format)(e,i,o);"failure"===s.result?(x(n.updateComponentMessages,[s.error]),x(n.updateValidStatus,"invalidShown"),t=(0,r.treatNull)(e,i)):t=s.value}else t=(0,r.treatNull)(e,i);return t}),[o,i,x]),T=(0,t.useCallback)((e=>{const t=j(e);return x(n.updateDisplayValue,t),m?.(),!0}),[x,j,m]),F=(0,t.useCallback)((()=>"invalidShown"!==A.valid?{result:"success",value:A.value}:o?(0,a.parse)((0,r.normalizeValue)(A.displayValue),o,h):{result:"success",value:(0,r.normalizeValue)(A.displayValue)}),[o,A.displayValue,A.valid,A.value,h]),I=(0,t.useCallback)((e=>o?(0,a.parse)((0,r.normalizeValue)(e),o,h):{result:"success",value:(0,r.normalizeValue)(e)}),[o,h]),k=(0,t.useCallback)((e=>{const t=I(e);return"failure"===t.result&&(x(n.updateComponentMessages,[t.error]),x(n.updateValidStatus,"invalidShown")),t}),[x,I]),H=(0,t.useCallback)((async(t,a={})=>{const{doNotClearMessagesCustom:s=!1}=a,l=s&&(0,r.hasErrorMessages)(v);if(s?(x(n.updateComponentMessages,[]),x(n.updateHiddenMessages,[])):x(n.clearAllMessages),!(E&&0!==E.length||d&&0!==d.length))return x(n.updateValidStatus,l?"invalidShown":"valid"),!0;const o=[],i=U(t);let c;"failure"===i.result&&o.push(...i.errors),null!=t&&(c=(0,u.validateAsync)({validators:E??[],value:t})),o.push(...c?.errors??[]);const p=c?.maybeErrorPromises??[];if(!o.length&&!p.length)return x(n.updateValidStatus,l?"invalidShown":"valid"),!0;const m=0!==o.length;if(m&&x(n.updateComponentMessages,o)&&x(n.updateValidStatus,"invalidShown"),!p.length)return!m;!m&&x(n.updateValidStatus,"pending");const y=e?.("running asynchronous validation"),{isStale:g}=_("useEditableValue-full-validate");let f=!1;const b=[];for(const e of p){const t=e.then((e=>{e&&!g()&&(x(n.addComponentMessage,e),x(n.updateValidStatus,"invalidShown"),f=!0)}));b.push(t)}return await Promise.all(b),m||f||g()||x(n.updateValidStatus,l?"invalidShown":"valid"),y?.(),!m&&!f}),[e,x,d,v,_,U,E]),L=async()=>{if(c||S)return;const e=F();if("failure"===e.result)return x(n.updateComponentMessages,[e.error]),void x(n.updateValidStatus,"invalidShown");const t=e.value;await B(t,{doNotClearMessagesCustom:!0})&&x(n.updateValue,t)&&T(t)},q=(0,t.useCallback)((e=>{x(n.clearAllMessages);const t=U(e);return"failure"===t.result&&x(n.updateHiddenMessages,t.errors),x(n.updateValidStatus,"failure"===t.result?"invalidHidden":"valid"),!0}),[x,U]),B=(0,t.useCallback)((async(t,a={})=>{const{isStale:r}=_("useEditableValue-validateValueOnInternalChange"),s=e?.("Running validateValueOnInternalChange"),n=await H(t,a);return s?.(),!r()&&n}),[e,H,_]),K=(0,t.useCallback)((async(e,t=!0)=>{const a=await B(e);return a&&t&&x(n.updateValue,e),a}),[x,B]),W=(0,t.useCallback)((async({value:e})=>{const t=k(e);if("failure"===t.result)return!1;const a=t.value,r=await K(a);return r&&T(a),r}),[K,k,T]),G=(0,t.useCallback)((({value:e})=>{x(n.updateDisplayValue,e??i)}),[x,i]),z=(0,t.useCallback)((async()=>{if(S||c)return"valid";const t=k(A.displayValue);if("failure"===t.result)return"invalid";const a=t.value,r=e?.("Running component method validate"),s=await H(a);return r?.(),s?(a!==A.value&&(x(n.updateValue,a),T(a)),"valid"):"invalid"}),[e,c,x,H,k,S,T,A.displayValue,A.value]),Y=(0,t.useCallback)((()=>{q(A.value),T(A.value)}),[T,A.value,q]),$=(0,t.useCallback)((()=>{A.hiddenMessages&&A.hiddenMessages.length>0&&(x(n.showHiddenMessages),x(n.updateValidStatus,"invalidShown"))}),[x,A.hiddenMessages]);C.current||A.previousValue===M||(x(n.updatePreviousValue,M),M!==A.value&&(q(M),x(n.updateValue,M),T(M)));C.current||A.previousConverter===o||(x(n.updatePreviousConverter,o),"invalidShown"!==A.valid&&T(M),"invalidShown"===A.valid&&L());C.current||A.previousValidators===E||(x(n.updatePreviousValidators,E),"invalidShown"===A.valid&&L());if(!C.current&&(!A.customMessages&&v||A.customMessages&&!v||A.customMessages&&v&&!(0,r.isShallowEqual)(A.customMessages,v))){const e=A.componentMessages??[],t=A.hiddenMessages??[],a=v??[],s=(0,r.hasErrorMessages)(a),u=t.length>0,l=0===e.length&&0===t.length&&0===a.length;x(n.updateCustomMessages,a),s&&x(n.updateValidStatus,"invalidShown"),!s&&"pending"!==A.valid&&(l&&x(n.updateValidStatus,"valid")||u&&x(n.updateValidStatus,"invalidHidden"))}if(!C.current&&(A.previousDeferredValidators!==d||A.previousDisabled!==c||A.previousReadonly!==S)){const e=0===d?.length;if(A.previousDeferredValidators!==d&&x(n.updatePreviousDeferredValidators,d),A.previousDisabled!==c&&x(n.updatePreviousDisabled,c),A.previousReadonly!==S&&x(n.updatePreviousReadonly,S),e||!S&&!c)switch(A.valid){case"valid":const e=F();if("failure"===e.result)x(n.updateComponentMessages,[e.error]),x(n.updateValidStatus,"invalidShown");else{const t=U(e.value);"failure"===t.result&&x(n.updateHiddenMessages,t.errors)&&x(n.updateValidStatus,"invalidHidden")}break;case"invalidHidden":0===d?.length&&(x(n.updateValidStatus,"valid"),x(n.updateHiddenMessages,[]));break;case"invalidShown":L()}}C.current&&(C.current=!1);return(0,t.useEffect)((()=>{if(x(n.updatePreviousValue,M),x(n.updatePreviousConverter,o),x(n.updatePreviousValidators,E),x(n.updatePreviousDeferredValidators,d),x(n.updatePreviousDisabled,c),x(n.updatePreviousReadonly,S),x(n.updateCustomMessages,v),x(n.updateTransientValue,M),c||S)x(n.updateValidStatus,"valid"),T(M);else{const e=U(M);"failure"===e.result&&x(n.updateHiddenMessages,e.errors)&&x(n.updateValidStatus,(0,r.hasErrorMessages)(v)?"invalidShown":"invalidHidden"),"success"===e.result&&x(n.updateValidStatus,(0,r.hasErrorMessages)(v)?"invalidShown":"valid")&&T(M)}}),[]),{value:A.value,displayValue:A.displayValue,formatValue:j,methods:{reset:Y,showMessages:$,validate:z},onCommitValue:K,parseValue:k,refreshDisplayValue:T,setDisplayValue:w,setTransientValue:O,setValue:N,textFieldProps:{"aria-describedby":l,messages:"none"!==p?.messages?A.shownMessages:void 0,onCommit:W,onInput:G,value:A.displayValue},validateValueOnExternalChange:q}}})),define("oj-c/hooks/UNSAFE_useEditableValue/index",["require","exports","./utils","./useEditableValue"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useEditableValue=e.treatNull=e.getVirtualKeyboardHintFromConverter=void 0,Object.defineProperty(e,"getVirtualKeyboardHintFromConverter",{enumerable:!0,get:function(){return t.getVirtualKeyboardHintFromConverter}}),Object.defineProperty(e,"treatNull",{enumerable:!0,get:function(){return t.treatNull}}),Object.defineProperty(e,"useEditableValue",{enumerable:!0,get:function(){return a.useEditableValue}})})),define("oj-c/editable-value/UNSAFE_useDeferredValidators/useDeferredValidators",["require","exports","ojs/ojvalidator-required","preact/hooks","@oracle/oraclejet-preact/hooks/UNSAFE_useTranslationBundle"],(function(require,e,t,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useDeferredValidators=function({labelHint:e,required:s,requiredMessageDetail:n}){const u=(0,r.useTranslationBundle)("@oracle/oraclejet-preact"),l=n||u.formControl_requiredMessageDetail(),o=(0,a.useMemo)((()=>s?new t({label:e,messageDetail:l}):null),[s]);return(0,a.useMemo)((()=>[o].filter(Boolean)),[o])}})),define("oj-c/input-number/useImplicitNumberConverter",["require","exports","ojs/ojconverter-nativenumber","preact/hooks"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useImplicitNumberConverter=function({converter:e}){return(0,a.useMemo)((()=>e??new t.NumberConverter),[e])}})),define("oj-c/input-number/useImplicitNumberRangeValidator",["require","exports","preact/hooks","ojs/ojvalidator-numberrange"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useImplicitNumberRangeValidator=function({converter:e,max:r,min:s,numberRangeExactMessageDetail:n,numberRangeOverflowMessageDetail:u,numberRangeUnderflowMessageDetail:l}){return(0,t.useMemo)((()=>void 0!==s||void 0!==r?new a({converter:e,max:r,min:s,messageDetail:{exact:n,rangeOverflow:u,rangeUnderflow:l}}):null),[e,s,r,n,u,l])}})),define("oj-c/input-number/stepBasisUtils",["require","exports"],(function(require,e){"use strict";function t(e,t,a,r,s,n){let u=null!=n?n:r;null==u&&(u=0);try{a=parseFloat(a.toFixed(0))}catch(e){e instanceof TypeError&&(a=+a)}let l=a-u,o=Math.round(l/t)*t;o=parseFloat(o.toFixed(0));let i;if(o===l?i=a+e:(l=e<0?Math.ceil(l/t)*t:Math.floor(l/t)*t,i=u+l+e),i=parseFloat(i.toFixed(0)),null!=n&&i<n)return n;if(null!=s&&i>s){let e=Math.floor((s-u)/t)*t+u;return e=parseFloat(e.toFixed(0)),e}return i}function a(e){const t=e.toString(),a=t.indexOf(".");return-1===a?0:t.length-a-1}Object.defineProperty(e,"__esModule",{value:!0}),e.determineSteppedValue=function(e,r,s,n,u,l){const o=function(e,t,r){let s=a(e);null!=r&&(s=Math.max(s,a(r)));null!=t&&(s=Math.max(s,a(t)));return s}(r,n,l);if(o>0){const a=Math.pow(10,o),i=void 0!==l?Math.round(l*a):l,d=null!=u?Math.round(u*a):u,c=Math.round(r*a);return t(Math.round(e*a),c,Math.round(s*a),null!=n?Math.round(n*a):n,d,i)/a}return t(e,r,s,n,u,l)}})),define("oj-c/input-number/useNumberInputTextPreact",["require","exports","preact/hooks","oj-c/hooks/UNSAFE_useEditableValue/index","oj-c/editable-value/UNSAFE_useDeferredValidators/useDeferredValidators","./useImplicitNumberConverter","./useImplicitNumberRangeValidator","preact/hooks","./stepBasisUtils","@oracle/oraclejet-preact/hooks/UNSAFE_useTranslationBundle","ojs/ojconverter-nativenumber"],(function(require,e,t,a,r,s,n,u,l,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useNumberInputTextPreact=function({autocomplete:e="on",autofocus:d,converter:c,disabled:p,displayOptions:v,inputPrefix:m,inputSuffix:y,labelEdge:g,labelHint:f,labelStartWidth:b,max:V,messagesCustom:h,min:S,numberRangeExactMessageDetail:E,numberRangeOverflowMessageDetail:M,numberRangeUnderflowMessageDetail:C,placeholder:_,readonly:A,required:D,requiredMessageDetail:P,step:R,stepperVariant:x,textAlign:U,userAssistanceDensity:N,validators:w,value:O,virtualKeyboard:j,onMessagesCustomChanged:T,onRawValueChanged:F,onTransientValueChanged:I,onValidChanged:k,onValueChanged:H,...L},q){const B=(0,a.treatNull)(S),K=(0,a.treatNull)(V),W=(0,s.useImplicitNumberConverter)({converter:c}),G=(0,n.useImplicitNumberRangeValidator)({converter:W,max:K,min:B,numberRangeExactMessageDetail:E,numberRangeOverflowMessageDetail:M,numberRangeUnderflowMessageDetail:C}),z=(0,t.useMemo)((()=>[...G?[G]:[],...w||[]]),[G,w]),Y=(0,r.useDeferredValidators)({labelHint:f,required:D,requiredMessageDetail:P}),$=(0,o.useTranslationBundle)("@oracle/oraclejet-preact").inputNumber_converterParseError(),J=(0,u.useCallback)((e=>e?.cause===i.USER_INPUT_ERROR?{severity:"error",detail:$}:void 0),[$]),{onCommitValue:Q,formatValue:X,parseValue:Z,methods:ee,textFieldProps:te,value:ae,setValue:re,displayValue:se,setDisplayValue:ne,setTransientValue:ue}=(0,a.useEditableValue)({addBusyState:q,ariaDescribedBy:L["aria-describedby"],converter:W,defaultDisplayValue:"",deferredValidators:Y,disabled:p,displayOptions:v,messagesCustom:h,onMessagesCustomChanged:T,onRawValueChanged:F,onTransientValueChanged:I,onValidChanged:k,onValueChanged:H,readonly:A,translateConverterParseError:J,validators:z,value:O}),le=void 0!==B,oe=void 0!==K,ie=(0,u.useRef)(!1),de=(0,u.useRef)(new Array),ce=(0,u.useRef)(se),pe=(0,u.useRef)((0,a.treatNull)(O));O!==ae&&(pe.current=(0,a.treatNull)(O));const[ve,me]=(0,u.useState)((0,a.treatNull)(ae)),[ye,ge]=(0,u.useState)(ae);ae!==ye&&(ge(ae),me((0,a.treatNull)(ae)),ue(ae));const[fe,be]=(0,u.useState)(!1);ce.current=se;const Ve=(0,u.useCallback)((async({value:e})=>{be(!1);const t=Z(e);if("failure"===t.result)return void me(void 0);const a=t.value;if(await Q(a)){const e=X(a);ne(e)}else me(a??void 0)}),[X,Z,Q,ne]),he=(0,u.useCallback)((({value:e})=>{ne(e??""),be(!0)}),[ne]),Se={...te,onCommit:Ve,onInput:he},Ee=(0,u.useCallback)((async(e,t)=>{if(void 0===R||ie.current)return;const a=ce.current||"0",r=Z(a);if("failure"===r.result)return;const s=r.value;let n;if(void 0!==e){const t="increase"===e?R:-1*R;n=(0,l.determineSteppedValue)(t,R,s,pe.current,K,B)}else n=s;ie.current=!0;const u=X(n);ne(u),ce.current=u;const o=await Q(n,t),i=t&&o;!1===t&&o&&ue(n),i||me(n),ie.current=!1}),[X,K,B,Z,Q,ne,ue,R]),Me=(0,u.useCallback)((async e=>{if(await Ee(e,!0),de.current.length>0){const e=de.current.shift();Me(e)}}),[Ee]),Ce=(0,u.useCallback)((async({direction:e})=>{ie.current?de.current.push(e):Me(e)}),[Me]),_e=(0,u.useCallback)((async({direction:e})=>{de.current=[],Ee(e,!1)}),[Ee]),Ae=(0,u.useCallback)((async()=>{const e=Z(ce.current);"failure"!==e.result&&await Q(e.value)}),[Q,Z]),De=(0,u.useRef)(),Pe=(0,u.useRef)(),Re=(0,u.useRef)(),xe=(0,u.useRef)();let Ue;fe!==Re.current||se!==Pe.current||ve!==De.current?(Ue=function(e,t,a,r){if(!e)return""!==t?t:void 0;let s;a&&(s=r(a));return""===s||null===s?void 0:s}(fe,se,ve,X),Re.current=fe,Pe.current=se,De.current=ve,xe.current=Ue):Ue=xe.current;const Ne="auto"===j?(0,a.getVirtualKeyboardHintFromConverter)(W):j;return{value:ae,setValue:re,methods:ee,inputNumberProps:{"aria-valuemax":K,"aria-valuemin":B,"aria-valuenow":ve??void 0,"aria-valuetext":Ue,autoComplete:e,autoFocus:d,hasSteppers:void 0!==R&&R>0,isDisabled:p,isReadonly:A,isRequired:D,isRequiredShown:D&&("compact"===N||void 0===(0,a.treatNull)(ae)),label:f,labelEdge:g,labelStartWidth:b,stepperVariant:x,onSpin:R?_e:void 0,onSpinComplete:R?Ae:void 0,onStep:R?Ce:void 0,placeholder:_,prefix:m,suffix:y,isStepDownDisabled:p||le&&(void 0!==ve&&ve<=B||""===se&&0===B),isStepUpDisabled:p||oe&&(void 0!==ve&&ve>=K||""===se&&0===K),textAlign:U,userAssistanceDensity:N,virtualKeyboard:Ne,...Se}}}})),define("oj-c/input-number/input-number",["require","exports","preact/jsx-runtime","@oracle/oraclejet-preact/translationBundle","@oracle/oraclejet-preact/hooks/UNSAFE_useFormContext","oj-c/hooks/UNSAFE_useMergedFormContext/useMergedFormContext","@oracle/oraclejet-preact/hooks/UNSAFE_useFormVariantContext","@oracle/oraclejet-preact/hooks/UNSAFE_useTabbableMode","@oracle/oraclejet-preact/UNSAFE_NumberInputText","oj-c/editable-value/UNSAFE_useAssistiveText/useAssistiveText","ojs/ojcontext","ojs/ojvcomponent","preact/compat","preact/hooks","./useNumberInputTextPreact","@oracle/oraclejet-preact/utils/UNSAFE_styles/Layout","css!oj-c/input-number/input-number-styles.css"],(function(require,e,t,a,r,s,n,u,l,o,i,d,c,p,v,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputNumber=void 0;const y={converterHint:"display",messages:"display",validatorHint:"display"},g={instruction:""},f={definition:"",source:""},b=[],V=[];e.InputNumber=(0,d.registerCustomElement)("oj-c-input-number",(0,c.forwardRef)((({autocomplete:e="on",columnSpan:a=1,converter:u=null,containerReadonly:c,disabled:h=!1,displayOptions:S=y,help:E=g,helpHints:M=f,id:C,labelWrapping:_,messagesCustom:A=b,readonly:D,required:P=!1,stepperVariant:R="directional",userAssistanceDensity:x,validators:U=V,virtualKeyboard:N="auto",value:w=null,...O},j)=>{const T=(0,p.useRef)(),F=(0,p.useRef)(),I=(0,p.useCallback)(((e="InputNumber: busyState")=>T.current?i.getContext(T.current).getBusyContext().addBusyState({description:`oj-c-input-number id=${C} is ${e}`}):()=>{}),[C]),{containerProps:k,uadValue:H,readonlyValue:L}=(0,s.useMergedFormContext)({propContainerReadonly:c,propLabelWrapping:_,propReadonly:D,propUserAssistanceDensity:x}),{inputNumberProps:q,methods:B}=(0,v.useNumberInputTextPreact)({autocomplete:e,converter:u,disabled:h,displayOptions:S,messagesCustom:A,readonly:L,required:P,stepperVariant:R,userAssistanceDensity:H,validators:U,virtualKeyboard:N,value:w,...O},I);(0,p.useImperativeHandle)(j,(()=>({blur:()=>F.current?.blur(),focus:()=>F.current?.focus(),...B})),[B]);const K=(0,o.useAssistiveText)({displayOptions:S,help:E,helpHints:M,userAssistanceDensity:q.userAssistanceDensity,validators:U}),W=(0,n.useFormVariantContext)();if(void 0!==O.step&&O.step<0)throw new Error("step must be a positive number");if(null!=O.min&&null!=O.max&&O.max<O.min)throw new Error("max cannot be less than min");return(0,t.jsx)(d.Root,{id:C,ref:T,class:m.layoutSpanStyles.layoutSpanColumn[a],children:(0,t.jsx)(r.FormContext.Provider,{value:k,children:(0,t.jsx)(l.NumberInputText,{ref:F,...K,...q,variant:W})})})})),"InputNumber",{properties:{autocomplete:{type:"string"},columnSpan:{type:"number"},containerReadonly:{type:"boolean",binding:{consume:{name:"containerReadonly"}}},converter:{type:"object|null"},disabled:{type:"boolean"},displayOptions:{type:"object",properties:{converterHint:{type:"string",enumValues:["none","display"]},messages:{type:"string",enumValues:["none","display"]},validatorHint:{type:"string",enumValues:["none","display"]}}},help:{type:"object",properties:{instruction:{type:"string"}}},helpHints:{type:"object",properties:{definition:{type:"string"},source:{type:"string"},sourceText:{type:"string"}}},inputPrefix:{type:"string"},inputSuffix:{type:"string"},labelEdge:{type:"string",enumValues:["none","start","top","inside"],binding:{consume:{name:"containerLabelEdge"}}},labelHint:{type:"string"},labelStartWidth:{type:"number|string",binding:{consume:{name:"labelWidth"}}},labelWrapping:{type:"string",enumValues:["truncate","wrap"],binding:{consume:{name:"labelWrapping"}}},max:{type:"number|null"},min:{type:"number|null"},messagesCustom:{type:"Array<object>",writeback:!0},numberRangeExactMessageDetail:{type:"string"},numberRangeOverflowMessageDetail:{type:"string"},numberRangeUnderflowMessageDetail:{type:"string"},placeholder:{type:"string"},readonly:{type:"boolean",binding:{consume:{name:"containerReadonly"}}},required:{type:"boolean"},requiredMessageDetail:{type:"string"},step:{type:"number"},stepperVariant:{type:"string",enumValues:["directional","quantitative"]},textAlign:{type:"string",enumValues:["end","start","right"]},userAssistanceDensity:{type:"string",enumValues:["compact","reflow","efficient"],binding:{consume:{name:"containerUserAssistanceDensity"}}},validators:{type:"Array<object>|null"},value:{type:"number|null",writeback:!0},virtualKeyboard:{type:"string",enumValues:["number","auto","text"]},rawValue:{type:"string",readOnly:!0,writeback:!0},transientValue:{type:"number|null",readOnly:!0,writeback:!0},valid:{type:"string",enumValues:["pending","valid","invalidHidden","invalidShown"],readOnly:!0,writeback:!0}},extension:{_WRITEBACK_PROPS:["messagesCustom","rawValue","transientValue","valid","value"],_READ_ONLY_PROPS:["rawValue","transientValue","valid"],_OBSERVED_GLOBAL_PROPS:["aria-describedby","id","autofocus"]},methods:{blur:{},focus:{},showMessages:{},reset:{},validate:{}}},{autocomplete:"on",columnSpan:1,converter:null,disabled:!1,displayOptions:{converterHint:"display",messages:"display",validatorHint:"display"},help:{instruction:""},helpHints:{definition:"",source:""},messagesCustom:[],required:!1,stepperVariant:"directional",validators:[],virtualKeyboard:"auto",value:null},{"@oracle/oraclejet-preact":a.default},{consume:[n.FormVariantContext,u.TabbableModeContext]})})),define("oj-c/input-number",["require","exports","oj-c/input-number/input-number"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputNumber=void 0,Object.defineProperty(e,"InputNumber",{enumerable:!0,get:function(){return t.InputNumber}})}));
//# sourceMappingURL=input-number.js.map