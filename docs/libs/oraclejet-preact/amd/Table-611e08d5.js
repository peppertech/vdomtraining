define(['exports', 'preact/jsx-runtime', 'preact/hooks', 'preact/compat', './classNames-08d99695', './useId-c9578d26', './TabbableModeContext-a9c97640', './useUser-85c781ea', 'preact', './LoadMoreCollection-a6adbc3f', './useTranslationBundle-516b1b83', './PRIVATE_Table/themes/Table.css', './dimensions-60420dbb', './mergeInterpolations-9ede4cf7', './Selector-039f7481', './PRIVATE_Table/themes/TableRowStyles.css', './keys-cc1cb01d', './clientHints-030d25aa', './PRIVATE_Table/themes/TableCellStyles.css', './PRIVATE_Table/themes/TableFooterCellStyles.css', './PRIVATE_Table/themes/TableHeaderCellStyles.css', './collectionUtils-6740111c', './useInteractionStyle-726087e0', './PRIVATE_Table/themes/redwood/TableNoDataTheme', './useComponentTheme-5aa41a8f', './SelectorAll-53efae22', './ChevronUp-affd8a52', './ChevronUpDown-1d13c6b5', './ChevronDown-62d49b8e', './EmbeddedIconButton-b2a0520e', './FocusTracker-23469a5b', './useCollectionInteractionContext-173bc431', './mergeProps-bcfa6a92', './useColorScheme-10dc88de', './useScale-37d42c9d', './useTooltipControlled-fb57eb02', './tooltipUtils-3b34c2bc', './tabbableUtils-3f80fcf5', './textSelectionUtils-06c7855d', './PRIVATE_Table/themes/redwood/TableTheme', './useResizeObserver-c63865cc', './useTestId-3a316499'], (function(e,t,l,n,o,r,a,i,s,c,u,d,y,h,f,g,p,b,S,m,C,v,w,R,k,K,E,x,P,T,I,j,H,A,M,D,B,L,F,z,W,N){"use strict";function $({tableId:e,isRendered:l,columnWidthsArray:n}){const o=e=>null==e?"":`width:${e}px;`;return l?t.jsx("colgroup",{children:n.map((l=>t.jsx("col",{style:o(l),"data-oj-table-col":e})))}):null}const O=Array.from(["height","width"],(e=>y.dimensionInterpolations[e])),V=[...Object.values(O)],q=h.mergeInterpolations(V);function G({...e}){const l=o.classNames([d.tableSkeletonStyles.bar]),n=q({width:"100%",...e});return t.jsx("div",{style:n,class:l})}function X({tableId:e,colspan:l,hasTabIndex:n,isShowFocusRing:r,isPendingLayout:a=!1,isLoadMore:i=!1}){const s=u.useTranslationBundle("@oracle/oraclejet-preact"),y=[d.tableSkeletonStyles.cell];r&&y.push(d.tableSkeletonStyles.focus);const h=o.classNames(y),f=o.classNames([d.tableSkeletonStyles.innerCell]),g=o.classNames([d.tableSkeletonStyles.row,d.tableSkeletonStyles.rowHeight]);let p,b;const S=t.jsx("div",{style:"width:1px;height:0px;overflow:hidden;",children:s.collection_loading()});return a?(p=o.classNames([d.tableSkeletonStyles.row,d.tableSkeletonStyles.headerHeight]),b=o.classNames([d.tableSkeletonStyles.row,d.tableSkeletonStyles.rowHeightFirst])):(b=g,p=i?g:o.classNames([d.tableSkeletonStyles.row,d.tableSkeletonStyles.rowHeightFirst])),t.jsx("tr",{class:c.LOADMORE_STYLE_CLASS,role:"row",children:t.jsx("td",{class:h,colSpan:l,role:"gridcell",tabIndex:n?0:-1,"data-oj-cell-type":a?"pending":i?"loadMore":"loading",...a?{"data-oj-table-pending-cell":e}:i?{"data-oj-table-load-more-cell":e}:{"data-oj-table-loading-cell":e},"data-oj-table-focusable":e,children:t.jsxs("div",{class:f,children:[S,[...Array(i?3:25)].map(((e,l)=>t.jsx("div",{class:0===l?p:1===l?b:g,children:t.jsx(G,{height:"4x"})})))]})})})}const Y=(e,t,l,n,o,r,a,i,s,c,u,d,y,h,f,g,p,b,m,C,v,w,R)=>{const k=w?S.tableHighContrastCellStyles:S.tableCellStyles,K=[k.base],E="disabled"===R,x=R instanceof Object,P=!(E||x&&"disabled"===R?.bottom),T=!(E||x&&"disabled"===R?.end),I=!(E||x&&"disabled"===R?.start),j=!(E||x&&"disabled"===R?.top);return"start"===d?K.push(k.stickyStartColumn):"end"===d&&K.push(k.stickyEndColumn),m?(K.push(k.stickyEdgeStart),v?K.push(k.stickyEdgeLeft):K.push(k.stickyEdgeRight)):C&&(K.push(k.stickyEdgeEnd),v?K.push(k.stickyEdgeRight):K.push(k.stickyEdgeLeft)),y&&(g?K.push(k.active):p?K.push(k.hover):b&&K.push(k.pseudoHover)),"highlight"===f&&K.push(k.rowHighlight),u&&K.push(k.focused),a&&K.push(k.rowSelected),h&&(a||i)?(K.push(k.horizontalSelectedGridTop),j?K.push(k.selectedBorderTopPadding):K.push(k.selectedBorderTopNoPadding)):!l&&r?(K.push(k.horizontalGridTop),j?K.push(k.borderTopPadding):K.push(k.borderTopNoPadding)):j?K.push(k.topSpacerPadding):K.push(k.topSpacerNoPadding),n?(K.push(k.lastRow),h&&a?(K.push(k.horizontalSelectedGridBottom),P?K.push(k.selectedBorderBottomPadding):K.push(k.selectedBorderBottomNoPadding)):r?(K.push(k.horizontalGridBottom),P?K.push(k.borderBottomPadding):K.push(k.borderBottomNoPadding)):P?K.push(k.bottomSpacerPadding):K.push(k.bottomSpacerNoPadding)):(K.push(k.notLastRow),P?K.push(k.bottomPadding):K.push(k.bottomNoPadding)),s?(K.push(k.columnSelected),I?K.push(k.selectedBorderStartPadding):K.push(k.selectedBorderStartNoPadding),t?(K.push(k.verticalSelectedGridEnd),T?K.push(k.selectedBorderEndPadding):K.push(k.selectedBorderEndNoPadding)):T?K.push(k.endPadding):K.push(k.endNoPadding)):(c?(K.push(k.verticalSelectedGridStart),I?K.push(k.selectedBorderStartPadding):K.push(k.selectedBorderStartNoPadding)):!e&&o?(K.push(k.verticalGridStart),I?K.push(k.borderStartPadding):K.push(k.borderStartNoPadding)):I?K.push(k.startSpacerPadding):K.push(k.startSpacerNoPadding),t?T?K.push(k.endSpacerPadding):K.push(k.endSpacerNoPadding):T?K.push(k.endPadding):K.push(k.endNoPadding)),K},_=(e,t,l,n,o,r,a,i,s,c,u,d,y,h,f,g,p)=>{let b,S,v,w,R;e?(b=g?C.tableHighContrastHeaderCellStyles:C.tableHeaderCellStyles,S=g?C.headerHighContrastPreviousBorderStart:C.headerPreviousBorderStart,v=g?C.headerHighContrastPreviousBorderStartNoPadding:C.headerPreviousBorderStartNoPadding,w=g?C.headerHighContrastPreviousPseudoHoverBorderStart:C.headerPreviousPseudoHoverBorderStart,R=g?C.headerHighContrastPreviousPseudoHoverBorderStartNoPadding:C.headerPreviousPseudoHoverBorderStartNoPadding):(b=g?m.tableHighContrastFooterCellStyles:m.tableFooterCellStyles,S=g?m.footerHighContrastPreviousBorderStart:m.footerPreviousBorderStart,v=g?m.footerHighContrastPreviousBorderStartNoPadding:m.footerPreviousBorderStartNoPadding,w=g?m.footerHighContrastPreviousPseudoHoverBorderStart:m.footerPreviousPseudoHoverBorderStart,R=g?m.footerHighContrastPreviousPseudoHoverBorderStartNoPadding:m.footerPreviousPseudoHoverBorderStartNoPadding);const k=[b.base],K="disabled"===p,E=p instanceof Object,x=!(K||E&&"disabled"===p?.bottom),P=!(K||E&&"disabled"===p?.end),T=!(K||E&&"disabled"===p?.start),I=!(K||E&&"disabled"===p?.top);return x?k.push(b.bottomPadding):k.push(b.bottomNoPadding),I?k.push(b.topPadding):k.push(b.topNoPadding),"start"===d?k.push(b.stickyStartColumn):"end"===d&&k.push(b.stickyEndColumn),y?(k.push(b.stickyEdgeStart),f?k.push(b.stickyEdgeLeft):k.push(b.stickyEdgeRight)):h&&(k.push(b.stickyEdgeEnd),f?k.push(b.stickyEdgeRight):k.push(b.stickyEdgeLeft)),i?(k.push(b.selected),T?k.push(b.selectedBorderStartPadding):k.push(b.selectedBorderStartNoPadding),r?(k.push(b.verticalSelectedGridEnd),P?k.push(b.selectedBorderEndPadding):k.push(b.selectedBorderEndNoPadding)):P?k.push(b.endPadding):k.push(b.endNoPadding)):(s?(k.push(b.verticalSelectedGridStart),T?k.push(b.selectedBorderStartPadding):k.push(b.selectedBorderStartNoPadding)):!o&&a?(k.push(b.verticalGridStart),T?k.push(b.borderStartPadding):k.push(b.borderStartNoPadding)):T?(k.push(b.startSpacerPadding),k.push(S),k.push(w)):(k.push(b.startSpacerNoPadding),k.push(v),k.push(R)),r?P?k.push(b.endSpacerPadding):k.push(b.endSpacerNoPadding):P?k.push(b.endPadding):k.push(b.endNoPadding)),u&&k.push(b.focused),c&&(t?i?k.push(b.activeSelected):(k.push(b.active),s||a&&!o||(T?k.push(b.activeBorderStart):k.push(b.activeBorderStartNoPadding)),r&&(P?k.push(b.activeBorderEnd):k.push(b.activeBorderEndNoPadding))):l?i?k.push(b.hoverSelected):(k.push(b.hover),s||a&&!o||(T?k.push(b.hoverBorderStart):k.push(b.hoverBorderStartNoPadding)),r&&(P?k.push(b.hoverBorderEnd):k.push(b.hoverBorderEndNoPadding))):n&&(i?k.push(b.pseudoHoverSelected):(k.push(b.pseudoHover),s||a&&!o||(T?k.push(b.pseudoHoverBorderStart):k.push(b.pseudoHoverBorderStartNoPadding)),r&&(P?k.push(b.pseudoHoverBorderEnd):k.push(b.pseudoHoverBorderEndNoPadding))))),k},U=e=>e.dataset.ojCellType,J=e=>"number"===e.dataset.ojKeyType?Number(e.dataset.ojKey):e.dataset.ojKey,Q=(e,t,l)=>{const n=e.querySelectorAll(`[data-oj-table-data-row='${t}']`);if(n.length>l)return J(n[l])},Z=(e,t,l)=>{const n=e.querySelectorAll(`[data-oj-table-data-row='${t}']`),o=Array.prototype.indexOf.call(n,l);if(o>-1)return o};const ee=e=>e.dataset.ojColumnKey,te=(e,t,l,n)=>{const o=e.querySelectorAll(n?`[data-oj-table-header-cell='${t}']`:`[data-oj-table-footer-cell='${t}']`),r=Array.prototype.indexOf.call(o,l);if(r>-1)return r};function le(e,t,l,n,o){const r=null!=n?n:`[data-oj-table-focusable='${t}']`,a=o?e.parentElement:e;if(null!=a){const e=a.closest(r);if(null!=e){const n=U(e);if("data"===n)return{rowKey:v.keyExtractor(e,`[data-oj-table-data-row='${t}']`),columnKey:ee(e),type:n};if("header"===n||"footer"===n)return{columnKey:ee(e),type:n};if("noData"===n||"pending"===n)return{type:n};if("loading"===n||"loadMore"===n){const e=se(l,!0);if(null!=e)return{columnKey:e,type:n}}}}}function ne(e,t,l){if("header"===l.type){const n=e.querySelectorAll(`[data-oj-table-header-cell='${t}']`);for(const e of n)if(l.columnKey===ee(e))return e}else if("footer"===l.type){const n=e.querySelectorAll(`[data-oj-table-footer-cell='${t}']`);for(const e of n)if(l.columnKey===ee(e))return e}else if("data"===l.type){const n=e.querySelectorAll(`[data-oj-table-data-row='${t}']`);for(const e of n)if(l.rowKey===J(e)){const n=e.querySelectorAll(`[data-oj-table-focusable='${t}']`);for(const e of n)if(l.columnKey===ee(e))return e}}else{if("noData"===l.type)return e.querySelector(`[data-oj-table-nodata-cell='${t}']`);if("pending"===l.type)return e.querySelector(`[data-oj-table-pending-cell='${t}']`);if("loading"===l.type)return e.querySelector(`[data-oj-table-loading-cell='${t}']`);if("loadMore"===l.type)return e.querySelector(`[data-oj-table-load-more-cell='${t}']`)}}const oe=(e,t)=>{const l=e.querySelector(`[data-oj-table-header-row='${t}']`);return null!=l?l.getBoundingClientRect().height:0},re=(e,t)=>{const l=e.querySelector(`[data-oj-table-footer-row='${t}']`);return null!=l?l.getBoundingClientRect().height:0},ae=(e,t)=>{const l=e.querySelector(`[data-oj-table-data-row='${t}']`);if(null!=l)return J(l)},ie=(e,t)=>{const l=e.querySelectorAll(`[data-oj-table-data-row='${t}']`),n=l.length;if(n>0)return J(l[n-1])},se=(e,t)=>{if(e.length>0)return t?e[0].key:e[e.length-1].key},ce=(e,t)=>null!=((e,t)=>e.querySelector(`[data-oj-table-nodata-cell='${t}']`))(e,t),ue=(e,t)=>e.querySelectorAll(`[data-oj-table-footer-row='${t}']`).length>0,de=e=>{if("default"!==e.getAttribute("data-oj-renderer"))return!1;const t=new Range;t.selectNodeContents(e);const l=t.getBoundingClientRect().width,n=getComputedStyle(e),o=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),r=parseFloat(n.borderLeft)+parseFloat(n.borderRight);return l-(e.getBoundingClientRect().width-o-r)>.1};const ye=(e,t,l,n)=>{const o=t.relatedTarget;if(null!=o&&null!=o.closest(`#${n}`)){const l=e.getBoundingClientRect();if(!(t.clientX<l.left||t.clientX>l.right||t.clientY<l.top||t.clientY>l.bottom))return}l()},he={onPointerEnter:e=>{e.target.classList.add(d.preventBrowserTooltipStyle)},onPointerLeave:e=>{e.target.classList.remove(d.preventBrowserTooltipStyle)}};function fe({rowData:e,field:t}){return null!=t?String(e[t]):void 0}function ge({tableId:e,rowData:l,field:n,columnKey:a,columnIndex:i,rowKey:s,rowIndex:c,isFinalRowIndex:u,isFinalColumnIndex:d,hasVerticalGridlines:y,hasHorizontalGridlines:h,isRowSelected:f,isPreviousRowSelected:g,isColumnSelected:p,isPreviousColumnSelected:S,isShowFocusRing:m,hasTabIndex:C,isTabbableMode:v,isRowHeader:w,stickyColumn:R="none",renderer:k=fe,selectorRenderer:K,isRowSelectionEnabled:E,isRowSingleSelection:x,variant:P,applyActiveStyle:T,applyHoverStyle:I,applyPseudoHoverStyle:j,isStickyStartEdge:H,isStickyEndEdge:A,isRtl:M,isHighContrast:D,padding:B}){const L=b.getClientHints().browser,F=k!==fe,z="function"==typeof B?B({key:s,data:l}):B,W=o.classNames(Y(0===i,d,0===c,u,y,h,f,g,p,S,m,R,E,x,P,T,I,j,H,A,M,D,z)),N={rowData:l,rowKey:s,field:n,columnKey:a,selector:K,isTabbable:v};return t.jsx("td",{"aria-colindex":i+1,class:W,id:r.useId(),tabIndex:C?0:-1,role:w?"rowheader":"gridcell","data-oj-cell-type":"data","data-oj-column-key":a,"data-oj-renderer":F?"custom":"default","data-oj-table-focusable":e,"data-oj-table-data-cell":e,...F||"safari"!==L?{}:he,...p?{"aria-selected":!0}:{},children:k(N)})}const pe=n.memo((function({tableId:e,rowKey:l,rowData:n,rowIndex:r,isFinalRow:a,columnsArray:i,rowHeaderColumnKeys:s,hasVerticalGridlines:c,hasHorizontalGridlines:d,isSelected:y,isPreviousSelected:h,isRowSelectionEnabled:b,isSingleRowSelectionEnabled:S,selectedRowKeys:m={all:!1,keys:new Set},isShowFocusRing:C,activeColumnKey:v,isTabbableMode:R,selectedColumnKeys:k={all:!1,keys:new Set},variant:K,disabledInteractionKeys:E,onSelectionChange:x,startStickyEdge:P,endStickyEdge:T,isRtl:I,isHighContrast:j}){const H=u.useTranslationBundle("@oracle/oraclejet-preact"),{interactionProps:A,applyActiveStyle:M,applyHoverStyle:D,applyPseudoHoverStyle:B}=w.useInteractionStyle({disabledKeys:E}),L=j?g.tableHighContrastRowStyles:g.tableRowStyles,F=[L.base,a?L.lastRowHeight:L.rowHeight],z=o.classNames(F),W=(r+2).toString(),N=e=>{null!=x&&x({value:{row:e.value,column:{all:!1,keys:new Set}},target:e.target},!1)},$=b&&!S?()=>t.jsx(f.Selector,{"aria-label":H.collection_selectRow({ROW_NAME:W}),onChange:N,rowKey:l,selectedKeys:m}):void 0;let O=!1;return t.jsx("tr",{"aria-rowindex":r+2,class:z,role:"row","data-oj-key":l,"data-oj-table-data-row":e,...b?y?{"aria-selected":!0}:{"aria-selected":!1}:{},..."number"==typeof l&&{"data-oj-key-type":"number"},...b&&A,children:i.map(((o,u)=>{const f=o.key,g=p.containsKey(k,f),m=f===v,w=m&&!R,E={tableId:e,rowData:n,field:o.value.field,stickyColumn:o.value.stickyEdge,columnKey:f,columnIndex:u,rowKey:l,rowIndex:r,isFinalRowIndex:a,isFinalColumnIndex:u===i.length-1,hasVerticalGridlines:c,hasHorizontalGridlines:d,isRowSelected:y,isPreviousRowSelected:h,isColumnSelected:g,isPreviousColumnSelected:O,isShowFocusRing:C&&m,hasTabIndex:w,isTabbableMode:R,isRowHeader:s.has(o.key),renderer:o.value.renderer,selectorRenderer:$,isRowSelectionEnabled:b,variant:K,isRowSingleSelection:S,applyActiveStyle:M,applyHoverStyle:D,applyPseudoHoverStyle:B,isStickyStartEdge:u===P,isStickyEndEdge:u===T,isRtl:I,isHighContrast:j,padding:o.value.padding};return O=g,t.jsx(ge,{...E})}))})}),((e,t)=>{return!(!e||!t)&&(e.tableId===t.tableId&&e.rowKey===t.rowKey&&e.rowData===t.rowData&&e.rowIndex===t.rowIndex&&e.isFinalRow===t.isFinalRow&&((e,t)=>{if(e.length===t.length){for(let l=0;l<e.length;l++)if(e[l].key!==t[l].key||e[l].value!==t[l].value)return!1;return!0}return!1})(e.columnsArray,t.columnsArray)&&e.hasHorizontalGridlines===t.hasHorizontalGridlines&&e.hasVerticalGridlines===t.hasVerticalGridlines&&(l=e.rowHeaderColumnKeys,n=t.rowHeaderColumnKeys,null==l?null==n:null!=n&&l.size===n.size&&[...l].every((e=>n.has(e))))&&e.isSelected===t.isSelected&&e.isPreviousSelected===t.isPreviousSelected&&e.isRowSelectionEnabled===t.isRowSelectionEnabled&&e.isSingleRowSelectionEnabled===t.isSingleRowSelectionEnabled&&(!(e.isRowSelectionEnabled&&!e.isSingleRowSelectionEnabled)||p.isSameKey(e.selectedRowKeys,t.selectedRowKeys))&&p.isSameKey(e.selectedColumnKeys,t.selectedColumnKeys)&&e.isShowFocusRing===t.isShowFocusRing&&e.activeColumnKey===t.activeColumnKey&&e.isTabbableMode===t.isTabbableMode&&e.variant===t.variant&&e.onSelectionChange===t.onSelectionChange&&e.startStickyEdge===t.startStickyEdge&&e.endStickyEdge===t.endStickyEdge&&e.isRtl===t.isRtl&&e.isHighContrast===t.isHighContrast&&e.disabledInteractionKeys===t.disabledInteractionKeys);var l,n}));function be({rootRef:e,tableId:n,columnsCount:a,isShowFocusRing:i,hasTabIndex:s,isTabbableMode:c,ariaRowIndex:d,renderer:y}){const h=b.getClientHints().browser,f=u.useTranslationBundle("@oracle/oraclejet-preact"),p=o.classNames([g.tableRowStyles.base]),{classes:S}=k.useComponentTheme(R.TableNoDataRedwoodTheme,{defaultRenderer:null==y?"isDefaultRenderer":"notDefaultRenderer",showFocusRing:i?"isShowFocusRing":"notShowFocusRing"}),m=o.classNames([S]);const C=null!=y?y:function(){return f.collection_noData()};return l.useLayoutEffect((()=>{if("firefox"===h){const t=e.current;if(null!=t){const e=t.querySelector(`[data-oj-table-body='${n}']`),l=t.querySelector(`[data-oj-table-nodata-cell='${n}']`);null!=e&&null!=l&&(l.style.height="",l.style.height=`${e.getBoundingClientRect().height}px`)}}})),t.jsx("tr",{"aria-rowindex":d,class:p,role:"row",children:t.jsx("td",{"aria-colindex":1,class:m,style:"firefox"!==h?"height: 100%;":void 0,id:r.useId(),tabIndex:s?0:-1,role:"gridcell",colSpan:a,"data-oj-cell-type":"noData","data-oj-table-focusable":n,"data-oj-table-nodata-cell":n,children:C({isTabbable:c})})})}function Se({rootRef:e,tableId:n,isValidRender:r,getAccessibleRowHeaders:a,tableData:i,columnsArray:u,hasVerticalGridlines:y,hasHorizontalGridlines:h,isShowFocusRing:f,isTabbableMode:g,hasMore:S,onLoadMore:m,viewportConfig:C,activeCell:v,currentRowKey:w,currentRowVariant:R,selected:k,isRowSelectionEnabled:K,isSingleRowSelectionEnabled:E,disabledInteractionKeys:x,onSelectionChange:P,noDataRenderer:T,startStickyEdge:I,endStickyEdge:j,isRtl:H,isHighContrast:A}){const M=b.getClientHints().browser,D=o.classNames([d.collectionStyles.base]),B=l.useCallback((e=>({index:e.index,data:e.data.data,key:e.data.metadata})),[]);let L=!1;const F=0===i.length&&S,z=0===i.length&&!S;return t.jsx("tbody",{class:D,role:"presentation","data-oj-table-body":n,children:z||!r?t.jsx(be,{...(()=>{const t="noData"===v?.type,l=t&&!g;return{rootRef:e,tableId:n,columnsCount:u.length,isShowFocusRing:f&&t,hasTabIndex:l,isTabbableMode:g,ariaRowIndex:r?2:1,renderer:r?T:void 0}})()}):t.jsxs(s.Fragment,{children:[t.jsx(c.LoadMoreCollection,{data:i,loadMoreIndicator:t.jsx(X,{tableId:n,hasTabIndex:F?"loading"===v?.type:"loadMore"===v?.type,colspan:u.length,isLoadMore:!F,isShowFocusRing:f&&(F?"loading"===v?.type:"loadMore"===v?.type)}),hasMore:S,onLoadMore:m,viewportConfig:C,children:e=>{const l=B(e),o=l.key,r=v?.rowKey===o,s=r?v.columnKey:void 0,c=p.containsKey(k.row,o),d={tableId:n,columnsArray:u,rowHeaderColumnKeys:a(l),hasVerticalGridlines:y,hasHorizontalGridlines:h,isSelected:c,isPreviousSelected:L,disabledInteractionKeys:x,onSelectionChange:P,isRowSelectionEnabled:K,isSingleRowSelectionEnabled:E,variant:w===o?R:"none",isShowFocusRing:f&&r,activeColumnKey:s,isTabbableMode:g,selectedRowKeys:k.row,selectedColumnKeys:k.column,rowIndex:l.index,rowKey:o,rowData:l.data,isFinalRow:l.index===i.length-1,startStickyEdge:I,endStickyEdge:j,isRtl:H,isHighContrast:A};return L=c,t.jsx(pe,{...d})}}),t.jsx("tr",{style:"firefox"!==M?"height: 100%;":void 0,role:"presentation"})]})})}function me({tableId:e,columnKey:n,columnIndex:a,isFinalColumnIndex:i,hasVerticalGridlines:s,isSelected:c,isPreviousSelected:y,isColumnSelectable:h,isRowSelectionEnabled:f,selectedRowKeys:g={all:!1,keys:new Set},isShowFocusRing:S,hasTabIndex:m,isTabbableMode:v,headerText:R,stickyColumn:k="none",renderer:I,disabledInteractionKeys:j,onSelectionChange:H,sortable:A="disabled",sortDirection:M,onSortCriterionChange:D,isStickyStartEdge:B,isStickyEndEdge:L,isRtl:F,isHighContrast:z,padding:W}){const N=b.getClientHints().browser,$=null!=I,O=u.useTranslationBundle("@oracle/oraclejet-preact"),{interactionProps:V,applyActiveStyle:q,applyHoverStyle:G,applyPseudoHoverStyle:X}=w.useInteractionStyle({disabledKeys:j}),Y=o.classNames(_(!0,q,G,X,0===a,i,s,c,y,h,S,k,B,L,F,z,W));let U;U=p.isSameKey(g,{all:!0,deletedKeys:new Set})?"all":p.isSameKey(g,{all:!1,keys:new Set})?"none":"partial";const J=e=>{null!=H&&H({value:{row:e.value,column:{all:!1,keys:new Set}},target:e.target},!1)},Q={key:n,headerText:R,sortable:A,sortDirection:M,selector:f?()=>t.jsx(K.SelectorAll,{"aria-label":O.collection_selectAllRows(),onChange:J,selected:U}):void 0,sortControl:"enabled"===A||null!=M?()=>t.jsx(T.EmbeddedIconButton,{"aria-label":"enabled"===A?O.collection_sortEnabled():O.collection_sortDisabled(),isDisabled:"enabled"!==A,onAction:Z,children:"ascending"===M?t.jsx(E.SvgChevronUp,{}):"descending"===M?t.jsx(P.SvgChevronDown,{}):t.jsx(x.SvgChevronUpDown,{})}):void 0,isTabbable:v},Z=l.useCallback((()=>{if(null!=D){D([{key:n,sortDirection:"ascending"===M?"descending":"ascending"}])}}),[n,M,D]),ee=l.useCallback((()=>null!=I?I:({headerText:e,sortControl:l})=>{const n=null!=e?t.jsx("div",{class:d.tableHeaderCellTextStyles.base,children:t.jsx("span",{class:C.tableHeaderCellStyles.defaultRendererSpan,children:e})}):void 0;return null!=l?t.jsxs("div",{class:d.tableHeaderSortContainerStyles.base,children:[n,l()]}):n}),[I]);return t.jsx("th",{"aria-colindex":a+1,...c?{"aria-selected":!0}:h?{"aria-selected":!1}:void 0,...(()=>{if("ascending"===M||"descending"===M)return{"aria-sort":M}})(),class:Y,id:r.useId(),tabIndex:m?0:-1,role:"columnheader","data-oj-cell-type":"header","data-oj-column-key":n,"data-oj-renderer":$?"custom":"default","data-oj-table-focusable":e,"data-oj-table-header-cell":e,...$||"safari"!==N?{}:he,...h&&V,children:ee()(Q)})}function Ce({tableId:e,isRendered:l,columnsArray:n,hasVerticalGridlines:r,activeKey:a,isTabbableMode:i,isShowFocusRing:s,selectedColumnKeys:c,selectedRowKeys:u,isColumnSelectionEnabled:y,isRowSelectionEnabled:h,disabledInteractionKeys:f,onSelectionChange:g,sortCriterion:b,onSortCriterionChange:S,startStickyEdge:m,endStickyEdge:C,isResizeHover:v,isRtl:w,isHighContrast:R}){const k=o.classNames([d.tableHeaderRowStyles.base]),K=o.classNames([d.tableHeaderRowContainerStyles.base]);let E=!1;return l?t.jsx("thead",{class:K,role:"presentation",children:t.jsx("tr",{"aria-rowindex":1,class:k,role:"row",style:v?"cursor: col-resize;":"","data-oj-table-header-row":e,children:n.map(((l,o)=>{const d=l.key;let v;if(null!=b)for(const e of b)if(e.key===d){v=e.sortDirection;break}const k=p.containsKey(c,d),K=d===a,x=K&&!i,P={tableId:e,hasVerticalGridlines:r,columnKey:d,columnIndex:o,isFinalColumnIndex:o===n.length-1,stickyColumn:l.value.stickyEdge,isSelected:k,isPreviousSelected:E,selectedRowKeys:u,isColumnSelectable:y&&"disabled"!==l.value.selectable,isRowSelectionEnabled:h,isShowFocusRing:s&&K,hasTabIndex:x,isTabbableMode:i,headerText:l.value.headerText,renderer:l.value.headerRenderer,disabledInteractionKeys:f,onSelectionChange:g,sortable:l.value.sortable,sortDirection:v,onSortCriterionChange:S,isStickyStartEdge:o===m,isStickyEndEdge:o===C,isRtl:w,isHighContrast:R,padding:l.value.headerPadding};return E=k,t.jsx(me,{...P})}))})}):null}function ve({footerText:e}){return null!=e?e:void 0}function we({tableId:e,columnKey:l,columnIndex:n,isFinalColumnIndex:a,hasVerticalGridlines:i,isSelected:s,isPreviousSelected:c,isColumnSelectable:u,isShowFocusRing:d,hasTabIndex:y,isTabbableMode:h,stickyColumn:f="none",footerText:g,renderer:p=ve,disabledInteractionKeys:S,isStickyStartEdge:m,isStickyEndEdge:C,isRtl:v,isHighContrast:R,padding:k}){const K=b.getClientHints().browser,E=p!==ve,{interactionProps:x,applyActiveStyle:P,applyHoverStyle:T,applyPseudoHoverStyle:I}=w.useInteractionStyle({disabledKeys:S}),j=o.classNames(_(!1,P,T,I,0===n,a,i,s,c,u,d,f,m,C,v,R,k)),H={key:l,footerText:g,isTabbable:h};return t.jsx("td",{"aria-colindex":n+1,...s?{"aria-selected":!0}:u?{"aria-selected":!1}:{},class:j,id:r.useId(),tabIndex:y?0:-1,role:"gridcell","data-oj-cell-type":"footer","data-oj-column-key":l,"data-oj-renderer":E?"custom":"default","data-oj-table-focusable":e,"data-oj-table-footer-cell":e,...E||"safari"!==K?{}:he,...u&&x,children:p(H)})}function Re({tableId:e,isRendered:l,columnsArray:n,hasVerticalGridlines:r,activeKey:a,isTabbableMode:i,isShowFocusRing:s,selectedKeys:c,isColumnSelectionEnabled:u,disabledInteractionKeys:y,startStickyEdge:h,endStickyEdge:f,dataRowCount:g,isRtl:b,isHighContrast:S}){const m=o.classNames([d.tableFooterRowStyles.base]),C=o.classNames([d.tableFooterRowContainerStyles.base]);let v=!1;return l?t.jsx("tfoot",{class:C,role:"presentation",children:t.jsx("tr",{"aria-rowindex":Math.max(g,1)+2,class:m,role:"row","data-oj-table-footer-row":e,children:n.map(((l,o)=>{const d=l.key,g=p.containsKey(c,d),m=d===a,C=m&&!i,w={tableId:e,columnKey:d,columnIndex:o,isFinalColumnIndex:o===n.length-1,hasVerticalGridlines:r,stickyColumn:l.value.stickyEdge,isSelected:g,isPreviousSelected:v,isColumnSelectable:u&&"disabled"!==l.value.selectable,isShowFocusRing:s&&m,hasTabIndex:C,isTabbableMode:i,footerText:l.value.footerText,renderer:l.value.footerRenderer,disabledInteractionKeys:y,isStickyStartEdge:o===h,isStickyEndEdge:o===f,isRtl:b,isHighContrast:S,padding:l.value.footerPadding};return v=g,t.jsx(we,{...w})}))})}):null}function ke({position:e,isRtl:l}){const n=o.classNames([d.tableDragIndicatorStyles.base]);return t.jsx("div",{class:n,style:null!=e?l?`right:${e}px;cursor:col-resize;`:`left:${e}px;cursor:col-resize;`:"display:none;"})}const Ke=(e,t,l,n,o,r)=>{const a=Pe(l,n,oe(e,t),re(e,t),o),i=a.top,s=i>=0,c=a.bottom,u=c>=0;s&&u||(null==r||"inView"===r?u?Math.abs(i)>Math.abs(c)?n.scrollTop=Ee(n.scrollTop+c,!0):n.scrollTop=Ee(n.scrollTop-i,!1):s&&(Math.abs(c)>Math.abs(i)?n.scrollTop=Ee(n.scrollTop-i,!1):n.scrollTop=Ee(n.scrollTop+c,!0)):n.scrollTop="top"===r?Ee(n.scrollTop-i,!1):Ee(n.scrollTop+c,!0))},Ee=(e,t)=>t?Math.ceil(e):Math.floor(e),xe=(e,t,l,n,o,r)=>{const a=e.getBoundingClientRect(),i=t.getBoundingClientRect();return r?{left:i.left-a.left+n+o,right:a.right-i.right+l}:{left:i.left-a.left+l,right:a.right-i.right+n+o}},Pe=(e,t,l,n,o)=>{const r=e.getBoundingClientRect(),a=t.getBoundingClientRect();return{top:a.top-r.top+l,bottom:r.bottom-a.bottom+n+o}};function Te(e,t,l,n,o){const r=function(e,t,l,n){if(null!=n){let o,r=!1;if(null!=n.columnKey)r=!0,o=n.columnKey;else if(null!=n.offsetX&&null==n.x){r=!0;o=je(e,t,l).columnKey}if(r){if(null!=o){let e=0;for(let r=0;r<l.length;r++){if(t[r].key===o)return e+(null!=n.offsetX?n.offsetX:0);"start"!==t[r].value.stickyEdge&&(e+=l[r])}}}else if(null!=n.x)return n.x}return}(e,t,l,o);e.scrollLeft=null!=r?n?-r:r:0}function Ie(e,t,l,n){const o=function(e,t,l,n){if(null!=n){let o,r=!1;if(null!=n.rowKey?(r=!0,o=n.rowKey):null!=n.offsetY&&null==n.y&&(r=!0,o=He(e,t,l).rowKey),r){if(null!=o){let t=0;const r=e.querySelectorAll(`[data-oj-table-data-row='${l}']`);for(let e=0;e<r.length;e++){if(o===J(r[e]))return t+(null!=n.offsetY?n.offsetY:0);t+=r[e].getBoundingClientRect().height}}}else if(null!=n.y)return n.y}return}(e,t,l,n);t.scrollTop=null!=o?o:0}function je(e,t,l,n){const o=Math.abs(null==n?e.scrollLeft:n),r={x:o,columnKey:void 0,offsetX:void 0};let a=0;if(t.length>0&&0===o)return r.columnKey=t[0].key,r.offsetX=0,r;for(let e=0;e<t.length;e++)if("start"!==t[e].value.stickyEdge&&(a+=l[e]),o<a){r.columnKey=t[e].key,r.offsetX=l[e]+o-a;break}return r}function He(e,t,l,n){const o=Math.abs(null==n?t.scrollTop:n),r={y:o,rowKey:void 0,offsetY:void 0};let a=0;const i=e.querySelectorAll(`[data-oj-table-data-row='${l}']`);if(i.length>0&&0===o)return r.rowKey=Q(e,l,0),r.offsetY=0,r;for(let t=0;t<i.length;t++){const n=i[t].getBoundingClientRect().height;if(a+=n,o<a){r.rowKey=Q(e,l,t),r.offsetY=n+o-a;break}}return r}function Ae(e,t,l,n,o,r,a,i){if("data"===r.cell.type){const n=v.findElementByKey(e,r.cell.rowKey,`[data-oj-table-data-row='${l}']`);null!=n&&null!=r.locationY&&Ke(e,l,n,t,o.boxHeight-o.contentHeight,r.locationY)}if("data"===r.cell.type||"header"===r.cell.type||"footer"===r.cell.type){const s=ne(e,l,r.cell);null!=s&&null!=r.locationX&&function(e,t,l,n,o,r,a){const i=ee(e);let s;for(let e=0;e<l.length;e++)if(l[e].key===i){s=e;break}if(null!=s&&null!=r){let i=0,c=0;const u=Me(l,!0);for(let e=0;e<u.length;e++){const t=u[e];if(!(t<s))break;i+=r[t]}const d=Me(l,!1);for(let e=d.length-1;e>-1;e--){const t=d[e];if(!(t>s))break;c+=r[t]}const y=xe(e,t,i,c,n,o),h=y.left,f=h>=0,g=y.right,p=g>=0;if(f&&p)return;null==a||"inView"===a?f?Math.abs(g)>Math.abs(h)?t.scrollLeft=Ee(t.scrollLeft-h,!1):t.scrollLeft=Ee(t.scrollLeft+g,!0):p&&(Math.abs(h)>Math.abs(g)?t.scrollLeft=Ee(t.scrollLeft+g,!0):t.scrollLeft=Ee(t.scrollLeft-h,!1)):t.scrollLeft="start"===a?Ee(t.scrollLeft-h,!1):Ee(t.scrollLeft+g,!0)}}(s,t,n,o.boxWidth-o.contentWidth,a,i,r.locationX)}"loadMore"===r.cell.type&&(t.scrollTop=t.scrollHeight-t.clientHeight+1),"loading"===r.cell.type&&Le(t)}const Me=(e,t)=>{const l=[],n=t?"start":"end";for(let t=0;t<e.length;t++)e[t].value.stickyEdge===n&&l.push(t);return l},De=(e,t,l,n,o,r)=>{const a=r&&!l||!r&&l?"left":"right",i=`${o}px`;e.querySelectorAll(`[data-oj-table-header-cell='${t}']`)[n].style[a]=i;const s=e.querySelectorAll(`[data-oj-table-data-row='${t}']`);for(let e=0;e<s.length;e++){s[e].querySelectorAll(`[data-oj-table-data-cell='${t}']`)[n].style[a]=i}const c=e.querySelectorAll(`[data-oj-table-footer-cell='${t}']`);if(c.length>0){c[n].style[a]=i}};function Be(e,t,l,n,o,r){if(t.length>0){let a,i;const s=je(e,t,l,r);for(a=0;a<t.length;a++)if(t[a].key===s.columnKey){i=a;break}let c,u;if(s.x>=1){const e=Me(t,!0);for(a=0;a<e.length;a++){const t=e[a];if(!(t<i))break;c=t}}let d=0;const y=e.scrollWidth-e.clientWidth-s.x;if(y>=1){const e=Me(t,!1);for(let n=t.length-1;n>-1;n--)if(-1!==e.indexOf(n))u=n;else if(d+=l[n],d>y)break}n.start==c&&n.end==u||o({start:c,end:u})}}const Le=e=>{e.scrollTop=0},Fe=(e,t)=>t??{scroller:()=>e.current};function ze(e,t){return null==e?null==t:null!=t&&(e.type===t.type&&e.rowKey===t.rowKey&&("loading"===e.type||"loadMore"===e.type||"pending"===e.type||e.columnKey===t.columnKey))}function We(e,t,l,n){let o,r,a;if(null!=l.rowKey){if(o="data",r=l.rowKey,a=null!=l.columnKey?l.columnKey:null!=n?.columnKey?n.columnKey:se(t,!0),null==a)return}else if(null!=l.columnKey){if(a=l.columnKey,o=null!=l.type?l.type:null!=n?.type&&"noData"!==n.type?n.type:"header","data"===o&&(null!=n?.rowKey?r=n.rowKey:e.length>0&&(r=e[0].metadata),null==r))return}else{if(null==l.type)return;if(o=l.type,"noData"!==o){if(a=null!=n?.columnKey?n.columnKey:se(t,!0),null==a)return;if("data"===o&&(null!=n?.rowKey?r=n.rowKey:e.length>0&&(r=e[0].metadata),null==r))return}}return{type:o,rowKey:r,columnKey:a}}function Ne(e,t,l,n,o,r){if(o)return"pending"===e.type;if("header"===e.type||r&&"footer"===e.type){for(let l=0;l<t.length;l++)if(t[l].key===e.columnKey)return!0}else{if(!(l.length>0))return"loading"===e.type&&n||"noData"===e.type&&!n;if("loadMore"===e.type)return n;if("data"===e.type)for(let t=0;t<l.length;t++)if(l[t].metadata===e.rowKey)return!0}return!1}const $e=50;const Oe=0,Ve=200,qe=[" ","F2","Enter","Esc","Escape","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End","PageUp","PageDown"],Ge=[" ","F2","Enter","Esc","Escape"];function Xe({rootRef:e,scrollerRef:t,tableId:n,isRtl:o,tableData:r,hasMore:a,hasFooters:i,columnsArray:s,sizingInfoRef:c,selectionExtensionElementRef:u,cellSupportsTabbable:d,fullColumnWidths:y,currentCellOverride:h,onPersistCurrentCell:f,showTooltip:g,hideTooltip:p,isPendingLayout:b,isEmbeddedSelect:S,isDataLoaded:m}){const C=l.useRef(!1),w=l.useRef(!0);w.current=!0;const R=l.useRef(null),k=l.useRef(!1),K=l.useRef(!1),[E,x]=l.useState(!1),[P,T]=l.useState(!1),I=l.useRef(!1),j=l.useRef(null),H=l.useRef(null),[A,M]=l.useState(void 0),D=l.useRef({hasPendingCurrentCellOverride:!1,hasPendingCurrentCellOverrideScroll:!1}),B=function(e,t,l,n,o,r,a,i){if(o)return{type:"pending"};const s=se(e,!0);if(null==s)return{type:"noData"};const c={type:"header",columnKey:s},u=r?t.current.previousEmbeddedSelectCurrentCell:t.current.currentCell;if(t.current.hasPendingCurrentCellOverride||t.current.currentCellOverride!==i){if(null==i)return Ne(c,e,l,n,o,a)?c:void 0;{const t=We(l,e,i,u);if(null!=t&&Ne(t,e,l,n,o,a))return t;const r=function(e,t){return null!=e.type?e.type:null!=e.rowKey?"data":null!=t?.type&&"noData"!==t.type?t.type:"header"}(i,u);if("data"===r){if(0===l.length&&n)return{type:"loading",columnKey:u?.columnKey}}else if("noData"===r&&0===l.length&&n)return{type:"loading",columnKey:u?.columnKey}}}const d=t.current.activeCell;if(null!=d){if("loadMore"===d.type){const r=t.current.loadMoreInitialData;if(l.length>0&&l!==r){const t={type:"data",rowKey:null!=r&&l.length>r.length?l[r.length].metadata:l[l.length-1].metadata,columnKey:null!=u?.columnKey?u.columnKey:s};if(Ne(t,e,l,n,o,a))return t}else if(0===l.length)return n?{type:"loading",columnKey:u?.columnKey}:{type:"noData"}}if(Ne(d,e,l,n,o,a))return d;if("loading"===d.type){if(null!=u&&("data"===u.type||"noData"===u.type)&&Ne(u,e,l,n,o,a))return u;if(!(l.length>0))return{type:"noData"};{const t={type:"data",rowKey:l[0].metadata,columnKey:null!=u?.columnKey?u.columnKey:s};if(Ne(t,e,l,n,o,a))return t}}}if(null!=u){if(Ne(u,e,l,n,o,a))return u;if("data"===u.type){if(0===l.length&&n)return{type:"loading",columnKey:u.columnKey}}else if("noData"===u.type&&0===l.length&&n)return{type:"loading",columnKey:s}}return Ne(c,e,l,n,o,a)?c:void 0}(s,D,r,a,b,S,i,h),F=l.useMemo((()=>e=>{const t=e.value;if(!ze(D.current.activeCell,t)){if(M(t),D.current.activeCell=t,function(e){return null!=e&&("loadMore"===e.type||"loading"===e.type||"pending"===e.type)}(t))"loadMore"===t?.type&&(D.current.loadMoreInitialData=r);else{const e=t;null!=f&&f({value:e}),D.current.currentCell=e,null!=e&&(D.current.previousEmbeddedSelectCurrentCell=e),D.current.currentCellOverride=h,D.current.hasPendingCurrentCellOverride=!1,D.current.hasPendingCurrentCellOverrideScroll=!1}u.current=void 0}}),[h,r,f,u]),z=l.useCallback((()=>{K.current=!1,k.current=!1,x(!1),T(!1),p()}),[p]),W=l.useCallback(((l,r)=>{const a=e.current,i=t.current;if(null!=a&&null!=i){x(!1);const e=null!==H.current?H.current:!I.current;T(e),e&&function(e,t,l,n,o){if(o(!0),"data"===l.type||"header"===l.type||"footer"===l.type){const o=ne(e,t,l);null!=o&&de(o)&&n(l)}}(a,n,l,g,p),I.current||r||Ae(a,i,n,s,c.current,{cell:l,locationX:"inView",locationY:"inView"},o,y),F({value:l})}}),[e,t,n,s,c,o,F,y,g,p]),N=l.useCallback(((l,r,a)=>{const i=e.current,u=t.current;null!=i&&null!=u&&(x(!0),r||(T(!1),F({value:l}),I.current||a||Ae(i,u,n,s,c.current,{cell:l,locationX:"inView",locationY:"inView"},o,y)))}),[e,t,n,s,c,o,F,y]),$=l.useCallback((t=>{const l=e.current;if(null!=l){x(!1);const e=ne(l,n,t);null!=e?e.focus({preventScroll:!0}):l.focus({preventScroll:!0})}}),[e,n]),O=l.useCallback((e=>{"touch"!==e.pointerType&&(null!=j.current&&clearTimeout(j.current),I.current=!0,j.current=setTimeout((()=>{I.current=!1,P&&T(!1)}),Oe))}),[P]),V=l.useCallback((()=>{null!=j.current&&clearTimeout(j.current),I.current=!0,j.current=setTimeout((()=>{I.current=!1,P&&T(!1)}),Ve)}),[P]),q=l.useCallback((t=>{const l=e.current;if(null!=l){t.target===document.activeElement&&(H.current=P);const e=t.relatedTarget,n=null==e;C.current=n,!n&&v.getElementContainsFunc(l,!0)(e)||(z(),w.current&&(R.current=t.target))}}),[e,P,z]),G=l.useCallback((l=>{const r=e.current,a=t.current;null!=r&&null!=a&&(b?qe.indexOf(l.key)>-1&&T(!0):null!=A&&(d(A)&&("F2"===l.key?E?$(A):N(A,!0):"Esc"===l.key||"Escape"===l.key?$(A):"Enter"!==l.key||E||N(A,!0)),E||(qe.indexOf(l.key)>-1&&T(!0),Ge.indexOf(l.key)>-1&&Ae(r,a,n,s,c.current,{cell:A,locationX:"inView",locationY:"inView"},o,y))))}),[e,t,n,s,c,o,E,A,d,y,b,N,$]),X=l.useCallback((t=>{const l=e.current;null!=l&&null!=A&&v.handleEnterActionableMode(t.hasFocusWithin&&null==U(t.activeElement),L.allTabbableElements(ne(l,n,A)),(e=>{x(null!=e)}))}),[e,A,n]),Y=l.useCallback((e=>{v.handleWrapActionableFocus(!0,e.tabbableElements,(e=>{x(null!=e)}))}),[]),_=l.useCallback((e=>{v.handleWrapActionableFocus(!1,e.tabbableElements,(e=>{x(null!=e)}))}),[]);return l.useEffect((()=>{const l=e.current,a=t.current;if(null!=l&&null!=a){!function(e,t,l,n,o,r,a,i,s,c,u,d,y,h){const f=s?a.current.previousEmbeddedSelectCurrentCell:a.current.currentCell;if(a.current.hasPendingCurrentCellOverride||a.current.currentCellOverride!==y)if(null!=y){const g=We(n,o,y,f);null!=g?(i({value:g}),a.current.currentCellOverride=y,a.current.hasPendingCurrentCellOverride=!1,s?c||null==ne(e,l,g)?a.current.hasPendingCurrentCellOverrideScroll=!(!c&&u):(Ae(e,t,l,o,r.current,{cell:g,locationY:"inView"},d,h),a.current.hasPendingCurrentCellOverrideScroll=!1):a.current.hasPendingCurrentCellOverrideScroll=!1):u?(a.current.currentCellOverride=y,a.current.hasPendingCurrentCellOverride=!1,a.current.hasPendingCurrentCellOverrideScroll=!1):a.current.hasPendingCurrentCellOverride=!0}else i({value:y}),a.current.currentCellOverride=y,a.current.hasPendingCurrentCellOverride=!1,s&&Le(t),a.current.hasPendingCurrentCellOverrideScroll=!1;else a.current.hasPendingCurrentCellOverrideScroll&&(null!=a.current.currentCell?c||null==ne(e,l,a.current.currentCell)?!c&&u&&(a.current.hasPendingCurrentCellOverrideScroll=!1):(Ae(e,t,l,o,r.current,{cell:a.current.currentCell,locationY:"inView"},d,h),a.current.hasPendingCurrentCellOverrideScroll=!1):a.current.hasPendingCurrentCellOverrideScroll=!1)}(l,a,n,r,s,c,D,F,S,b,m,o,h,y);const e=R.current;R.current=null,w.current=!1;const t=L.getActiveElement(l);if(!(null==e||t!==L.getBodyElement(l)||v.getElementContainsFunc(l,!0)(e)&&L.isTabbableElement(e,!0)))return void l.focus({preventScroll:!0});if(K.current&&null!=B&&ze(A,D.current.activeCell)){const e=ne(l,n,B);null!=e&&(!E&&t!==e||E&&!v.getElementContainsFunc(e,!0)(t))&&e.focus({preventScroll:!0})}}})),{focusHandlingProps:{onPointerDown:O,onTouchEnd:V,onFocus:l=>{K.current=!0;const o=e.current,r=t.current;if(null!=o){const e=C.current||b;C.current=!1;const t=l.target;if(t===o||t===r)null!=B&&W(B,e);else{const l=le(t,n,s);null!=l&&(null!=U(t)?W(l,e):N(l,!1,e))}}null!=j.current&&(clearTimeout(j.current),j.current=null),I.current=!1,H.current=null},onBlur:q,onKeyDown:G},activeCell:A,onActiveCellChanged:F,currentCell:D.current.currentCell,currentActiveCell:B,isShowFocusRing:P,isTabbableMode:E,onStartFocusTracking:X,onFocusStartEdge:Y,onFocusEndEdge:_}}function Ye(e,t,l,n,o,r){let a,i;if("data"===r?.type){a=r.rowKey;const l=ne(e,t,r);null!=l&&(i=l.parentElement)}else a=v.keyExtractor(o,`[data-oj-table-data-row='${t}']`),null!=a&&(i=o.closest(`[data-oj-table-data-row='${t}']`));if(null!=a&&null!=i){const r=Z(e,t,i);if(null!=r){return n({context:{key:a,data:l[r].data},target:o}),!0}}return!1}function _e(e,t,l,n,o,r,a,i,s,c,u){const d=se(n,!0);if(null==d)return;let y=r;const h=r.type;if("noData"===h){const t=d;i?(y={columnKey:t,type:"header"},a({value:y})):ue(e,l)&&(y={columnKey:t,type:"footer"},a({value:y}))}else if("loading"===h)i?(y={columnKey:r.columnKey,type:"header"},a({value:y})):ue(e,l)&&(y={columnKey:r.columnKey,type:"footer"},a({value:y}));else if("loadMore"===h)if(i){const t=ie(e,l);null!=t&&(y={rowKey:t,columnKey:r.columnKey,type:"data"},a({value:y}))}else ue(e,l)&&(y={columnKey:r.columnKey,type:"footer"},a({value:y}));else if("pending"!==h)if("data"===h){const t=r.rowKey,n=v.findElementByKey(e,t,`[data-oj-table-data-row='${l}']`);if(null!=n){const t=i?n.previousElementSibling:n.nextElementSibling;if(null!=t&&t.children.length>0){const n=J(t);null!=n?(y={rowKey:n,columnKey:r.columnKey,type:"data"},a({value:y})):(y={columnKey:r.columnKey,type:"loadMore"},null!=ne(e,l,y)&&a({value:y}))}else i?(y={columnKey:r.columnKey,type:"header"},a({value:y})):ue(e,l)&&(y={columnKey:r.columnKey,type:"footer"},a({value:y}))}}else if("header"!==h||i){if("footer"===h&&i)if(ce(e,l))y={type:"noData"},a({value:y});else if(y={columnKey:r.columnKey,type:"loading"},null!=ne(e,l,y))a({value:y});else if(y={columnKey:r.columnKey,type:"loadMore"},null!=ne(e,l,y))a({value:y});else{const t=ie(e,l);null!=t?(y={rowKey:t,columnKey:r.columnKey,type:"data"},a({value:y})):(y={columnKey:r.columnKey,type:"header"},a({value:y}))}}else{const t=ae(e,l);null!=t?(y={rowKey:t,columnKey:r.columnKey,type:"data"},a({value:y})):ce(e,l)?(y={type:"noData"},a({value:y})):(y={columnKey:r.columnKey,type:"loading"},null!=ne(e,l,y)?a({value:y}):ue(e,l)&&(y={columnKey:r.columnKey,type:"footer"},a({value:y})))}ze(r,y)||c(!0),Ae(e,t,l,n,o.current,{cell:y,locationX:"inView",locationY:"inView"},s,u)}function Ue(e,t,l,n,o,r,a,i,s,c,u){if("noData"!==r.type&&"pending"!==r.type){const d=e.querySelectorAll(`[data-oj-table-data-row='${l}']`);if(d.length>0){const y=He(e,t,l),h=function(e,t,l){const n=e.querySelectorAll(`[data-oj-table-data-row='${t}']`);for(let e=0;e<n.length;e++)if(l===J(n[e]))return e}(e,l,y.rowKey);let f;if(i)f=0===y.offsetY?Math.max(h-1,0):h;else{const t=e.getBoundingClientRect(),n=o.current.boxHeight-o.current.contentHeight,r=t.bottom+re(e,l)+n;for(f=h;d.length>f+1;){f+=1;if(d[f].getBoundingClientRect().bottom>r)break}}const g=Q(e,l,f);if(null!=g){const d={rowKey:g,columnKey:r.columnKey,type:"data"};g!==r.rowKey&&a({value:d}),ze(r,d)||c(!0),Ae(e,t,l,n,o.current,{cell:d,locationX:"inView",locationY:i?"bottom":"top"},s,u)}}}}function Je(e,t,l,n,o,r,a,i,s,c,u){let d=r;const y=r.type;if("data"===y||"header"===y||"footer"===y){const e=function(e,t,l){let n=-1;const o=t.length;for(let l=0;l<o;l++)if(t[l].key===e){n=l;break}return l&&0!==n?t[n-1].key:l||n===o-1?void 0:t[n+1].key}(r.columnKey,n,i);null!=e&&("data"===y?(d={rowKey:r.rowKey,columnKey:e,type:y},a({value:d})):(d={columnKey:e,type:y},a({value:d})))}ze(r,d)||c(!0),Ae(e,t,l,n,o.current,{cell:d,locationX:"inView",locationY:"inView"},s,u)}function Qe(e,t,l,n,o,r,a,i,s,c,u,d){const y=se(n,i);if(null==y)return;let h=r;const f=r.type;if("data"===f||"header"===f||"footer"===f){const t=r.columnKey;if(s)if(ce(e,l))h={type:"noData"},a({value:h});else{const t=i?ae(e,l):ie(e,l);null!=t&&(h={rowKey:t,columnKey:y,type:"data"},a({value:h}))}else y!==t&&("data"===f?(h={rowKey:r.rowKey,columnKey:y,type:f},a({value:h})):(h={columnKey:y,type:f},a({value:h})))}ze(r,h)||u(!0),Ae(e,t,l,n,o.current,{cell:h,locationX:"inView",locationY:"inView"},c,d)}function Ze(e,t,l,n,o,r,a,i){const s={all:!1,keys:new Set};let c=null!=i?.row?i.row:s,u=null!=i?.column?i.column:s;const d=v.keyExtractor(n,`[data-oj-table-data-row='${t}']`);if(null!=d)"single"!==a?.row&&"multiple"!==a?.row||(c=null==c?{all:!1,keys:new Set([d])}:p.containsKey(c,d)?o?p.removeKey(c,d,!1):{all:!1,keys:new Set([d])}:o&&"multiple"===a.row?p.addKey(c,d):{all:!1,keys:new Set([d])},u=s);else if("single"===a?.column||"multiple"===a?.column){const r=n.closest(`[data-oj-table-focusable='${t}']`);if(null!=r){const n=U(r);if("header"===n||"footer"===n){const i=te(e,t,r,"header"===n);if(null!=i){const e=l[i];"disabled"!==e.value.selectable&&(u=null==u?{all:!1,keys:new Set([e.key])}:p.containsKey(u,e.key)?o?p.removeKey(u,e.key,!1):{all:!1,keys:new Set([e.key])}:o&&"multiple"===a.column?p.addKey(u,e.key):{all:!1,keys:new Set([e.key])},c=s)}}}}p.isSameKey(c,i?.row)&&p.isSameKey(u,i?.column)||r({value:{row:c,column:u},target:n},!1)}function et(e,t,l,n,o,r,a,i,s,c){const u={all:!1,keys:new Set};let d=null!=c?.row?c.row:u,y=null!=c?.column?c.column:u;if(a){if(y=u,"multiple"===s?.row)if(d=u,o<=r)for(let l=o;l<=r;l++){const n=Q(e,t,l);d=p.addKey(d,n)}else for(let l=o;l>=r;l--){const n=Q(e,t,l);d=p.addKey(d,n)}}else if(d=u,"multiple"===s?.column)if(y=u,o<=r)for(let e=o;e<=r;e++){const t=l[e];"disabled"!==t.value.selectable&&(y=p.addKey(y,t.key))}else for(let e=o;e>=r;e--){const t=l[e];"disabled"!==t.value.selectable&&(y=p.addKey(y,t.key))}p.isSameKey(d,c?.row)&&p.isSameKey(y,c?.column)||i({value:{row:d,column:y},target:n},!0)}function tt(e,t,l,n,o,r,a,i,s,c,u,d,y,h){const f=ne(e,l,i);if(null!=f){let g,p;const b="data"===i.type,S="header"===i.type;if(b?(p=f.parentElement,g=Z(e,l,p)):(p=f,g=te(e,l,p,S)),null!=g){let m,C;const w=s.current;null!=w?(C=a?w.previousElementSibling:w.nextElementSibling,null!=C?(s.current=C,m=b?Z(e,l,C):te(e,l,C,S)):m=b?Z(e,l,w):te(e,l,w,S)):(C=a?p.previousElementSibling:p.nextElementSibling,null!=C?(s.current=C,m=b?Z(e,l,C):te(e,l,C,S)):m=g),null!=m&&et(e,l,n,r,g,m,b,c,y,h);const R=null!=s.current?s.current:f;let k;if(b){const e=v.keyExtractor(R,`[data-oj-table-data-row='${l}']`);null!=e&&(k={type:i.type,rowKey:e,columnKey:i.columnKey})}else k=le(R,l,n);null!=k&&Ae(e,t,l,n,o.current,{cell:k,locationX:"inView",locationY:"inView"},u,d)}}}function lt(e,t,l,n,o,r){const a=e.querySelector(`[data-oj-table-header-row='${t}']`);if(null!=a){const e=a.querySelectorAll(`[data-oj-table-header-cell='${t}']`);if(v.getElementContainsFunc(a)(l.target)){let t=!1;for(let i=0;i<e.length;i++){const s=e[i].getBoundingClientRect(),c=r?s.left:s.right;if(Math.abs(c-l.pageX)<=8){if("enabled"!==n[i].value.edgeResizable)break;o.current.key=n[i].key,a.style.cursor="col-resize",t=!0,o.current.isResizeHover=!0}}t||(a.style.cursor="",o.current.key=void 0,o.current.isResizeHover=!1)}else null!=a&&(a.style.cursor=""),o.current.key=void 0,o.current.isResizeHover=!1}}function nt(e,t,l,n,o,r,a){if(o.current.isResizing&&null!=a){for(const e of o.current.fullColumnWidths);const i=e.querySelector(`[data-oj-table-inner-table='${t}']`);if(null!=i){const e=i.getBoundingClientRect(),t=r?e.right-l.clientX:l.clientX-e.left;o.current.delta=t-o.current.startX,a({key:o.current.key,delta:o.current.delta,allColumnWidths:n})}}o.current={isResizing:!1,isResizeHover:o.current.isResizeHover,ignoreClick:o.current.ignoreClick}}function ot({rootRef:e,tableId:t,tableData:n,isRtl:o,columnsArray:r,appliedColumnWidths:a,resizeInfoRef:i,selectionExtensionElementRef:s,fullColumnWidths:c,onColumnResizing:u,onColumnResize:d,activeCell:y,selectionMode:h,selected:f,onTableSelectionChange:g,onRowAction:p,showTooltip:S,hideTooltip:m,tooltipId:C}){const v=l.useRef(!1),w=l.useCallback((l=>{const n=e.current;null!=n&&(function(e,t,l,n,o,r){let a=!1;const i=l.relatedTarget;if(null!=i&&null!=i.closest(`#${r}`))return;const s=l.target.closest(`[data-oj-table-focusable='${e}']`);if(null!=s){const l=U(s);"data"!==l&&"header"!==l&&"footer"!==l||!de(s)||(n(le(s,e,t)),a=!0)}a||o()}(t,r,l,S,m,C),null!=u&&(i.current.isResizing?function(e,t,l,n,o,r,a,i){if(o.current.isResizing&&null!=a){const a=e.querySelector(`[data-oj-table-inner-table='${t}']`);if(null!=a){const e=a.getBoundingClientRect(),t=r?e.right-l.clientX:l.clientX-e.left;o.current.delta=t-o.current.startX,null!=i&&i({key:o.current.key,delta:o.current.delta,allColumnWidths:n})}}}(n,t,l,a,i,o,c,u):function(e,t,l,n,o,r){lt(e,t,l,n,o,r)}(n,t,l,r,i,o)))}),[e,t,r,a,i,o,c,u,S,m,C]),R=l.useCallback((l=>{const n=e.current;if(null!=n){v.current="touch"===l.pointerType;const e=l.target;null!=g&&null!=y&&l.shiftKey&&function(e,t,l,n,o,r){const a=le(n,t,l);if(("multiple"===r?.row&&"data"===o.type||"multiple"===r?.column&&("header"===o.type||"footer"===o.type))&&a?.type===o.type){const l=ne(e,t,o),n=ne(e,t,a);if(null!=l&&null!=n){if("data"===a.type)return null!=Z(e,t,l.parentElement)&&null!=Z(e,t,n.parentElement);if("header"===a.type||"footer"===a.type){const o="header"===a.type;return null!=te(e,t,l,o)&&null!=te(e,t,n,o)}}}return!1}(n,t,r,e,y,h)?F.getIsSelectionPending()||l.preventDefault():!function(e,t,l,n,o,r,a,i,s){if(null!=i&&(null==r.current.key&&lt(e,t,l,n,r,a),null!=r.current.key)){const n=e.querySelector(`[data-oj-table-inner-table='${t}']`);if(null!=n){const e=n.getBoundingClientRect(),t=a?e.right-l.clientX:l.clientX-e.left,c=[];for(let e=0;e<i.length;e++){const t=i[e];c.push(t)}return r.current={isResizing:!0,isResizeHover:!0,key:r.current.key,startX:t,delta:0,fullColumnWidths:c,ignoreClick:r.current.ignoreClick},null!=s&&s({key:r.current.key,delta:0,allColumnWidths:o}),!0}}return!1}(n,t,l,r,a,i,o,c,u)?null==le(e,t,r)&&l.preventDefault():(l.preventDefault(),i.current.ignoreClick=!0)}}),[e,t,r,a,i,o,y,h,g,c,u]),k=l.useCallback((l=>{const n=e.current;null!=n&&nt(n,t,l,a,i,o,d)}),[e,t,a,i,o,d]),K=l.useCallback((l=>{const n=e.current;null!=n&&(!function(e,t,l){if(!l.current.isResizing){const n=e.querySelector(`[data-oj-table-header-row='${t}']`);null!=n&&(n.style.cursor=""),l.current.isResizeHover=!1}}(n,t,i),ye(n,l,m,C))}),[e,t,i,m,C]),E=l.useCallback((l=>{const n=e.current;null!=n&&function(e,t,l,n,o,r,a){o.current.isResizing&&0===l.buttons&&nt(e,t,l,n,o,r,a)}(n,t,l,a,i,o,d)}),[e,t,a,i,o,d]),x=l.useCallback((l=>{const o=e.current;if(null!=o){let e=!1;const a=b.getClientHints().platform,c=l.target;null==g||i.current.ignoreClick||F.getIsSelectionPending()||(null!=y&&l.shiftKey&&(e=function(e,t,l,n,o,r,a,i,s){const c=le(n,t,l);if(null!=c){const u=ne(e,t,o),d=ne(e,t,c);if(null!=u&&null!=d&&("multiple"===i?.row&&"data"===c.type||"multiple"===i?.column&&("header"===c.type||"footer"===c.type))&&c.type===o.type){let o,y,h;const f="data"===c.type;if(f)h=d.parentElement,o=Z(e,t,u.parentElement),y=Z(e,t,h);else if("header"===c.type||"footer"===c.type){const l="header"===c.type;h=d,o=te(e,t,u,l),y=te(e,t,d,l)}if(null!=o&&null!=y)return r.current=h,et(e,t,l,n,o,y,f,a,i,s),!0}}return!1}(o,t,r,c,y,s,g,h,f)),e||Ze(o,t,r,c,("mac"===a?l.metaKey:l.ctrlKey)||v.current,g,h,f)),null!=p&&!F.getIsSelectionPending()&&Ye(o,t,n,p,c)&&l.stopPropagation()}i.current.ignoreClick=!1}),[e,t,r,n,i,s,y,h,f,g,p]);return{onPointerMove:w,onPointerDown:R,onPointerUp:k,onPointerLeave:K,onPointerEnter:E,onClick:x}}function rt({rootRef:e,scrollerRef:t,tableId:n,sizingInfoRef:o,columnsArray:r,stickyEdgesState:a,setStickyEdgesState:i,fullColumnWidths:s,tooltipAnchorRef:c,hideTooltip:u,isRtl:d}){const y=l.useCallback((()=>{const l=e.current,y=t.current;null!=l&&null!=y&&null!=s&&(Be(y,r,s,a,i,y.scrollLeft),function(e,t,l,n,o,r,a,i,s,c){if(null!=a.current){const u=c?.scroller()||t,d=Pe(a.current,u,oe(e,l),re(e,l),n.boxHeight-n.contentHeight),y=d.top,h=y>=0,f=d.bottom,g=f>=0;if(h&&Math.abs(y)>a.current.offsetHeight||g&&Math.abs(f)>a.current.offsetHeight)return void i(!0);let p=0,b=0;const S=Me(o,!0);for(let e=0;e<S.length;e++)p+=r[S[e]];const m=Me(o,!1);for(let e=m.length-1;e>-1;e--)b+=r[m[e]];const C=xe(a.current,u,p,b,n.boxWidth-n.contentWidth,s),v=C.left,w=v>=0,R=C.right,k=R>=0;(w&&Math.abs(v)>a.current.offsetWidth||k&&Math.abs(R)>a.current.offsetWidth)&&i(!0)}}(l,y,n,o.current,r,s,c,u,d))}),[e,t,n,o,r,a,i,s,c,u,d]);return{onScroll:y}}const at=["enter"];function it({rootRef:e,scrollerRef:n,tableId:o,tableData:a,hasMore:i,hasFooters:s,isRtl:c,columnsArray:u,appliedColumnWidths:d,sizingInfoRef:y,resizeInfoRef:h,stickyEdgesState:f,setStickyEdgesState:g,cellHasRenderer:p,fullColumnWidths:S,onColumnResizing:m,onColumnResize:C,currentCellOverride:v,onPersistCurrentCell:w,selectionMode:R,selected:k,onSelectionChange:K,onRowAction:E,sortCriterion:x,onSortCriterionChange:P,isPendingLayout:T}){const{tooltipContent:I,tooltipId:L,tooltipAnchorRef:F,showTooltip:z,hideTooltip:W}=function({rootRef:e,tableId:n}){const o=B.getGlobalTooltipManager(),a=r.useId(),i=l.useRef(),s=l.useRef(),c=l.useRef(),u=l.useRef(),[d,y]=l.useState(),h=l.useRef(!1),f=l.useRef(),g=l.useRef(),p=l.useRef(),b=l.useCallback((()=>{clearTimeout(p.current),p.current=void 0}),[]),S=l.useCallback((()=>{clearTimeout(g.current),g.current=void 0,s.current=void 0}),[]),m=l.useCallback((()=>{g.current=setTimeout((function(){null!=p.current&&b(),g.current=void 0;const t=s.current,l=e.current;if(null!=l&&null!=t){const e=ne(l,n,t);null!=e&&(y(String(e.textContent)),c.current=e,i.current=t)}s.current=void 0}),B.SHOW_TOOLTIP_DELAY)}),[e,n,b]),C=l.useCallback((()=>{p.current=setTimeout((function(){p.current=void 0,y(void 0),c.current=void 0,i.current=void 0}),Math.max(B.SHOW_TOOLTIP_DELAY-$e,0))}),[]),v=l.useCallback((e=>{if(ze(i.current,e))return null!=g.current&&S(),void(null!=p.current&&b());null==g.current?(s.current=e,m()):ze(s.current,e)||(S(),s.current=e,m()),null!=i.current&&null==p.current&&C()}),[m,C,S,b]),w=l.useCallback((e=>{h.current||(null!=g.current&&S(),e?(null!=p.current&&b(),y(void 0),c.current=void 0,i.current=void 0):null==p.current&&C())}),[C,S,b]),R=l.useCallback((e=>{null!=g.current&&(clearTimeout(g.current),g.current=void 0,s.current=void 0),null!=p.current&&(clearTimeout(p.current),p.current=void 0)}),[]),k=l.useCallback((e=>{const t=e.relatedTarget;null!=t&&null!=t.closest(`#${n}`)||w()}),[n,w]),K=l.useCallback((e=>{h.current=!0,null!=f.current&&clearTimeout(f.current),f.current=setTimeout((function(){h.current=!1,f.current=void 0}),$e)}),[]),E=l.useRef(!0);null!=d&&d!==u.current&&(E.current=!0);const x={onPointerLeave:k,onPointerMove:R,onPointerDown:K},P=t.jsx(D.TooltipContent,{...x,id:a,isOpen:E.current,isDatatip:!1,children:null!=d?d:u.current});u.current=d;const T=M.useScale();let I=-8,j=-14;"md"===T?(I=-7,j=-12):"sm"===T&&(I=-6,j=-11);const H=A.useColorScheme(),L=null!=c.current?B.getWrappedTooltipContent(P,"tooltip",H,c,"end-top",{mainAxis:I,crossAxis:j}):void 0,F=l.useCallback((()=>{w(!0)}),[w]);return l.useEffect((()=>{E.current&&null!=c.current?o.register(F):o.unregister(F)}),[c,F,d,o]),{tooltipContent:L,tooltipId:a,showTooltip:v,hideTooltip:w,tooltipAnchorRef:c}}({rootRef:e,tableId:o}),N="embedded"===j.useCollectionInteractionContext(),$=N?void 0:at,O=l.useRef(),V=l.useMemo((()=>null!=K?(e,t)=>{t||(O.current=void 0),K(e)}:void 0),[K]),{focusHandlingProps:q,activeCell:G,onActiveCellChanged:X,currentActiveCell:Y,currentCell:_,isShowFocusRing:U,isTabbableMode:J,onStartFocusTracking:Q,onFocusStartEdge:Z,onFocusEndEdge:ee}=Xe({rootRef:e,scrollerRef:n,tableId:o,tableData:a,hasMore:i,hasFooters:s,columnsArray:u,sizingInfoRef:y,selectionExtensionElementRef:O,isRtl:c,cellSupportsTabbable:p,fullColumnWidths:S,currentCellOverride:v,onPersistCurrentCell:w,showTooltip:z,hideTooltip:W,isPendingLayout:T,isEmbeddedSelect:N,isDataLoaded:!i||a.length>0}),te=function({rootRef:e,scrollerRef:t,tableId:n,tableData:o,isRtl:r,isTabbableMode:a,columnsArray:i,sizingInfoRef:s,selectionExtensionElementRef:c,fullColumnWidths:u,activeCell:d,onActiveCellChanged:y,isSelectRowsOnEnter:h,selectionMode:f,selected:g,onTableSelectionChange:p,onRowAction:S,sortCriterion:m,onSortCriterionChange:C,hideTooltip:v}){const w=l.useCallback((l=>{const w=e.current,R=t.current;if(null!=w&&null!=R){const e=b.getClientHints().platform,t={" ":function(){null!=d&&(a||(null!=p&&Ze(w,n,i,ne(w,n,d),!0,p,f,g),l.preventDefault()),null!=S&&Ye(w,n,o,S,l.target,d)&&l.stopPropagation())},Enter:function(){null!=d&&("data"===d.type?(h&&!a&&(null!=p&&Ze(w,n,i,ne(w,n,d),!0,p,f,g),l.preventDefault()),null!=S&&Ye(w,n,o,S,l.target,d)&&l.stopPropagation()):"header"===d.type&&!a&&null!=C&&function(e,t,l,n){for(const o of e)if(o.key===t){if("enabled"===o.value.sortable){let e;if(null!=n)for(const t of n)if(t.key===o.key){e=t.sortDirection;break}return l([{key:t,sortDirection:"ascending"===e?"descending":"ascending"}]),!0}break}return!1}(i,d.columnKey,C,m)&&l.stopPropagation())},ArrowUp:function(){a||null==d||("data"===d.type&&l.shiftKey&&null!=p&&"multiple"===f?.row?tt(w,R,n,i,s,w,!0,d,c,p,r,u,f,g):_e(w,R,n,i,s,d,y,!0,r,v,u),l.preventDefault())},ArrowDown:function(){a||null==d||("data"===d.type&&l.shiftKey&&null!=p&&"multiple"===f?.row?tt(w,R,n,i,s,w,!1,d,c,p,r,u,f,g):_e(w,R,n,i,s,d,y,!1,r,v,u),l.preventDefault())},ArrowLeft:function(){a||null==d||("header"!==d.type&&"footer"!==d.type||!l.shiftKey||null==p||"multiple"!==f?.column?Je(w,R,n,i,s,d,y,!r,r,v,u):tt(w,R,n,i,s,w,!0,d,c,p,r,u,f,g),l.preventDefault())},ArrowRight:function(){a||null==d||("header"!==d.type&&"footer"!==d.type||!l.shiftKey||null==p||"multiple"!==f?.column?Je(w,R,n,i,s,d,y,r,r,v,u):tt(w,R,n,i,s,w,!1,d,c,p,r,u,f,g),l.preventDefault())},PageUp:function(){a||null==d||(Ue(w,R,n,i,s,d,y,!0,r,v,u),l.preventDefault())},PageDown:function(){a||null==d||(Ue(w,R,n,i,s,d,y,!1,r,v,u),l.preventDefault())},Home:function(){a||null==d||(Qe(w,R,n,i,s,d,y,!0,"mac"===e?l.metaKey:l.ctrlKey,r,v,u),l.preventDefault())},End:function(){a||null==d||(Qe(w,R,n,i,s,d,y,!1,"mac"===e?l.metaKey:l.ctrlKey,r,v,u),l.preventDefault())}};Object.keys(t).includes(l.key)&&t[l.key]()}}),[e,t,n,o,r,a,i,s,c,u,d,y,h,f,g,p,S,m,C,v]);return{onKeyDown:w}}({rootRef:e,scrollerRef:n,tableId:o,tableData:a,isRtl:c,isTabbableMode:J,columnsArray:u,sizingInfoRef:y,selectionExtensionElementRef:O,fullColumnWidths:S,activeCell:G,onActiveCellChanged:X,isSelectRowsOnEnter:N,selectionMode:R,selected:k,onTableSelectionChange:V,onRowAction:E,sortCriterion:x,onSortCriterionChange:P,hideTooltip:W}),le=ot({rootRef:e,tableId:o,tableData:a,isRtl:c,columnsArray:u,appliedColumnWidths:d,resizeInfoRef:h,selectionExtensionElementRef:O,fullColumnWidths:S,onColumnResizing:m,onColumnResize:C,activeCell:G,selectionMode:R,selected:k,onTableSelectionChange:V,onRowAction:E,showTooltip:z,hideTooltip:W,tooltipId:L}),oe=rt({rootRef:e,scrollerRef:n,tableId:o,sizingInfoRef:y,columnsArray:u,stickyEdgesState:f,setStickyEdgesState:g,fullColumnWidths:S,tooltipAnchorRef:F,hideTooltip:W,isRtl:c});return{interactionManagerProps:T?q:H.mergeProps(q,te,le),scrollHandlingProps:oe,onTableSelectionChange:V,isShowFocusRing:U,isTabbableMode:J,currentCell:_,currentActiveCell:Y,onStartFocusTracking:Q,onFocusStartEdge:Z,onFocusEndEdge:ee,tooltipContent:I,disabledRowInteractionKeys:$}}function st(e,t,l,n,o,r,a,i){if(n)return function(e,t,l){const n=1,o=100,r=void 0;let a=!1,i=0,s=0,c=0;const u=[],d=[],y=[],h=[],f=[];for(let e=0;e<t.length;e++){const g=t[e];let p=g.value.minWidth;(null==p||p<=0)&&(p=o);let b=g.value.maxWidth;(null==b||b<p)&&(b=r),u.push(b);let S=g.value.weight;(null==S||S<1)&&(S=n),d.push(S);const m=null!=l?l[g.key]:void 0;null!=m?(s+=m,c+=m,y.push(m),h.push(m),f.push(m)):(a=!0,c+=p,i+=S,y.push(void 0),h.push(p),f.push(p))}a&&c<e&&function(e,t,l,n,o,r,a,i,s){let c=!0;for(;c;){c=!1,dt(e,t,l,n,o,r,i,s);let u=0;for(let t=0;t<e.length;t++){if(null==o[t]){const e=a[t];null!=e&&i[t]>e&&(c=!0,o[t]=e,n+=e,l-=r[t],i[t]=e,s[t]=e)}u+=i[t]}c=c&&u<t}}(t,e,i,s,y,d,u,h,f);return yt(t,h)}(r,a,i);const s=e.querySelectorAll(`[data-oj-table-inner-table='${l}']`)[0],c=e.querySelectorAll(`[data-oj-table-col='${l}']`),u=e.querySelectorAll(`[data-oj-table-header-cell='${l}']`);let d=ct(s,u,o,r,a,i);if(-1===r){let l=0;const n=[];for(let e=0;e<a.length;e++){const t=d[a[e].key];n.push(t),l+=t}!function(e,t,l,n){for(let e=0;e<t.length;e++){t[e].style.width=`${l[e]}px`}e.style.width=`${n}px`,e.style.tableLayout="fixed"}(s,c,n,l),r=e.getBoundingClientRect().width-t,Math.abs(l-r)>.005&&(d=ct(s,u,o,r,a,i))}return d}function ct(e,t,l,n,o,r){let a=!1;const i=[],s=[],c=[],u=[];for(let e=0;e<o.length;e++){const t=o[e];let l=t.value.minWidth;(null==l||l<=0)&&(l=undefined),i.push(l);let n=t.value.maxWidth;(null==n||n<(null!=l?l:0))&&(n=undefined),s.push(n);const d=null!=r?r[t.key]:void 0;null!=d?(c.push(d),u[e]=d):(a=!0,c.push(void 0))}if(a){let r=0,a=0,d=0,y=0,h=0;const f=l.current,g=[],p=[],b=[];if(null!=f)for(let e=0;e<o.length;e++)g.push(f.minWidths[o[e].key]),p.push(f.weightWidths[o[e].key]);else{l.current={minWidths:{},weightWidths:{}};for(let e=0;e<t.length;e++){const n=t[e].getBoundingClientRect().width;p.push(n),l.current.weightWidths[o[e].key]=n}e.style.width="min-content";for(let e=0;e<t.length;e++){const n=t[e].getBoundingClientRect().width;g.push(n),l.current.minWidths[o[e].key]=n}}for(let e=0;e<g.length;e++){const t=c[e];if(null==t){let t;const l=g[e],n=i[e],o=s[e];t=null!=n&&n>=l?n:null!=o&&l>=o?o:l,a+=t;const r=null!=n&&n>=p[e]?n:p[e];p[e]=r,d+=null!=o&&o<=r?o:r,y+=r,h+=r-t,u[e]=t,b.push(t)}else r+=t,a+=t,d+=t,b.push(t)}-1===n&&(n=d),a<n&&function(e,t,l,n,o,r,a,i,s,c,u,d){let y=!0;for(;y;){y=!1,l>t?ut(e,t-r,n,s,i,u,d):dt(e,t,o,a,i,s,u,d);let h=0;for(let t=0;t<e.length;t++){if(null==i[t]){const e=c[t];null!=e&&u[t]>e&&(y=!0,i[t]=e,a+=e,r+=e-d[t],o-=s[t],u[t]=e,d[t]=e)}h+=u[t]}y=y&&h<t}}(o,n,d,h,y,a,r,c,p,s,u,b)}return yt(o,u)}function ut(e,t,l,n,o,r,a){if(t>0){let i=t,s=l;for(let t=0;t<e.length;t++)if(s>0&&null==o[t]){const e=n[t]-a[t],l=e/s*i;r[t]=l+a[t],i-=l,s-=e}}}function dt(e,t,l,n,o,r,a,i){const s=[];let c=!0;for(;c;){c=!1;let u=l,d=t-n;if(d>0)for(let t=0;t<e.length;t++)if(u>0&&null==o[t]&&null==s[t]){const e=r[t],o=e/u*d,y=i[t];if(o<y){s[t]=y,n+=y,a[t]=y,c=!0,l-=e;break}a[t]=o,d-=o,u-=e}}}function yt(e,t){const l={};for(let n=0;n<e.length;n++)l[e[n].key]=t[n];return l}const ht={row:{all:!1,keys:new Set},column:{all:!1,keys:new Set}},ft=["enter"],gt=n.forwardRef((function({"aria-label":e,"aria-labelledby":n,getAccessibleRowHeaders:s,columns:c,columnOrder:u,columnWidths:y,layout:h="contents",data:f,getRowKey:g,hasMore:p=!1,onLoadMore:b=(()=>{}),currentCellOverride:S,onPersistCurrentCell:m,currentRowVariant:C="none",gridlines:v,selectionMode:w,selected:R=ht,onSelectionChange:K,onRowAction:E,sortCriterion:x,onSortCriterionChange:P,horizontalScrollPositionOverride:T,verticalScrollPositionOverride:j,columnResizingIndicator:H,onColumnResizing:A,onColumnResize:M,noDataRenderer:D,testId:B},L){const F=r.useId(),O=l.useRef(null),V=l.useRef(null),[q,G]=l.useState(!0),Y=l.useRef({isInitialRender:!0}),_=l.useRef(),[U,J]=l.useState(),[Q,Z]=l.useState(),ee=l.useRef({isHorizontal:!1,isVertical:!1}),te=l.useRef(),le=l.useRef(),ne=l.useRef(),oe=l.useMemo((()=>null!=f?f.map((e=>({data:e,metadata:g(e)}))):[]),[f,g]),re=l.useRef();p||(re.current=void 0);const ae=l.useCallback((()=>{if(oe!==re.current)return re.current=oe,b()}),[oe,b]),[ie,se]=l.useState({start:void 0,end:void 0}),ce=l.useRef({isResizing:!1,isResizeHover:!1,ignoreClick:!1}),{direction:ue,forcedColors:de}=i.useUser(),ye="rtl"===ue,he=N.useTestId(B),fe=l.useMemo((()=>{const e=[];if(null!=u)for(const t of u)null!=c[t]&&e.push({key:t,value:c[t]});else for(const[t,l]of Object.entries(c))e.push({key:t,value:l});return e}),[u,c]);let ge=!1;const pe=[];if(null!=U)for(let e=0;e<fe.length;e++){const t=fe[e].key,l=U[t],n=null!=y?y[t]:void 0;if(null==l||null!=n&&n!==l){ge=!0;break}pe.push(l)}else ge=!0;const be={isLayoutRequired:ge,columnWidthsArray:ge?void 0:pe};l.useImperativeHandle(L,(()=>({getHorizontalScrollPosition:()=>be.isLayoutRequired?{}:je(V.current,fe,be.columnWidthsArray),getVerticalScrollPosition:()=>be.isLayoutRequired?{}:He(O.current,V.current,F)})),[F,fe,be.isLayoutRequired,be.columnWidthsArray]);const me=l.useCallback((e=>{let t=!1;if("noData"===e.type)t=null!=D;else if("loadMore"!==e.type&&"loading"!==e.type&&"pending"!==e.type)for(const l of fe)if(l.key===e.columnKey){"data"===e.type?t=null!=l.value.renderer:"header"===e.type?t=null!=l.value.headerRenderer:"footer"===e.type&&(t=null!=l.value.footerRenderer);break}return t}),[fe,D]),ve="pending"===h,we=fe.some((e=>null!=e.value.footerRenderer||null!=e.value.footerText)),Ke=p||ve?-1:oe.length+(we?2:1),Ee=Math.max(fe.length,1),{interactionManagerProps:xe,scrollHandlingProps:Pe,onTableSelectionChange:Ae,isShowFocusRing:Le,isTabbableMode:ze,currentCell:We,currentActiveCell:Ne,onStartFocusTracking:$e,onFocusStartEdge:Oe,onFocusEndEdge:Ve,tooltipContent:qe,disabledRowInteractionKeys:Ge}=it({rootRef:O,scrollerRef:V,tableId:F,tableData:oe,hasMore:p,hasFooters:we,isRtl:ye,columnsArray:fe,appliedColumnWidths:U,sizingInfoRef:Y,resizeInfoRef:ce,stickyEdgesState:ie,setStickyEdgesState:se,cellHasRenderer:me,fullColumnWidths:be.isLayoutRequired?void 0:be.columnWidthsArray,onColumnResizing:A,onColumnResize:M,currentCellOverride:S,onPersistCurrentCell:m,selectionMode:w,selected:R,onSelectionChange:K,onRowAction:E,sortCriterion:x,onSortCriterionChange:P,isPendingLayout:ve});l.useLayoutEffect((()=>{te.current=void 0,J(void 0)}),[c,h]),l.useLayoutEffect((()=>{J(void 0)}),[y]),l.useLayoutEffect((()=>{if(ve)return;const e=O.current;if(null!=e&&!Y.current.isInitialRender&&be.isLayoutRequired&&null!=Y.current.defaultScrollbarWidth&&fe.length>0){const t="fixed"===h?Y.current.boxWidth-Y.current.defaultScrollbarWidth:-1,l=st(e,Y.current.defaultScrollbarWidth,F,"fixed"===h,te,t,fe,y);J(l)}}),[F,fe,y,h,be.isLayoutRequired,ve]);const Xe=l.useRef();Xe.current=e=>{_.current=e,window.requestAnimationFrame((()=>{const e=_.current;if(null!=e&&null!=O.current){let t,l;const n=e.contentBoxSize[0].inlineSize,o=e.contentBoxSize[0].blockSize,r=e.borderBoxSize[0].inlineSize,a=e.borderBoxSize[0].blockSize;if(0!==n||0!==r){if(Y.current.isInitialRender?(l=r-n,t="fixed"===h?n:-1,Y.current={isInitialRender:!1,contentWidth:n,boxWidth:r,contentHeight:o,boxHeight:a,defaultScrollbarWidth:l,defaultScrollbarHeight:a-o},G(!1)):(l=Y.current.defaultScrollbarWidth,t=ee.current.isVertical?n:r-l,Y.current.contentWidth=n,Y.current.boxWidth=r,Y.current.contentHeight=o,Y.current.boxHeight=a),!ve&&fe.length>0){const e=st(O.current,l,F,"fixed"===h,te,t,fe,y);J(e)}null!=Q&&Q.width===n&&Q.height===o||Z({width:n,height:o})}}_.current=void 0}))};const Ye=l.useCallback((e=>{Xe.current(e)}),[]);W.useResizeObserver(V,Ye),l.useLayoutEffect((()=>{const e=V.current;if(null!=O.current&&null!=e&&!Y.current.isInitialRender&&null!=Q&&Q.width===Y.current.contentWidth&&Q.height===Y.current.contentHeight){const t=Y.current.defaultScrollbarWidth,l=O.current.querySelector(`[data-oj-table-inner-table='${F}']`);if(null!=l){const n=l.getBoundingClientRect().width,o=l.getBoundingClientRect().height,r=n-Q.width>.5;ee.current.isHorizontal=r,r?(e.classList.remove(d.scrollerStyles.noHorizontalScroll),e.classList.add(d.scrollerStyles.horizontalScroll)):(e.classList.remove(d.scrollerStyles.horizontalScroll),e.classList.add(d.scrollerStyles.noHorizontalScroll));const a=o-Q.height>.5;ee.current.isVertical=a,a?(e.classList.remove(d.scrollerStyles.noVerticalScroll),e.classList.add(d.scrollerStyles.verticalScroll),e.style.paddingInlineEnd=""):(e.classList.remove(d.scrollerStyles.verticalScroll),e.classList.add(d.scrollerStyles.noVerticalScroll),e.style.paddingInlineEnd=`${t}px`)}}}),[F,Q,f,D,U]),l.useLayoutEffect((()=>{le.current===T||be.isLayoutRequired||(Te(V.current,fe,be.columnWidthsArray,ye,T),le.current=T)}),[F,fe,be.isLayoutRequired,be.columnWidthsArray,T,ye]),l.useLayoutEffect((()=>{ne.current===j||be.isLayoutRequired||(Ie(O.current,V.current,F,j),ne.current=j)}),[F,be.isLayoutRequired,j]),l.useLayoutEffect((()=>{null==O.current||null==V.current||be.isLayoutRequired||function(e,t,l,n,o,r,a,i){let s,c=0,u=0;const d=Me(o,!0);for(let t=0;t<d.length;t++)s=d[t],De(e,l,n,s,c,!0),c+=r[s];const y=Me(o,!1);for(let t=y.length-1;t>-1;t--)s=y[t],De(e,l,n,s,u,!1),u+=r[s];Be(t,o,r,a,i)}(O.current,V.current,F,ye,fe,be.columnWidthsArray,ie,se)}),[F,fe,be.isLayoutRequired,be.columnWidthsArray,ye,ie]);const{classes:_e}=k.useComponentTheme(z.TableRedwoodTheme,{pendingLayout:ve?"isPendingLayout":"notPendingLayout",showFocusRing:Le?"isShowFocusRing":"notShowFocusRing"});let Ue;const Je=[d.scrollerStyles.base];Y.current.isInitialRender?Je.push(d.scrollerStyles.forceScroll):(ee.current.isHorizontal?Je.push(d.scrollerStyles.horizontalScroll):Je.push(d.scrollerStyles.noHorizontalScroll),ee.current.isVertical?(Je.push(d.scrollerStyles.verticalScroll),Ue=""):(Je.push(d.scrollerStyles.noVerticalScroll),Ue=`padding-inline-end: ${Y.current.defaultScrollbarWidth}px;`));const Qe=o.classNames(Je),Ze=o.classNames([_e]),et=o.classNames([d.innerTableStyles.base]),tt=o.classNames([d.focusTrackerStyles.base]),lt=ie.start,nt=ie.end,ot="visible"===v?.vertical,rt="hidden"!==v?.horizontal,at="single"===w?.row||"multiple"===w?.row,ct="single"===w?.column||"multiple"===w?.column;return t.jsxs("div",{...he,ref:O,"aria-colcount":Ee,"aria-label":e,"aria-labelledby":n,"aria-rowcount":Ke,..."multiple"===w?.column||"multiple"===w?.row?{"aria-multiselectable":!0}:{},class:Ze,id:F,role:"grid",tabIndex:null!=Ne?-1:0,...xe,children:[t.jsxs("div",{ref:V,class:Qe,role:"rowgroup",style:Ue,tabIndex:-1,...Pe,children:[t.jsxs(I.FocusTracker,{styleClass:tt,isDisabled:!ze,onFocusStartEdge:Oe,onFocusEndEdge:Ve,onStartTracking:$e,children:[t.jsx(a.TabbableModeContext.Provider,{value:{isTabbable:ze},children:t.jsxs("table",{"aria-hidden":!!ve||void 0,class:et,role:"presentation",style:(()=>{if(!be.isLayoutRequired){let e=0;for(let t=0;t<be.columnWidthsArray.length;t++)e+=be.columnWidthsArray[t];return`width:${e}px;table-layout:fixed;`}return fe.length>0?"fixed"===h?`width:${100*fe.length}px;table-layout:fixed;`:"width:max-content;will-change:width;":"width:100%;"})(),"data-oj-table-inner-table":F,children:[t.jsx($,{...(()=>{let e;if(be.isLayoutRequired)if("fixed"===h){e=[];for(let t=0;t<fe.length;t++)e[t]=100}else{e=[];for(let t=0;t<fe.length;t++)e[t]=void 0}else e=be.columnWidthsArray;return{tableId:F,isRendered:fe.length>0,columnWidthsArray:e}})()}),t.jsx(Ce,{tableId:F,isRendered:fe.length>0,columnsArray:fe,hasVerticalGridlines:ot,activeKey:"header"===Ne?.type?Ne.columnKey:void 0,isTabbableMode:ze,selectedColumnKeys:R.column,selectedRowKeys:R.row,isColumnSelectionEnabled:ct,isRowSelectionEnabled:at,disabledInteractionKeys:ft,onSelectionChange:Ae,sortCriterion:x,onSortCriterionChange:P,isShowFocusRing:Le,startStickyEdge:lt,endStickyEdge:nt,isResizeHover:ce.current.isResizeHover,isRtl:ye,isHighContrast:"active"===de}),t.jsx(Se,{rootRef:O,tableId:F,isValidRender:fe.length>0,tableData:oe,columnsArray:fe,getAccessibleRowHeaders:s,hasVerticalGridlines:ot,hasHorizontalGridlines:rt,selected:R,isRowSelectionEnabled:at,isSingleRowSelectionEnabled:"single"===w?.row,activeCell:Ne,currentRowKey:"data"===We?.type?We.rowKey:void 0,currentRowVariant:C,isShowFocusRing:Le,isTabbableMode:ze,hasMore:p,onLoadMore:ae,noDataRenderer:D,viewportConfig:Fe(V),disabledInteractionKeys:Ge,onSelectionChange:Ae,startStickyEdge:lt,endStickyEdge:nt,isRtl:ye,isHighContrast:"active"===de}),t.jsx(Re,{tableId:F,isRendered:we,columnsArray:fe,hasVerticalGridlines:ot,activeKey:"footer"===Ne?.type?Ne.columnKey:void 0,isTabbableMode:ze,selectedKeys:R.column,isColumnSelectionEnabled:ct,isShowFocusRing:Le,disabledInteractionKeys:ft,startStickyEdge:lt,endStickyEdge:nt,dataRowCount:oe.length,isRtl:ye,isHighContrast:"active"===de})]})}),(()=>{if(null!=H&&!be.isLayoutRequired){let e=0;for(let t=0;t<fe.length;t++)if(e+=be.columnWidthsArray[t],fe[t].key===H.key){null!=H.delta&&(e+=H.delta);break}return t.jsx(ke,{position:e,isRtl:ye})}})()]}),qe]}),ve?t.jsx("div",{class:d.tableSkeletonStyles.pendingLayout,children:t.jsx("table",{role:"presentation",style:"width:100%;table-layout:fixed;",children:t.jsx("tbody",{role:"presentation",children:t.jsx(X,{tableId:F,hasTabIndex:"pending"===Ne?.type,colspan:Ee,isPendingLayout:!0,isShowFocusRing:!1})})})}):void 0]})}));e.Table=gt}));
//# sourceMappingURL=Table-611e08d5.js.map
