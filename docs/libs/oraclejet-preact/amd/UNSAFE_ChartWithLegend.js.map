{"version":3,"file":"UNSAFE_ChartWithLegend.js","sources":["../../src/UNSAFE_ChartWithLegend/ChartWithLegend.tsx","../../src/UNSAFE_ChartWithLegend/utils.ts"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { Flex } from '#UNSAFE_Flex';\nimport { getFlexOrder, getLegendFlexProps } from './utils';\nimport { Size } from '#utils/UNSAFE_size';\nimport { ComponentChildren } from 'preact';\n\ntype Props = {\n  /**\n   * The sectional legend component.\n   * TODO: maybe include Legend as well if preact customers want it in future.\n   */\n  legend?: ComponentChildren;\n\n  /**\n   * The chart component.\n   */\n  chart: ComponentChildren;\n\n  /**\n   * The position of the legend around the chart.\n   */\n  position: 'start' | 'end' | 'top' | 'bottom';\n\n  /**\n   * The max size of the legend.\n   */\n  maxSize?: Size;\n\n  /**\n   * The size of the legend.\n   */\n  size?: Size;\n};\n\n/**\n * Component responsible for laying out the legend around a chart.\n */\nexport function ChartWithLegend({ chart, legend, position, maxSize, size }: Props) {\n  const flexDirection = position === 'start' || position === 'end' ? 'row' : 'column';\n  const { chartOrder, legendOrder } = getFlexOrder(position);\n  const { justifyContent, alignItem } = getLegendFlexProps(position);\n\n  return (\n    <Flex width={'100%'} height={'100%'} direction={flexDirection}>\n      <div\n        style={{\n          order: chartOrder,\n          flexGrow: 1,\n          minWidth: 0\n        }}>\n        {chart}\n      </div>\n      {legend && (\n        <Flex\n          order={legendOrder}\n          justify={justifyContent}\n          align={alignItem}\n          maxHeight={flexDirection === 'column' ? maxSize : undefined}\n          maxWidth={flexDirection === 'row' ? maxSize : undefined}\n          height={flexDirection === 'column' ? size : undefined}\n          width={flexDirection === 'row' ? size : undefined}>\n          {legend}\n        </Flex>\n      )}\n    </Flex>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nexport type CategoriesItem = {\n  id: string | number;\n  categories: string[];\n};\n\n/**\n * Returns the flex order of the legend and chart in the flex container.\n * @param legendPos The legend position.\n * @returns\n */\nexport function getFlexOrder(legendPos: 'start' | 'top' | 'bottom' | 'end') {\n  const isLegendFirst = legendPos === 'start' || legendPos === 'top';\n  return {\n    chartOrder: isLegendFirst ? 2 : 1,\n    legendOrder: isLegendFirst ? 1 : 2\n  };\n}\n\n/**\n * Returns the legend flex align and justify prop.\n */\nexport function getLegendFlexProps(legendPos: 'start' | 'end' | 'top' | 'bottom') {\n  let justifyContent: 'center' | 'start' | 'end';\n  let alignItem: 'center' | 'start' | 'end';\n  if (legendPos === 'top') {\n    justifyContent = 'center';\n    alignItem = 'end';\n  } else if (legendPos === 'bottom') {\n    justifyContent = 'center';\n    alignItem = 'start';\n  } else if (legendPos === 'start') {\n    justifyContent = 'end';\n    alignItem = 'center';\n  } else {\n    justifyContent = 'start';\n    alignItem = 'center';\n  }\n\n  return { justifyContent, alignItem };\n}\n"],"names":["chart","legend","position","maxSize","size","flexDirection","chartOrder","legendOrder","legendPos","isLegendFirst","getFlexOrder","justifyContent","alignItem","getLegendFlexProps","_jsxs","jsxs","Flex","width","height","direction","children","_jsx","jsx","style","order","flexGrow","minWidth","justify","align","maxHeight","undefined","maxWidth"],"mappings":"g0BA4CgB,UAAgBA,MAAEA,EAAKC,OAAEA,EAAMC,SAAEA,EAAQC,QAAEA,EAAOC,KAAEA,IAClE,MAAMC,EAA6B,UAAbH,GAAqC,QAAbA,EAAqB,MAAQ,UACrEI,WAAEA,EAAUC,YAAEA,GC7BhB,SAAuBC,GAC3B,MAAMC,EAA8B,UAAdD,GAAuC,QAAdA,EAC/C,MAAO,CACLF,WAAYG,EAAgB,EAAI,EAChCF,YAAaE,EAAgB,EAAI,EAErC,CDuBsCC,CAAaR,IAC3CS,eAAEA,EAAcC,UAAEA,GCnBpB,SAA6BJ,GACjC,IAAIG,EACAC,EAeJ,MAdkB,QAAdJ,GACFG,EAAiB,SACjBC,EAAY,OACW,WAAdJ,GACTG,EAAiB,SACjBC,EAAY,SACW,UAAdJ,GACTG,EAAiB,MACjBC,EAAY,WAEZD,EAAiB,QACjBC,EAAY,UAGP,CAAED,iBAAgBC,YAC3B,CDCwCC,CAAmBX,GAEzD,OACEY,EAACC,KAAAC,EAAIA,MAACC,MAAO,OAAQC,OAAQ,OAAQC,UAAWd,EAC9Ce,SAAA,CAAAC,EAAAC,IAAA,MAAA,CACEC,MAAO,CACLC,MAAOlB,EACPmB,SAAU,EACVC,SAAU,GACXN,SACApB,IAEFC,GACCoB,MAACL,EAAAA,KACC,CAAAQ,MAAOjB,EACPoB,QAAShB,EACTiB,MAAOhB,EACPiB,UAA6B,WAAlBxB,EAA6BF,OAAU2B,EAClDC,SAA4B,QAAlB1B,EAA0BF,OAAU2B,EAC9CZ,OAA0B,WAAlBb,EAA6BD,OAAO0B,EAC5Cb,MAAyB,QAAlBZ,EAA0BD,OAAO0B,EACvCV,SAAAnB,MAKX"}