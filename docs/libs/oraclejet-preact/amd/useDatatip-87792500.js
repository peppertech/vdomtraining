define(['exports', 'preact/jsx-runtime', './Layer-276d62e8', 'preact/compat', './LayerHost-e95c5f30', './Floating-a658b79c', 'preact/hooks', './hooks/PRIVATE_useDatatip/themes/useDatatip.css', './useId-c9578d26', './datatipUtils-1b8ab042', './useVisHover-28319fef', './mergeProps-bcfa6a92'], (function(e,t,r,o,n,s,i,a,c,u,l,p){"use strict";e.useDatatip=function({content:e,placement:o="top-end-corner",offset:n,borderColor:d,anchor:A,touchResponse:f}){const T=i.useRef(c.useId()),[h,v]=i.useState({x:0,y:0}),m=n||{mainAxis:u.DATATIP_OFFSET,crossAxis:-1*u.DATATIP_OFFSET},[x,P]=i.useState(!1),E=i.useRef(null),y=i.useRef(),b=()=>{y.current=setTimeout((()=>{P(!1)}),20)},R=l.useVisHover((e=>{v({x:e.clientX,y:e.clientY}),P(!0)}),((e,t)=>{"touch"!==e.pointerType&&e.eventPhase!==Event.AT_TARGET&&e.eventPhase!==Event.BUBBLING_PHASE||(v({x:e.clientX,y:e.clientY}),E.current=t,P(!0))}),b,f),D="element"===A?E:{current:h},B=x&&null!=e?t.jsx(r.Layer,{children:t.jsx(s.Floating,{anchorRef:D,placement:o,offsetValue:m,flipOptions:{crossAxis:"pointer"===A,mainAxis:"pointer"===A},shiftOptions:{crossAxis:!0,mainAxis:!0},children:t.jsx("div",{role:"tooltip",id:T.current,className:a.styles.visDatatipStyle,style:{borderColor:d},onPointerEnter:()=>{clearTimeout(y.current)},onPointerLeave:b,children:e})})}):null;return{datatipContent:B,datatipProps:{"aria-describedby":null!==B?T.current:void 0,...p.mergeProps(R,{onKeyUp:e=>{"Escape"===e.code?(e.preventDefault(),P(!1)):"ArrowUp"!==e.code&&"ArrowDown"!==e.code&&"ArrowRight"!==e.code&&"ArrowLeft"!==e.code&&"Tab"!==e.code||P(!0)},onFocus:e=>{e.eventPhase!==Event.AT_TARGET&&e.eventPhase!==Event.BUBBLING_PHASE||(E.current=e.target,P(!0))},onBlur:()=>{P(!1)}})}}}}));
//# sourceMappingURL=useDatatip-87792500.js.map
