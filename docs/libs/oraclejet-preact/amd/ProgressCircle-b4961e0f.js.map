{"version":3,"file":"ProgressCircle-b4961e0f.js","sources":["../../src/UNSAFE_ProgressCircle/ProgressCircle.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { ComponentProps } from 'preact';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { CircleWrapper, CircleInner } from '../PRIVATE_Meter';\nimport { getProgressClipPath } from '../utils/PRIVATE_meterUtils';\nimport { useTranslationBundle } from '../hooks/UNSAFE_useTranslationBundle';\nimport type { BundleType } from '../resources/nls/bundle';\nimport { HTMLAttributesSignalExcluded } from '../utils/UNSAFE_attributeUtils';\nimport { useComponentTheme } from '../hooks/UNSAFE_useComponentTheme';\nimport {\n  ProgressCircleStyles,\n  ProgressCircleVariantOptions\n} from './themes/ProgressCircleStyles.css';\nimport { ProgressCircleRedwoodTheme } from './themes/redwood/ProgressCircleTheme';\ntype ariaPropsType = ComponentProps<typeof CircleWrapper>['ariaProps'];\ntype IntrinsicProps = Pick<HTMLAttributesSignalExcluded<HTMLDivElement>, 'class' | 'children'>;\n\ntype Props = IntrinsicProps & {\n  /**\n   * Specifies the id of the progress circle.  If the progress circle is being used to describe the loading process of a particular region\n   * of the page, then the aria-describedby attribute of the region must point to the id of the ProgressCircle\n   */\n  id?: HTMLAttributesSignalExcluded<HTMLDivElement>['id'];\n  /**\n   * The value of the progress circle.  If the value is 'indeterminate', an indeterminate progress circle will be shown.\n   */\n  value?: 'indeterminate' | number;\n\n  /**\n   * The maximum value of the progress circle.\n   */\n  max?: number;\n  /**\n   * The size of the progress circle. The default value of this property is theme driven.\n   */\n  size?: 'sm' | 'md' | 'lg';\n\n  /**\n   * A label to be used for accessibility purposes when value is set to 'indeterminate'. This will be used for the aria-valuetext of the DOM element.\n   */\n  'aria-valuetext'?: string;\n};\n/**\n * A progress circle allows the user to visualize the progression of an extended computer operation.\n */\nexport function ProgressCircle({ value, max, ...otherProps }: Props) {\n  return value === 'indeterminate' ? (\n    <IndeterminateProgressCircle {...otherProps}></IndeterminateProgressCircle>\n  ) : (\n    <DeterminateProgressCircle value={value} max={max} {...otherProps}></DeterminateProgressCircle>\n  );\n}\n\ntype IndeterminateProps = Omit<Props, 'value' | 'max'>;\n\nconst IndeterminateProgressCircle = ({ id, size, ...props }: IndeterminateProps) => {\n  const {\n    classes,\n    styles: { indeterminate }\n  } = useComponentTheme<ProgressCircleVariantOptions, ProgressCircleStyles>(\n    ProgressCircleRedwoodTheme,\n    {\n      size,\n      type: 'indeterminate'\n    }\n  );\n\n  const translations = useTranslationBundle<BundleType>('@oracle/oraclejet-preact');\n  const ariaProps: ariaPropsType = {\n    'aria-valuetext': props['aria-valuetext'] || translations.progressIndeterminate(),\n    role: 'progressbar'\n  };\n  return (\n    <CircleWrapper id={id} ariaProps={ariaProps} class={classes}>\n      <CircleInner class={indeterminate} />\n    </CircleWrapper>\n  );\n};\n\ntype DeterminateProps = Omit<Props, 'aria-valuetext'> & {\n  value?: number;\n};\n\nconst DeterminateProgressCircle = ({ value = 0, max = 100, id, size }: DeterminateProps) => {\n  const {\n    classes,\n    styles: { determinate, track, valueStyle }\n  } = useComponentTheme<ProgressCircleVariantOptions, ProgressCircleStyles>(\n    ProgressCircleRedwoodTheme,\n    {\n      size\n    }\n  );\n\n  const percentage = Math.min(Math.max(0, value / max), 1);\n  const clipPath = getProgressClipPath(percentage);\n\n  const ariaProps: ariaPropsType = {};\n  ariaProps['aria-valuemin'] = value != null ? 0 : undefined;\n  ariaProps['aria-valuemax'] = value != null ? max : undefined;\n  ariaProps['aria-valuenow'] = value != null ? value : undefined;\n  ariaProps['role'] = 'progressbar';\n  return (\n    <CircleWrapper id={id} ariaProps={ariaProps} class={classes}>\n      <CircleInner class={classNames([determinate, track])} />\n      <CircleInner class={classNames([determinate, valueStyle])} clipPath={clipPath} />\n    </CircleWrapper>\n  );\n};\n"],"names":["IndeterminateProgressCircle","id","size","props","classes","styles","indeterminate","useComponentTheme","ProgressCircleRedwoodTheme","type","translations","useTranslationBundle","ariaProps","progressIndeterminate","role","_jsx","CircleWrapper","class","children","jsx","CircleInner","DeterminateProgressCircle","value","max","determinate","track","valueStyle","percentage","Math","min","clipPath","getProgressClipPath","undefined","_jsxs","classNames","otherProps"],"mappings":"0RA6DA,MAAMA,EAA8B,EAAGC,KAAIC,UAASC,MAClD,MAAMC,QACJA,EACAC,QAAQC,cAAEA,IACRC,EAAiBA,kBACnBC,6BACA,CACEN,OACAO,KAAM,kBAIJC,EAAeC,uBAAiC,4BAChDC,EAA2B,CAC/B,iBAAkBT,EAAM,mBAAqBO,EAAaG,wBAC1DC,KAAM,eAER,OACEC,EAAAA,IAACC,EAAAA,cAAc,CAAAf,GAAIA,EAAIW,UAAWA,EAAWK,MAAOb,EAClDc,SAAAH,EAAAI,IAACC,cAAW,CAACH,MAAOX,KAEtB,EAOEe,EAA4B,EAAGC,QAAQ,EAAGC,MAAM,IAAKtB,KAAIC,WAC7D,MAAME,QACJA,EACAC,QAAQmB,YAAEA,EAAWC,MAAEA,EAAKC,WAAEA,IAC5BnB,EAAiBA,kBACnBC,6BACA,CACEN,SAIEyB,EAAaC,KAAKC,IAAID,KAAKL,IAAI,EAAGD,EAAQC,GAAM,GAChDO,EAAWC,sBAAoBJ,GAE/Bf,EAA2B,CAAA,EAKjC,OAJAA,EAAU,iBAA4B,MAATU,EAAgB,OAAIU,EACjDpB,EAAU,iBAA4B,MAATU,EAAgBC,OAAMS,EACnDpB,EAAU,iBAA4B,MAATU,EAAgBA,OAAQU,EACrDpB,EAAgB,KAAI,cAElBqB,EAAAA,KAACjB,EAAAA,cAAa,CAACf,GAAIA,EAAIW,UAAWA,EAAWK,MAAOb,EAAOc,SAAA,CACzDH,EAAAA,IAACK,EAAAA,aAAYH,MAAOiB,aAAW,CAACV,EAAaC,MAC7CV,EAAAI,IAACC,EAAWA,YAAC,CAAAH,MAAOiB,EAAUA,WAAC,CAACV,EAAaE,IAAcI,SAAUA,MAEvE,mBA9DE,UAAyBR,MAAEA,EAAKC,IAAEA,KAAQY,IAC9C,MAAiB,kBAAVb,EACLP,EAAAI,IAACnB,EAA2B,IAAKmC,IAEjCpB,EAAAA,IAACM,EAA0B,CAAAC,MAAOA,EAAOC,IAAKA,KAASY,GAE3D"}