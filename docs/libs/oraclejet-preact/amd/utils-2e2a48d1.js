define(['exports', './dimensionUtils-61978138'], (function(t,i){"use strict";const e="â€¦",n=3;function h(t){const i=t[t.length-1];return i?.endsWith(e)}function r(t,i,n,h,r,o){if(!o)return"";if(n<=0)return"";let u=o(t,i);if(u.width<=n)return t;if(u.height>h)return"";const s=t,l=t.length,c=u.width/function(t){return t=t.replace(/[\u200A\u200B\u200C\u200D\u200E\u200F\uFEFF]/g,""),t.length}(t);let f=Math.max(Math.floor(n/c)-2,r),g=s.substring(0,f)+e,d=g;u=o(g,i);let a=u;for(;u.width<n&&!(f>=s.length);){const t=n-u.width,h=Math.min(l-f,Math.max(Math.floor(t/c),1));if(f+=h,g=s.substring(0,f)+e,u=o(g,i),1==h&&u.width>n){g=d,u=a;break}d=g,a=u}for(;u.width>n;){if(f<=r){g="";break}f-=1,g=s.substring(0,f)+e,u=o(g,i)}return g}function o(t,i,e,h,u,s,l=1){const c=t.join(" "),{width:f,height:g}=s(c,i);if(g>h)return[];if(f<=e)return[t.join(" ")];let d=0,a="";for(;d<t.length;){const c=t.slice(0,d+1).join(" "),f=r(c,i,e,h,u,s),g=""===f;if(f!=c){const r=t.slice(d),c=l<n?o(r,i,e,h-12,u,s,l+1):[];return 0===c.length?[f]:[a,...c]}if(g)return[];d+=1,a=c}return[t.join(" ")]}function u(t,i,e,n,h,r){return o(t.split(/\s+/),i,e,n,h,r,1)}function s(t,i,e,n){let h,r;return"left"===t?(h=i.x+n.height/2-(e?n.height/2:0),r=i.y+i.height/2):"right"===t?(h=i.x+i.width-(e?n.height/2:0),r=i.y+i.height/2):"top"===t?(h=i.x+i.width/2,r=i.y+n.height/2):(h=i.x+i.width/2,r=i.y+i.height-n.height/2),{x:h,y:r}}t.centerTextInAvailSpace=s,t.getTextInfo=function(t,i,e,n,o,s){const l=o?u(t,i,e,n,1,s):[r(t,i,e,n,1,s)],c=s("MV",i).width,f=l.map((t=>s(t,i))),g=l.every((t=>""===t)),d=Math.max(...f.map((t=>t.width)));return{lines:l,dims:f,didNotFit:g,height:l.length*c,width:d,isMultiline:l.length>1,lineHeight:c,isTruncated:h(l)}},t.getTextProps=function(t,i,e,n,h,r){let{x:o,y:u}=e;const s=r("MV",i).width,l=[];return t.forEach(((t,i)=>{const e=n?`matrix(0, ${h?1:-1}, ${h?-1:1}, 0, ${o}, ${u})`:void 0;l.push({text:t,x:n?void 0:o,y:n?void 0:u+i*s,transform:n?e:void 0}),o+=n?s:0,u+=n?0:s})),l},t.positionMultilineText=(t,e,n,h,r,o)=>{const u=i.cloneDimension(r);return t.map(((t,i)=>{const r=s(h,u,o,e[i]);return"top"===h?(u.y+=n,u.height-=n):"left"===h?(u.x+=n,u.width-=n):"bottom"===h?u.height-=n:u.width-=n,r}))},t.truncateMultilineText=u,t.truncateSingleLineText=r}));
//# sourceMappingURL=utils-2e2a48d1.js.map
