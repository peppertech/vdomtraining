{"version":3,"file":"InlineUserAssistance-5b95b4fc.js","sources":["../../src/UNSAFE_UserAssistance/InlineRequired.tsx","../../src/UNSAFE_UserAssistance/InlineUserAssistanceContainer.tsx","../../src/UNSAFE_UserAssistance/InlineUserAssistance.tsx"],"sourcesContent":["import { useTranslationBundle } from '../hooks/UNSAFE_useTranslationBundle';\nimport { BundleType } from '../resources/nls/bundle';\nimport { useComponentTheme } from '../hooks/UNSAFE_useComponentTheme';\nimport { UserAssistanceVariantOptions } from './themes/UserAssistanceStyles.css';\nimport { UserAssistanceRedwoodTheme } from './themes/redwood/UserAssistanceTheme';\n\ntype Props = {\n  align?: 'start' | 'end';\n  hasMessages?: boolean;\n  hasHelp?: boolean;\n};\n\nexport function InlineRequired({ align = 'end', hasHelp = false, hasMessages = false }: Props) {\n  const { classes } = useComponentTheme<UserAssistanceVariantOptions>(UserAssistanceRedwoodTheme, {\n    align,\n    visible: hasHelp || hasMessages ? 'hide' : 'show' // TODO: fix typing so that options autocomplete\n  });\n\n  const translations = useTranslationBundle<BundleType>('@oracle/oraclejet-preact');\n  const requiredStr = translations.userAssistance_required();\n\n  return <div class={classes}>{requiredStr}</div>;\n}\n","import { ComponentChildren } from 'preact';\nimport { useComponentTheme } from '../hooks/UNSAFE_useComponentTheme';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { UserAssistanceDensityType } from './InlineUserAssistance';\nimport {\n  UserAssistanceStyles,\n  UserAssistanceVariantOptions\n} from './themes/UserAssistanceStyles.css';\nimport { useInputGroupContext } from '../hooks/UNSAFE_useInputGroupContext';\nimport { UserAssistanceRedwoodTheme } from './themes/redwood/UserAssistanceTheme';\n\ntype Props = {\n  id?: string;\n  children?: ComponentChildren;\n  variant?: UserAssistanceDensityType;\n};\n\n// defaults to type='reflow'. If this is within an oj-form-layout, the o-f-l\n// will pass down its type which defaults to 'efficient' (TODO).\nexport function InlineUserAssistanceContainer({ variant = 'reflow', children, id }: Props) {\n  const {\n    classes,\n    styles: { inlineContainerBaseStyles }\n  } = useComponentTheme<UserAssistanceVariantOptions, UserAssistanceStyles>(\n    UserAssistanceRedwoodTheme,\n    {\n      container: variant\n    }\n  );\n\n  // we want to suppress the display of messages if it's in a group context\n  const inputGroupContext = useInputGroupContext();\n  if (inputGroupContext !== null) return null;\n\n  const content = (\n    <div class={classNames([classes, inlineContainerBaseStyles])} id={id}>\n      {children}\n    </div>\n  );\n\n  return content;\n}\n","import { ComponentProps } from 'preact';\nimport { ComponentMessageItem, ComponentMessageContainer } from '../UNSAFE_ComponentMessage';\nimport { useFormContext } from '../hooks/UNSAFE_useFormContext';\nimport { useFormFieldContext } from '../hooks/UNSAFE_useFormFieldContext';\nimport { InlineHelp } from './InlineHelp';\nimport { InlineRequired } from './InlineRequired';\nimport { InlineUserAssistanceContainer } from './InlineUserAssistanceContainer';\n\nexport type UserAssistanceDensityType = 'reflow' | 'efficient';\n\ntype Props = {\n  assistiveText?: string;\n  fieldLabel?: string;\n  helpSourceLink?: string;\n  helpSourceText?: string;\n  id?: string;\n  isRequiredShown?: boolean;\n  requiredAlignment?: ComponentProps<typeof InlineRequired>['align'];\n  messages?: ComponentMessageItem[];\n  userAssistanceDensity?: UserAssistanceDensityType;\n};\n\n// This has the precedence rules for the user assistance.\nexport function InlineUserAssistance({\n  assistiveText,\n  fieldLabel,\n  helpSourceLink,\n  helpSourceText,\n  id,\n  isRequiredShown,\n  requiredAlignment,\n  messages = [],\n  userAssistanceDensity\n}: Props) {\n  const { isReadonly: isFormReadonly } = useFormContext();\n  const needsUserAssistanceIfNoContent =\n    userAssistanceDensity === 'efficient' && isFormReadonly === false;\n  const { isFocused } = useFormFieldContext();\n  const uaInlineContent =\n    messages.length > 0 ? (\n      <ComponentMessageContainer fieldLabel={fieldLabel} messages={messages} />\n    ) : (assistiveText || helpSourceLink) && isFocused ? (\n      <InlineHelp\n        assistiveText={assistiveText}\n        sourceLink={helpSourceLink}\n        sourceText={helpSourceText}\n      />\n    ) : isRequiredShown ? (\n      <InlineRequired align={requiredAlignment} />\n    ) : null;\n\n  // when reflow we do not render unless it has content.\n  // when efficient we render regardless of if it has content.\n  // TODO: Get the userAssistanceDensity value from the FormContext\n  return uaInlineContent || needsUserAssistanceIfNoContent ? (\n    <InlineUserAssistanceContainer id={id} variant={userAssistanceDensity}>\n      {uaInlineContent}\n    </InlineUserAssistanceContainer>\n  ) : null;\n}\n"],"names":["InlineRequired","align","hasHelp","hasMessages","classes","useComponentTheme","UserAssistanceRedwoodTheme","visible","requiredStr","useTranslationBundle","userAssistance_required","_jsx","class","children","InlineUserAssistanceContainer","variant","id","styles","inlineContainerBaseStyles","container","useInputGroupContext","classNames","assistiveText","fieldLabel","helpSourceLink","helpSourceText","isRequiredShown","requiredAlignment","messages","userAssistanceDensity","isReadonly","isFormReadonly","useFormContext","needsUserAssistanceIfNoContent","isFocused","useFormFieldContext","uaInlineContent","length","ComponentMessageContainer","InlineHelp","sourceLink","sourceText"],"mappings":"y4CAYgB,SAAAA,GAAeC,MAAEA,EAAQ,MAAKC,QAAEA,GAAU,EAAKC,YAAEA,GAAc,IAC7E,MAAMC,QAAEA,GAAYC,EAAiBA,kBAA+BC,6BAA4B,CAC9FL,QACAM,QAASL,GAAWC,EAAc,OAAS,SAIvCK,EADeC,uBAAiC,4BACrBC,0BAEjC,OAAOC,EAAAA,WAAKC,MAAOR,EAAUS,SAAAL,GAC/B,CCHM,SAAUM,GAA8BC,QAAEA,EAAU,SAAQF,SAAEA,EAAQG,GAAEA,IAC5E,MAAMZ,QACJA,EACAa,QAAQC,0BAAEA,IACRb,EAAiBA,kBACnBC,6BACA,CACEa,UAAWJ,IAMf,GAA0B,OADAK,EAAAA,uBACM,OAAO,KAQvC,OALET,EAAAA,IAAA,MAAA,CAAKC,MAAOS,EAAUA,WAAC,CAACjB,EAASc,IAA6BF,GAAIA,EAC/DH,SAAAA,GAKP,2CClBM,UAA+BS,cACnCA,EAAaC,WACbA,EAAUC,eACVA,EAAcC,eACdA,EAAcT,GACdA,EAAEU,gBACFA,EAAeC,kBACfA,EAAiBC,SACjBA,EAAW,GAAEC,sBACbA,IAEA,MAAQC,WAAYC,GAAmBC,EAAcA,iBAC/CC,EACsB,cAA1BJ,IAA4D,IAAnBE,GACrCG,UAAEA,GAAcC,EAAAA,sBAChBC,EACJR,EAASS,OAAS,EAChB1B,EAAAA,IAAC2B,EAAAA,0BAAyB,CAACf,WAAYA,EAAYK,SAAUA,KAC1DN,GAAiBE,IAAmBU,EACvCvB,EAAAA,IAAC4B,EAAAA,WAAU,CACTjB,cAAeA,EACfkB,WAAYhB,EACZiB,WAAYhB,IAEZC,EACFf,EAAAA,IAACX,EAAe,CAAAC,MAAO0B,IACrB,KAKN,OAAOS,GAAmBH,EACxBtB,MAACG,EAA6B,CAACE,GAAIA,EAAID,QAASc,EAC7ChB,SAAAuB,IAED,IACN"}