define(['exports', './useDatatip-9942601b', './layoutUtils-8805fc5b', 'preact/jsx-runtime', './VisTabularDatatip-55bbd19f', './colorUtils-a785c4c4', './accUtils-530bdb90', './useUser-3ef25571'], (function(e,s,t,a,i,r,o,n){"use strict";function l(e,s,t,a,i,r,o,n){let l,u,d;if(n&&"y"in e){const s=e.x;u=a?.x?.format?a?.value?.format?.(s):o?.(s);const t=e.y;d=a?.y?.format?a?.value?.format?.(t):o?.(t)}else if("value"in e&&void 0!==e.value){const s=e.value;l=a?.value?.format?a?.value?.format?.(s):o?.(s)}const p=[];return 0!=a?.series?.isDisplayed&&p.push({key:a?.series?.label||"Series",value:s}),0!=a?.group?.isDisplayed&&p.push({key:a?.group?.label||(i?"Date":"Group"),value:i?r?.(new Date(t).getTime()):t}),0!=a?.value?.isDisplayed&&(n?(p.push({key:a?.value?.label||"X",value:u}),p.push({key:a?.value?.label||"Y",value:d})):p.push({key:a?.value?.label||"Value",value:l})),p}e.useChartDatatip=({isDataCursorEnabled:e,dataCursorPosition:o,isHoriz:u,datatip:d,xScale:p,getDataItem:x,getDataItemPos:c,hoveredItemInfo:m,focusedItemInfo:f,series:v,valueFormats:b,groups:g,width:I,height:y,findNearest:h,timeAxisType:D,touchResponse:A,isDisabled:C,formatAxisLabel:T,formatYValue:V,hasXYValues:Y})=>{let k=g.length>0&&v.length>0?C?void 0:f?.isCurrent?f:m?.isCurrent&&void 0!==m.seriesIndex&&void 0!==m.groupIndex?m:void 0:void 0;const U=f?.isCurrent||e?"element":"pointer",F=f?.isCurrent?c(f.seriesIndex,f.groupIndex):void 0,{direction:P}=n.useUser(),X="rtl"===P;let L,R,S="top-start",j=t.calculateOffset(X,I,F);if(e&&null!=o?.x&&null!=o?.y){k=k||h?.(o.x,o.y);const e=p.transform(o.x);j={mainAxis:-1,crossAxis:-1},u?(S="end",j.mainAxis=-10,j.crossAxis=e-y/2):(S="top",j.crossAxis=X?I/2-e:e-I/2,j.mainAxis=-10)}if(null!=k?.seriesIndex&&null!=k?.groupIndex){R=x(k.seriesIndex,k.groupIndex);const e=R?{data:R,seriesIndex:k.seriesIndex,groupIndex:k.groupIndex,id:R.id}:void 0;if(e){L=(d||function(e){const s="mixedFrequency"===e.timeAxisType,t="enabled"===e.timeAxisType||"skipGaps"===e.timeAxisType;return r=>{const o=e.groups.name||e.groups.id,n=s?r.data.x:t?o:void 0;return{content:a.jsx(i.VisTabularDatatip,{tableData:l(r.data,e.series.name||e.series.id.toString(),n||e.groups.name||e.groups.id,e.valueFormats,null!=e.timeAxisType,e.formatAxisLabel,e.formatYValue,e.hasXYValues)}),borderColor:r.data.color||e.series.color}}}({series:v[k.seriesIndex],groups:g[k.groupIndex],valueFormats:b,timeAxisType:D,formatAxisLabel:T,formatYValue:V,hasXYValues:Y}))(e)}}const w=r.getColorRamp(),G=L?.borderColor||k&&(v[k.seriesIndex].color||v[k.seriesIndex].lineColor||v[k.seriesIndex].areaColor)||k&&w[k.seriesIndex%w.length],{datatipContent:q,datatipProps:z}=s.useDatatip({content:L?.content,anchor:U,placement:S,offset:j,borderColor:G,touchResponse:A,isDisabled:C});return{datatipContent:q,datatipProps:z}}}));
//# sourceMappingURL=useChartDatatip-947eeffe.js.map
