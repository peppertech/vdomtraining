define(['exports', 'preact/hooks', './keys-4755c121', './textSelectionUtils-06c7855d'], (function(e,t,r,n){"use strict";const i=(e,t,n,i,o,l,c,s,u,a)=>{if(void 0!==i){if(void 0!==o&&o!==l){let a=t;const f=c(i),y=c(l),p=c(o);if(-1===f||-1===y||-1===p)return;const d=Math.min(f,y),k=Math.max(f,y),v=s(d,k+1);if(a=r.addKeys(a,v),p<d||p>k){const e=p<d?s(p,d):s(k+1,p+1);a=r.removeKeys(a,e,n)}t!=a&&u&&(u({value:a,target:e.target}),"click"===e.type&&e.stopPropagation())}else a?.({value:{start:i,end:l},eventType:"click"===e.type?"shiftClick":"shiftArrowKeys"});return l}},o=(e,t,n,i,o,l)=>{let c=t;c=r.containsKey(c,o)?r.removeKey(c,o,i):"single"===n?{all:!1,keys:new Set([o])}:r.addKey(c,o),t!=c&&l&&(l({value:c,target:e.target}),"click"===e.type&&e.stopPropagation())};e.useDropDownSelection=function(e,r,l,c,s,u,a,f,y,p,d){const k=t.useRef(),v=t.useRef(),g=t.useCallback((t=>{if(n.getIsSelectionPending())return;const a=e(t.target);if(null!=a)if("single"===l)o(t,r,l,c,a,y);else if("multiple"===l)if(t.shiftKey&&void 0!==k.current){void 0!==i(t,r,c,k.current,v.current,a,s,u,y,p)&&(v.current=a)}else k.current=a,v.current=void 0,o(t,r,l,c,a,y)}),[e,r,l,c,s,u,y,p]),K=t.useCallback((e=>{if(" "!==e.key){if("multiple"===l){if("ArrowUp"!==e.key&&"ArrowDown"!==e.key)return;const t=a(f,"ArrowUp"===e.key)();if(null==t)return;if(d?.(t),e.shiftKey){e.preventDefault(),void 0===k.current&&(k.current=f);const n=i(e,r,c,k.current,v.current,t,s,u,y,p);void 0!==n&&(v.current=n)}else k.current=t,v.current=void 0}}else e.preventDefault()}),[a,f,r,l,c,s,u,y,p,d]),w=t.useCallback((t=>{if(" "===t.key||"Enter"===t.key){const n=e(t.target);if(null==n)return;o(t,r,l,c,n,y)}}),[e,r,l,c,y]),D=t.useCallback((e=>{void 0!==k.current&&e.shiftKey&&"multiple"===l&&e.preventDefault()}),[l]);return{dropDownSelectionProps:"none"===l||null==y?{}:{onClick:g,onKeyDown:K,onKeyUp:w,onPointerDown:D}}}}));
//# sourceMappingURL=useDropDownSelection-c946783d.js.map
