define(['exports', 'preact/jsx-runtime', 'preact/hooks', './Modal-36acfc12', './WindowOverlay-a2d80d55', './tabbableUtils-3f80fcf5', './UNSAFE_Sheet/themes/SheetStyles.css', './refUtils-d354a169', './useAnimationStatus-88b9de0a', './animationUtils-716a9aa6'], (function(e,t,n,s,o,r,a,i,c,l){"use strict";function u(e,{threshold:t=10,maximumTime:s=300,tolerance:o=50,isDisabled:r=!1}={threshold:10,maximumTime:300,tolerance:50,isDisabled:!1}){const a=n.useRef({pointerDownId:0,startTime:null,prevpageX:0,prevpageY:0,elementScrollTop:0}),i=n.useCallback((()=>{a.current={pointerDownId:null,startTime:0,prevpageX:0,prevpageY:0,elementScrollTop:0}}),[]),c=n.useCallback((e=>{const t=e.changedTouches[0];a.current.pointerDownId?i():a.current={pointerDownId:t.identifier,startTime:e.timeStamp,prevpageX:t.pageX,prevpageY:t.pageY,elementScrollTop:e.currentTarget.scrollTop}}),[i]),l=n.useCallback((n=>{const r=n.changedTouches[0];r.identifier===a.current.pointerDownId&&a.current.startTime&&n.timeStamp-a.current.startTime<s&&r.pageY-a.current.prevpageY>t&&Math.abs(r.pageX-a.current.prevpageX)<=o&&0===a.current.elementScrollTop&&e?.({direction:"down"}),i()}),[t,e,i,s,o]);return{swipeProps:r?{}:{onTouchStart:c,onTouchEnd:l,ontouchcancel:i}}}const p={opening:{...l.SLIDE_UP_XLARGE,options:{duration:l.DURATION_LARGE}},closing:{...l.SLIDE_DOWN_XLARGE,options:{duration:l.DURATION_LARGE}}},d=96;e.Sheet=({children:e,onClose:l,isOpen:m=!1,initialFocus:h="none"})=>{const f=n.useRef(null);n.useEffect((()=>{if(m&&"firstFocusable"===h){const e=f.current;e&&r.focusWithin(e)}}),[m,h]);const g=n.useCallback((()=>{l?.({reason:"pointerDismissed"})}),[l]),{swipeProps:S}=u(g),T=n.useCallback((e=>{if(!e.defaultPrevented)switch(e.code){case"Tab":case"Escape":l?.({reason:"keyboardDismissed"})}}),[l]),{setAnimationElementRef:b,status:D}=c.useAnimationStatus({isOpen:m,isAnimatedOnMount:!1,animationStates:p});n.useEffect((()=>{if("opening"===D&&"firstFocusable"===h){const e=f.current;e&&r.focusWithin(e)}}),[D,h]);const v=n.useMemo((()=>i.mergeRefs(b,f)),[b]),w="unmounted"!==D;return t.jsx(t.Fragment,{children:w?t.jsx(s.Modal,{isOpen:w,onBackdropClick:g,children:t.jsx(o.WindowOverlay,{placement:"bottom",children:t.jsx("div",{...S,ref:v,class:a.sheetMenuStyles.sheetMenuContainerWrapper,style:{maxHeight:`calc(100vh - ${d}px)`},onKeyDown:T,children:e})})}):null})},e.useSheetSwipe=u}));
//# sourceMappingURL=Sheet-e6308643.js.map
