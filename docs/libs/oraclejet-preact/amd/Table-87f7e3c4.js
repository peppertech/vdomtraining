define(['exports', 'preact/jsx-runtime', 'preact/hooks', 'preact/compat', './classNames-08d99695', './useId-c9578d26', './TabbableModeContext-a9c97640', './useUser-3ef25571', 'preact', './LoadMoreCollection-83413a59', './useTranslationBundle-d07d4b20', './PRIVATE_Table/themes/TableSkeletonStyles.css', './dimensions-60420dbb', './mergeInterpolations-9ede4cf7', './Selector-2b0c34a7', './PRIVATE_Table/themes/TableRowStyles.css', './keys-4755c121', './clientHints-4f5a07b0', './PRIVATE_Table/themes/Table.css', './PRIVATE_Table/themes/TableCellStyles.css', './PRIVATE_Table/themes/TableFooterCellStyles.css', './PRIVATE_Table/themes/TableHeaderCellStyles.css', './collectionUtils-17f5cc64', './useInteractionStyle-76a64325', './PRIVATE_Table/themes/redwood/TableNoDataTheme', './useComponentTheme-5aa41a8f', './SelectorAll-1c889a9c', './UpParent-f7920eb6', './DownParent-5aab2018', './EmbeddedIconButton-bad166c7', './Menu-5d447084', './MenuItem-87cd59b8', './logger-0f873e29', './LayerHost-639b3284', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', './tooltipUtils-e5bdb734', 'css!./IconStyle.styles.css', './SelectMenuGroupContext-67f24a8f', './UNSAFE_Separator/themes/SeparatorStyles.css', 'css!./MenuSeparatorStyles.styles.css', 'module', './UNSAFE_Menu/themes/redwood/MenuSeparatorVariants.css', './FocusTracker-2ac5bbfe', './CollectionInteractionContext-0b4ed98b', './useCollectionInteractionContext-f345e8f7', './mergeProps-bcfa6a92', './useContextMenuGesture-d55fbea5', './useColorScheme-443e7cc7', './useScale-e311d35f', './useTooltipControlled-ee3276de', './tabbableUtils-85aa6918', './textSelectionUtils-06c7855d', './useResizeObserver-275c3e83', './PRIVATE_Table/themes/redwood/TableTheme', './useTestId-b5cd4766'], (function(e,t,l,n,o,r,i,a,s,c,u,d,f,y,h,g,p,b,S,m,v,C,w,R,k,x,E,K,P,T,I,H,A,j,M,z,F,D,L,B,O,W,V,N,$,q,G,X,Y,U,_,J,Q,Z,ee,te,le){"use strict";function ne({tableId:e,isRendered:l,columnWidthsArray:n}){const o=e=>null==e?"":`width:${e}px;`;return l?t.jsx("colgroup",{children:n.map((l=>t.jsx("col",{style:o(l),"data-oj-table-col":e})))}):null}const oe=Array.from(["height","width"],(e=>f.dimensionInterpolations[e])),re=[...Object.values(oe)],ie=y.mergeInterpolations(re);function ae({...e}){const l=e.isHighContrast?d.tableSkeletonStylesHC:d.tableSkeletonStyles,n=o.classNames([l.bar]),r=ie({width:"100%",...e});return t.jsx("div",{style:r,class:n})}function se({tableId:e,colspan:l,hasTabIndex:n,isShowFocusRing:r,isPendingLayout:i=!1,isLoadMore:a=!1,isHighContrast:s}){const f=u.useTranslationBundle("@oracle/oraclejet-preact"),y=s?d.tableSkeletonStylesHC:d.tableSkeletonStyles,h=[y.cell];r&&h.push(y.focus);const g=o.classNames(h),p=o.classNames([y.innerCell]),b=o.classNames([y.row,y.rowHeight]),S=i?o.classNames([y.row,y.headerHeight]):b,m=t.jsx("div",{style:"width:1px;height:0px;overflow:hidden;",children:f.collection_loading()});return t.jsx("tr",{class:c.LOADMORE_STYLE_CLASS,role:"row",children:t.jsx("td",{class:g,colSpan:l,role:"gridcell",tabIndex:n?0:-1,"data-oj-cell-type":i?"pending":a?"loadMore":"loading",...i?{"data-oj-table-pending-cell":e}:a?{"data-oj-table-load-more-cell":e}:{"data-oj-table-loading-cell":e},"data-oj-table-focusable":e,children:t.jsxs("div",{class:p,children:[m,[...Array(a?3:25)].map(((e,l)=>t.jsx("div",{class:0===l?S:b,children:t.jsx(ae,{height:"4x",isHighContrast:s})})))]})})})}const ce=({isFirstColumnIndex:e,isFinalColumnIndex:t,isFirstRowIndex:l,isFinalRowIndex:n,hasVerticalGridlines:o,hasHorizontalGridlines:r,hasLastHorizontalGridline:i,isRowSelected:a,isPreviousRowSelected:s,isColumnSelected:c,isPreviousColumnSelected:u,isShowFocusRing:d,isSticky:f,isRowSelectionEnabled:y,isRowSingleSelection:h,isActive:g,isHover:p,isPseudoHover:b,isStickyStartEdge:v,isStickyEndEdge:C,isRtl:w,isHighContrast:R,horizontalAlignment:k,verticalAlignment:x,variant:E,padding:K})=>{const P=R?m.tableCellStylesHC:m.tableCellStyles,T=[P.base],{isTopPadding:I,isBottomPadding:H,isStartPadding:A,isEndPadding:j}=de(K);fe(T,k,x),he(T,P,f,v,C,w),y&&(g?T.push(P.active):p?T.push(P.hover):b&&T.push(P.pseudoHover)),"highlight"===E&&T.push(P.rowHighlight),ye(T,P,d);let M=!1;return a&&(M=!0,T.push(P.selected)),h&&(a||s)?(T.push(P.horizontalSelectedGridTop),T.push(I?P.selectedBorderTopPadding:P.selectedBorderTopNoPadding)):!l&&r?(T.push(P.horizontalGridTop),T.push(I?P.borderTopPadding:P.borderTopNoPadding)):T.push(I?P.topSpacerPadding:P.topSpacerNoPadding),n?(T.push(P.lastRow),h&&a?(T.push(P.horizontalSelectedGridBottom),T.push(H?P.selectedBorderBottomPadding:P.selectedBorderBottomNoPadding)):i?(T.push(P.horizontalGridBottom),T.push(H?P.borderBottomPadding:P.borderBottomNoPadding)):T.push(H?P.bottomSpacerPadding:P.bottomSpacerNoPadding)):(T.push(P.notLastRow),T.push(H?P.bottomPadding:P.bottomNoPadding)),c?(M||(T.push(P.selected),M=!0),pe(T,P,A,j,t)):(M||T.push(S.backgroundStyles.inherit),ge(T,P,u,A,j,e,t,o)),T},ue=({isHeader:e,isActive:t,isHover:l,isPseudoHover:n,isFirstColumnIndex:o,isFinalColumnIndex:r,hasVerticalGridlines:i,isColumnSelectionEnabled:a,isSelected:s,isPreviousColumnSelected:c,isColumnSelectable:u,isShowFocusRing:d,isSticky:f,isStickyStartEdge:y,isStickyEndEdge:h,isRtl:g,horizontalAlignment:p,verticalAlignment:b,isHighContrast:m,padding:w})=>{let R,k,x,E,K;e?m?(R=C.tableHeaderCellStylesHC,k=C.headerPreviousInteractiveBorderStartHC,E=C.headerPreviousPseudoHoverBorderStartHC,x=C.headerPreviousInteractiveBorderStartNoPaddingHC,K=C.headerPreviousPseudoHoverBorderStartNoPaddingHC):(R=C.tableHeaderCellStyles,k=C.headerPreviousInteractiveBorderStart,E=C.headerPreviousPseudoHoverBorderStart,x=C.headerPreviousInteractiveBorderStartNoPadding,K=C.headerPreviousPseudoHoverBorderStartNoPadding):m?(R=v.tableFooterCellStylesHC,k=v.footerPreviousInteractiveBorderStartHC,x=v.footerPreviousInteractiveBorderStartNoPaddingHC,E=v.footerPreviousPseudoHoverBorderStartHC,K=v.footerPreviousPseudoHoverBorderStartNoPaddingHC):(R=v.tableFooterCellStyles,k=v.footerPreviousInteractiveBorderStart,x=v.footerPreviousInteractiveBorderStartNoPadding,E=v.footerPreviousPseudoHoverBorderStart,K=v.footerPreviousPseudoHoverBorderStartNoPadding);const P=[R.base],{isTopPadding:T,isBottomPadding:I,isStartPadding:H,isEndPadding:A}=de(w);if(P.push(I?R.bottomPadding:R.bottomNoPadding),P.push(T?R.topPadding:R.topNoPadding),fe(P,p,b),he(P,R,f,y,h,g),s)P.push(R.selected),pe(P,R,H,A,r);else{let e;P.push(S.backgroundStyles.inherit),a&&(e={startInteractivePaddingStyles:[k,E],startInteractiveNoPaddingStyles:[x,K]}),ge(P,R,c,H,A,o,r,i,e)}if(ye(P,R,d),u){let e;t?e={selectedStyle:R.activeSelected,notSelectedStyle:R.active,borderStartStyle:R.activeBorderStart,borderStartNoPaddingStyle:R.activeBorderStartNoPadding,borderEndStyle:R.activeBorderEnd,borderEndNoPaddingStyle:R.activeBorderEndNoPadding}:l?e={selectedStyle:R.hoverSelected,notSelectedStyle:R.hover,borderStartStyle:R.hoverBorderStart,borderStartNoPaddingStyle:R.hoverBorderStartNoPadding,borderEndStyle:R.hoverBorderEnd,borderEndNoPaddingStyle:R.hoverBorderEndNoPadding}:n&&(e={selectedStyle:R.pseudoHoverSelected,notSelectedStyle:R.pseudoHover,borderStartStyle:R.pseudoHoverBorderStart,borderStartNoPaddingStyle:R.pseudoHoverBorderStartNoPadding,borderEndStyle:R.pseudoHoverBorderEnd,borderEndNoPaddingStyle:R.pseudoHoverBorderEndNoPadding}),null!=e&&(s?P.push(e.selectedStyle):(P.push(e.notSelectedStyle),c||i&&!o||P.push(H?e.borderStartStyle:e.borderStartNoPaddingStyle),r&&P.push(A?e.borderEndStyle:e.borderEndNoPaddingStyle)))}return P},de=e=>{const t="disabled"===e,l=e instanceof Object,n=!(t||l&&"disabled"===e?.bottom),o=!(t||l&&"disabled"===e?.end),r=!(t||l&&"disabled"===e?.start);return{isTopPadding:!(t||l&&"disabled"===e?.top),isBottomPadding:n,isStartPadding:r,isEndPadding:o}},fe=(e,t,l)=>{e.push(S.textAlignStyles[t]),e.push(S.verticalAlignStyles[l])},ye=(e,t,l)=>{l&&e.push(t.focused)},he=(e,t,l,n,o,r)=>{l&&e.push(t.stickyColumn),n?(e.push(t.stickyEdge),e.push(r?t.stickyEdgeLeft:t.stickyEdgeRight)):o&&(e.push(t.stickyEdge),e.push(r?t.stickyEdgeRight:t.stickyEdgeLeft))},ge=(e,t,l,n,o,r,i,a,s)=>{l?(e.push(t.verticalSelectedGridStart),e.push(n?t.selectedBorderStartPadding:t.selectedBorderStartNoPadding)):!r&&a?(e.push(t.verticalGridStart),e.push(n?t.borderStartPadding:t.borderStartNoPadding)):n?(e.push(t.startSpacerPadding),null!=s&&e.push(...s.startInteractivePaddingStyles)):(e.push(t.startSpacerNoPadding),null!=s&&e.push(...s.startInteractiveNoPaddingStyles)),i?e.push(o?t.endSpacerPadding:t.endSpacerNoPadding):e.push(o?t.endPadding:t.endNoPadding)},pe=(e,t,l,n,o)=>{e.push(t.verticalSelectedGridStart),e.push(l?t.selectedBorderStartPadding:t.selectedBorderStartNoPadding),o?(e.push(t.verticalSelectedGridEnd),e.push(n?t.selectedBorderEndPadding:t.selectedBorderEndNoPadding)):e.push(n?t.endPadding:t.endNoPadding)},be=e=>e.dataset.ojCellType,Se=e=>"number"===e.dataset.ojKeyType?Number(e.dataset.ojKey):e.dataset.ojKey,me=(e,t,l)=>{const n=e.querySelectorAll(`[data-oj-table-data-row='${t}']`);if(n.length>l)return Se(n[l])},ve=(e,t,l)=>{const n=e.querySelectorAll(`[data-oj-table-data-row='${t}']`),o=Array.prototype.indexOf.call(n,l);if(o>-1)return o};const Ce=e=>e.dataset.ojColumnKey,we=(e,t,l,n)=>{const o=e.querySelectorAll(n?`[data-oj-table-header-cell='${t}']`:`[data-oj-table-footer-cell='${t}']`),r=Array.prototype.indexOf.call(o,l);if(r>-1)return r};function Re(e,t,l,n,o){const r=null!=n?n:`[data-oj-table-focusable='${t}']`,i=o?e.parentElement:e;if(null!=i){const e=i.closest(r);if(null!=e){const n=be(e);if("data"===n)return{rowKey:w.keyExtractor(e,`[data-oj-table-data-row='${t}']`),columnKey:Ce(e),type:n};if("header"===n||"footer"===n)return{columnKey:Ce(e),type:n};if("noData"===n||"pending"===n)return{type:n};if("loading"===n||"loadMore"===n){const e=Te(l,!0);if(null!=e)return{columnKey:e,type:n}}}}}function ke(e,t,l){if("header"===l.type){const n=e.querySelectorAll(`[data-oj-table-header-cell='${t}']`);for(const e of n)if(l.columnKey===Ce(e))return e}else if("footer"===l.type){const n=e.querySelectorAll(`[data-oj-table-footer-cell='${t}']`);for(const e of n)if(l.columnKey===Ce(e))return e}else if("data"===l.type){const n=e.querySelectorAll(`[data-oj-table-data-row='${t}']`);for(const e of n)if(l.rowKey===Se(e)){const n=e.querySelectorAll(`[data-oj-table-focusable='${t}']`);for(const e of n)if(l.columnKey===Ce(e))return e}}else{if("noData"===l.type)return e.querySelector(`[data-oj-table-nodata-cell='${t}']`);if("pending"===l.type)return e.querySelector(`[data-oj-table-pending-cell='${t}']`);if("loading"===l.type)return e.querySelector(`[data-oj-table-loading-cell='${t}']`);if("loadMore"===l.type)return e.querySelector(`[data-oj-table-load-more-cell='${t}']`)}}const xe=(e,t)=>{const l=e.querySelector(`[data-oj-table-header-row='${t}']`);return null!=l?l.getBoundingClientRect().height:0},Ee=(e,t)=>{const l=e.querySelector(`[data-oj-table-footer-row='${t}']`);return null!=l?l.getBoundingClientRect().height:0},Ke=(e,t)=>{const l=e.querySelector(`[data-oj-table-data-row='${t}']`);if(null!=l)return Se(l)},Pe=(e,t)=>{const l=e.querySelectorAll(`[data-oj-table-data-row='${t}']`),n=l.length;if(n>0)return Se(l[n-1])},Te=(e,t)=>{if(e.length>0)return t?e[0].key:e[e.length-1].key},Ie=(e,t)=>null!=((e,t)=>e.querySelector(`[data-oj-table-nodata-cell='${t}']`))(e,t),He=(e,t)=>e.querySelectorAll(`[data-oj-table-footer-row='${t}']`).length>0,Ae=e=>{if("enabled"!==e.getAttribute("data-oj-table-tooltip"))return!1;if(""===String(e.innerText).trim())return!1;const t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT);for(;t.nextNode();){const l=new Range,n=t.currentNode;l.selectNodeContents(n);const o=l.getBoundingClientRect().width;let r=!0,i=n.parentElement;for(;null!=i;){const t=getComputedStyle(i);if(r){if(0===o||"hidden"===t.visibility)break;r=!1}const l=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),n=parseFloat(t.borderLeft)+parseFloat(t.borderRight);if(o-(i.getBoundingClientRect().width-l-n)>.015)return!0;if(i===e)break;i=i.parentElement}}return!1};const je=(e,t,l,n)=>{const o=t.relatedTarget;if(null!=o&&null!=o.closest(`#${n}`)){const l=e.getBoundingClientRect();if(!(t.clientX<l.left||t.clientX>l.right||t.clientY<l.top||t.clientY>l.bottom))return}l()},Me={onPointerEnter:e=>{e.target.classList.add(S.preventBrowserTooltipStyle)},onPointerLeave:e=>{e.target.classList.remove(S.preventBrowserTooltipStyle)}};function ze({rowData:e,field:t}){return null!=t?String(e[t]):void 0}function Fe({tableId:e,rowData:l,field:n,columnKey:r,columnIndex:i,rowKey:a,rowIndex:s,isFinalRowIndex:c,isFinalColumnIndex:u,hasVerticalGridlines:d,hasHorizontalGridlines:f,hasFooters:y,hasVerticalUnderflow:h,hasMore:g,isRowSelected:p,isPreviousRowSelected:S,isColumnSelected:m,isPreviousColumnSelected:v,isShowFocusRing:C,hasTabIndex:w,isTabbableMode:R,isRowHeader:k,stickyColumn:x="disabled",renderer:E=ze,selectorRenderer:K,isRowSelectionEnabled:P,isRowSingleSelection:T,variant:I,applyActiveStyle:H,applyHoverStyle:A,applyPseudoHoverStyle:j,isStickyStartEdge:M,isStickyEndEdge:z,isRtl:F,isHighContrast:D,padding:L,tooltip:B,horizontalAlignment:O="start",verticalAlignment:W="center"}){const V=b.getClientHints().browser,N={key:a,data:l},$="function"==typeof L?L(N):L,q="disabled"!==("function"==typeof B?B(N):B),G=f&&(g||h||!y),X=o.classNames(ce({isFirstColumnIndex:0===i,isFinalColumnIndex:u,isFirstRowIndex:0===s,isFinalRowIndex:c,hasVerticalGridlines:d,hasHorizontalGridlines:f,hasLastHorizontalGridline:G,isRowSelected:p,isPreviousRowSelected:S,isColumnSelected:m,isPreviousColumnSelected:v,isShowFocusRing:C,isSticky:"enabled"===x,isRowSelectionEnabled:P,isRowSingleSelection:T,isActive:H,isHover:A,isPseudoHover:j,isStickyStartEdge:M,isStickyEndEdge:z,isRtl:F,isHighContrast:D,horizontalAlignment:O,verticalAlignment:W,variant:I,padding:$})),Y={rowData:l,rowKey:a,field:n,columnKey:r,selector:K,isTabbable:R};return t.jsx("td",{"aria-colindex":i+1,class:X,tabIndex:w?0:-1,role:k?"rowheader":"gridcell","data-oj-cell-type":"data","data-oj-column-key":r,"data-oj-table-focusable":e,"data-oj-table-data-cell":e,"data-oj-table-tooltip":q?"enabled":void 0,...q&&"safari"===V?Me:{},...m?{"aria-selected":!0}:{},children:E(Y)})}const De=n.memo((function({tableId:e,rowKey:l,rowData:n,rowIndex:r,isFinalRow:i,columnsArray:a,rowHeaderColumnKeys:s,hasVerticalGridlines:c,hasHorizontalGridlines:d,hasFooters:f,hasVerticalUnderflow:y,hasMore:b,isSelected:S,isPreviousSelected:m,isRowSelectionEnabled:v,isSingleRowSelectionEnabled:C,selectedRowKeys:w={all:!1,keys:new Set},isShowFocusRing:k,activeColumnKey:x,isTabbableMode:E,selectedColumnKeys:K={all:!1,keys:new Set},variant:P,disabledInteractionKeys:T,onSelectionChange:I,startStickyEdge:H,endStickyEdge:A,isRtl:j,isHighContrast:M}){const z=u.useTranslationBundle("@oracle/oraclejet-preact"),{interactionProps:F,applyActiveStyle:D,applyHoverStyle:L,applyPseudoHoverStyle:B}=R.useInteractionStyle({disabledKeys:T}),O=M?g.tableRowStylesHC:g.tableRowStyles,W=[O.base,i?O.lastRowHeight:O.rowHeight],V=o.classNames(W),N=(r+2).toString(),$=e=>{null!=I&&I({value:{row:e.value,column:{all:!1,keys:new Set}},target:e.target},!1)},q=v&&!C?()=>t.jsx(h.Selector,{"aria-label":z.collection_selectRow({ROW_NAME:N}),onChange:$,rowKey:l,selectedKeys:w}):void 0;let G=!1;return t.jsx("tr",{"aria-rowindex":r+2,class:V,role:"row","data-oj-key":l,"data-oj-table-data-row":e,...v?S?{"aria-selected":!0}:{"aria-selected":!1}:{},..."number"==typeof l&&{"data-oj-key-type":"number"},...v&&F,children:a.map(((o,u)=>{const h=o.key,g=p.containsKey(K,h),w=h===x,R=w&&!E,T={tableId:e,rowData:n,field:o.value.field,stickyColumn:o.value.sticky,columnKey:h,columnIndex:u,rowKey:l,rowIndex:r,isFinalRowIndex:i,isFinalColumnIndex:u===a.length-1,hasVerticalGridlines:c,hasHorizontalGridlines:d,hasFooters:f,hasVerticalUnderflow:y,hasMore:b,isRowSelected:S,isPreviousRowSelected:m,isColumnSelected:g,isPreviousColumnSelected:G,isShowFocusRing:k&&w,hasTabIndex:R,isTabbableMode:E,isRowHeader:s.has(o.key),renderer:o.value.renderer,selectorRenderer:q,isRowSelectionEnabled:v,variant:P,isRowSingleSelection:C,applyActiveStyle:D,applyHoverStyle:L,applyPseudoHoverStyle:B,isStickyStartEdge:u===H,isStickyEndEdge:u===A,isRtl:j,isHighContrast:M,padding:o.value.padding,tooltip:o.value.tooltip,horizontalAlignment:null!=o.value.alignment?.horizontal?o.value.alignment.horizontal:o.value.horizontalAlignment,verticalAlignment:o.value.alignment?.vertical};return G=g,t.jsx(Fe,{...T})}))})}),((e,t)=>{return!(!e||!t)&&(e.tableId===t.tableId&&e.rowKey===t.rowKey&&e.rowData===t.rowData&&e.rowIndex===t.rowIndex&&e.isFinalRow===t.isFinalRow&&((e,t)=>{if(e.length===t.length){for(let l=0;l<e.length;l++)if(e[l].key!==t[l].key||e[l].value!==t[l].value)return!1;return!0}return!1})(e.columnsArray,t.columnsArray)&&e.hasHorizontalGridlines===t.hasHorizontalGridlines&&e.hasVerticalGridlines===t.hasVerticalGridlines&&(!t.isFinalRow||e.hasFooters===t.hasFooters&&e.hasVerticalUnderflow===t.hasVerticalUnderflow&&e.hasMore===t.hasMore)&&(l=e.rowHeaderColumnKeys,n=t.rowHeaderColumnKeys,null==l?null==n:null!=n&&l.size===n.size&&[...l].every((e=>n.has(e))))&&e.isSelected===t.isSelected&&e.isPreviousSelected===t.isPreviousSelected&&e.isRowSelectionEnabled===t.isRowSelectionEnabled&&e.isSingleRowSelectionEnabled===t.isSingleRowSelectionEnabled&&(!(e.isRowSelectionEnabled&&!e.isSingleRowSelectionEnabled)||p.isSameKey(e.selectedRowKeys,t.selectedRowKeys))&&p.isSameKey(e.selectedColumnKeys,t.selectedColumnKeys)&&e.isShowFocusRing===t.isShowFocusRing&&e.activeColumnKey===t.activeColumnKey&&e.isTabbableMode===t.isTabbableMode&&e.variant===t.variant&&e.onSelectionChange===t.onSelectionChange&&e.startStickyEdge===t.startStickyEdge&&e.endStickyEdge===t.endStickyEdge&&e.isRtl===t.isRtl&&e.isHighContrast===t.isHighContrast&&e.disabledInteractionKeys===t.disabledInteractionKeys);var l,n}));function Le({rootRef:e,tableId:n,columnsCount:r,isShowFocusRing:i,hasTabIndex:a,isTabbableMode:s,ariaRowIndex:c,renderer:d}){const f=b.getClientHints().browser,y=u.useTranslationBundle("@oracle/oraclejet-preact"),h=o.classNames([g.tableRowStyles.base]),{classes:p}=x.useComponentTheme(k.TableNoDataRedwoodTheme,{defaultRenderer:null==d?"isDefaultRenderer":"notDefaultRenderer",showFocusRing:i?"isShowFocusRing":"notShowFocusRing"}),S=o.classNames([p]);const m=null!=d?d:function(){return y.collection_noData()};return l.useLayoutEffect((()=>{if("firefox"===f){const t=e.current;if(null!=t){const e=t.querySelector(`[data-oj-table-body='${n}']`),l=t.querySelector(`[data-oj-table-nodata-cell='${n}']`);null!=e&&null!=l&&(l.style.height="",l.style.height=`${e.getBoundingClientRect().height}px`)}}})),t.jsx("tr",{"aria-rowindex":c,class:h,role:"row",children:t.jsx("td",{"aria-colindex":1,class:S,style:"firefox"!==f?"height: 100%;":void 0,tabIndex:a?0:-1,role:"gridcell",colSpan:r,"data-oj-cell-type":"noData","data-oj-table-focusable":n,"data-oj-table-nodata-cell":n,children:m({isTabbable:s})})})}function Be({rootRef:e,viewportInfo:n,tableId:o,isValidRender:r,getAccessibleRowHeaders:i,tableData:a,columnsArray:u,hasVerticalGridlines:d,hasHorizontalGridlines:f,hasFooters:y,hasVerticalUnderflow:h,isShowFocusRing:g,isTabbableMode:m,hasMore:v,onLoadMore:C,activeCell:w,currentRowKey:R,currentRowVariant:k,selected:x,isRowSelectionEnabled:E,isSingleRowSelectionEnabled:K,disabledInteractionKeys:P,onSelectionChange:T,noDataRenderer:I,startStickyEdge:H,endStickyEdge:A,isRtl:j,isHighContrast:M}){const z=b.getClientHints().browser,F=l.useCallback((e=>({index:e.index,data:e.data.data,key:e.data.metadata})),[]);let D=!1;const L=0===a.length&&v,B=0===a.length&&!v,O={scroller:()=>n.viewportConfig.scroller().current};return t.jsx("tbody",{class:S.backgroundStyles.inherit,role:"presentation","data-oj-table-body":o,children:B||!r?t.jsx(Le,{...(()=>{const t="noData"===w?.type,l=t&&!m;return{rootRef:e,tableId:o,columnsCount:u.length,isShowFocusRing:g&&t,hasTabIndex:l,isTabbableMode:m,ariaRowIndex:r?2:1,renderer:r?I:void 0}})()}):t.jsxs(s.Fragment,{children:[t.jsx(c.LoadMoreCollection,{data:a,loadMoreIndicator:t.jsx(se,{tableId:o,hasTabIndex:L?"loading"===w?.type:"loadMore"===w?.type,colspan:u.length,isLoadMore:!L,isShowFocusRing:g&&(L?"loading"===w?.type:"loadMore"===w?.type),isHighContrast:M}),hasMore:v,onLoadMore:C,viewportConfig:O,children:e=>{const l=F(e),n=l.key,r=w?.rowKey===n,s=r?w.columnKey:void 0,c=p.containsKey(x.row,n),b={tableId:o,columnsArray:u,rowHeaderColumnKeys:i(l),hasVerticalGridlines:d,hasHorizontalGridlines:f,hasFooters:y,hasVerticalUnderflow:h,hasMore:v,isSelected:c,isPreviousSelected:D,disabledInteractionKeys:P,onSelectionChange:T,isRowSelectionEnabled:E,isSingleRowSelectionEnabled:K,variant:R===n?k:"none",isShowFocusRing:g&&r,activeColumnKey:s,isTabbableMode:m,selectedRowKeys:x.row,selectedColumnKeys:x.column,rowIndex:l.index,rowKey:n,rowData:l.data,isFinalRow:l.index===a.length-1,startStickyEdge:H,endStickyEdge:A,isRtl:j,isHighContrast:M};return D=c,t.jsx(De,{...b})}}),t.jsx("tr",{style:"firefox"!==z?"height: 100%;":void 0,role:"presentation","data-oj-table-spacer-row":o})]})})}function Oe({tableId:e,columnKey:n,columnIndex:r,isFinalColumnIndex:i,hasVerticalGridlines:a,isColumnSelectionEnabled:s,isSelected:c,isPreviousColumnSelected:d,isColumnSelectable:f,isRowSelectionEnabled:y,selectedRowKeys:h={all:!1,keys:new Set},isShowFocusRing:g,hasTabIndex:m,isTabbableMode:v,headerText:w,stickyTopOffset:k=0,stickyColumn:x="disabled",renderer:I,disabledInteractionKeys:H,onSelectionChange:A,isShowSortIcon:j,sortable:M="disabled",sortDirection:z,onSortCriterionChange:F,isStickyStartEdge:D,isStickyEndEdge:L,isRtl:B,isHighContrast:O,padding:W,tooltip:V,horizontalAlignment:N="start",verticalAlignment:$="center"}){const q=b.getClientHints().browser,G="disabled"!==V,X=u.useTranslationBundle("@oracle/oraclejet-preact"),{interactionProps:Y,applyActiveStyle:U,applyHoverStyle:_,applyPseudoHoverStyle:J}=R.useInteractionStyle({disabledKeys:H}),Q=o.classNames(ue({isHeader:!0,isActive:U,isHover:_,isPseudoHover:J,isFirstColumnIndex:0===r,isFinalColumnIndex:i,hasVerticalGridlines:a,isColumnSelectionEnabled:s,isSelected:c,isPreviousColumnSelected:d,isColumnSelectable:f,isShowFocusRing:g,isSticky:"enabled"===x,isStickyStartEdge:D,isStickyEndEdge:L,isRtl:B,horizontalAlignment:N,verticalAlignment:$,isHighContrast:O,padding:W}));let Z;Z=p.isSameKey(h,{all:!0,deletedKeys:new Set})?"all":p.isSameKey(h,{all:!1,keys:new Set})?"none":"partial";const ee=e=>{null!=A&&A({value:{row:e.value,column:{all:!1,keys:new Set}},target:e.target},!1)},te=y?()=>t.jsx(E.SelectorAll,{"aria-label":X.collection_selectAllRows(),onChange:ee,selected:Z}):void 0,le=l.useCallback((()=>{if(null!=F){F([{key:n,sortDirection:"ascending"===z?"descending":"ascending"}])}}),[n,z,F]),ne=[S.tableHeaderSortIconStyles.base];j?ne.push(S.tableHeaderSortIconStyles.visible):ne.push(S.tableHeaderSortIconStyles.hidden);const oe=o.classNames(ne),re={key:n,headerText:w,sortable:M,sortDirection:z,selector:te,sortControl:"enabled"===M||null!=z?()=>t.jsx("div",{class:oe,children:t.jsx(T.EmbeddedIconButton,{"aria-label":"enabled"===M?X.collection_sortEnabled():X.collection_sortDisabled(),isDisabled:"enabled"!==M,onAction:le,children:"descending"===z?t.jsx(P.SvgDownParent,{}):t.jsx(K.SvgUpParent,{})})}):void 0,isTabbable:v},ie=l.useCallback((()=>null!=I?I:({headerText:e,sortControl:l})=>{const n=null!=e?t.jsx("div",{class:S.tableHeaderCellTextStyles.base,children:t.jsx("span",{class:C.tableHeaderCellStyles.defaultRendererSpan,children:e})}):void 0;if(null!=l){const e="end"===N||!B&&"right"===N||B&&"left"===N,r=o.classNames([S.tableHeaderSortContainerStyles.base,S.justifyContentStyles[N]]);return t.jsxs("div",{class:r,children:[e&&l(),n,!e&&l()]})}return n}),[I,N,B]);return t.jsx("th",{"aria-colindex":r+1,...c?{"aria-selected":!0}:f?{"aria-selected":!1}:void 0,...(()=>{if("ascending"===z||"descending"===z)return{"aria-sort":z}})(),class:Q,style:`top:${k}px;`,tabIndex:m?0:-1,role:"columnheader","data-oj-cell-type":"header","data-oj-column-key":n,"data-oj-table-focusable":e,"data-oj-table-header-cell":e,"data-oj-table-tooltip":G?"enabled":void 0,...G&&"safari"===q?Me:{},...f&&Y,children:ie()(re)})}function We({tableId:e,isRendered:l,columnsArray:n,hasVerticalGridlines:r,activeKey:i,isTabbableMode:a,isShowFocusRing:s,selectedColumnKeys:c,selectedRowKeys:u,isColumnSelectionEnabled:d,isRowSelectionEnabled:f,disabledInteractionKeys:y,onSelectionChange:h,isForceSortIcons:g,hoverColumnKey:b,sortCriterion:m,onSortCriterionChange:v,stickyTopOffset:C,startStickyEdge:w,endStickyEdge:R,isResizeHover:k,isRtl:x,isHighContrast:E}){const K=o.classNames([S.tableHeaderRowStyles.base]);let P=!1;return l?t.jsx("thead",{class:S.backgroundStyles.inherit,role:"presentation",children:t.jsx("tr",{"aria-rowindex":1,class:K,role:"row",style:k?"cursor: col-resize;":"","data-oj-table-header-row":e,children:n.map(((l,o)=>{const S=l.key;let k;if(null!=m)for(const e of m)if(e.key===S){k=e.sortDirection;break}const K=l.value.sortable,T=("enabled"===K||null!=k)&&(g||null!=k||b===S),I=p.containsKey(c,S),H=S===i,A=H&&!a,j={tableId:e,hasVerticalGridlines:r,columnKey:S,columnIndex:o,isFinalColumnIndex:o===n.length-1,stickyTopOffset:C,stickyColumn:l.value.sticky,isColumnSelectionEnabled:d,isSelected:I,isPreviousColumnSelected:P,selectedRowKeys:u,isColumnSelectable:d&&"disabled"!==l.value.selectable,isRowSelectionEnabled:f,isShowFocusRing:s&&H,hasTabIndex:A,isTabbableMode:a,headerText:l.value.headerText,renderer:l.value.headerRenderer,disabledInteractionKeys:y,onSelectionChange:h,isShowSortIcon:T,sortable:K,sortDirection:k,onSortCriterionChange:v,isStickyStartEdge:o===w,isStickyEndEdge:o===R,isRtl:x,isHighContrast:E,padding:l.value.headerPadding,tooltip:l.value.headerTooltip,horizontalAlignment:null!=l.value.headerAlignment?.horizontal?l.value.headerAlignment.horizontal:l.value.horizontalAlignment,verticalAlignment:l.value.headerAlignment?.vertical};return P=I,t.jsx(Oe,{...j})}))})}):null}function Ve({footerText:e}){return null!=e?e:void 0}function Ne({tableId:e,columnKey:l,columnIndex:n,isFinalColumnIndex:r,hasVerticalGridlines:i,isColumnSelectionEnabled:a,isSelected:s,isPreviousColumnSelected:c,isColumnSelectable:u,isShowFocusRing:d,hasTabIndex:f,isTabbableMode:y,stickyBottomOffset:h=0,stickyColumn:g="disabled",footerText:p,renderer:S=Ve,disabledInteractionKeys:m,isStickyStartEdge:v,isStickyEndEdge:C,isRtl:w,isHighContrast:k,padding:x,tooltip:E,horizontalAlignment:K="start",verticalAlignment:P="center"}){const T=b.getClientHints().browser,I="disabled"!==E,{interactionProps:H,applyActiveStyle:A,applyHoverStyle:j,applyPseudoHoverStyle:M}=R.useInteractionStyle({disabledKeys:m}),z=o.classNames(ue({isHeader:!1,isActive:A,isHover:j,isPseudoHover:M,isFirstColumnIndex:0===n,isFinalColumnIndex:r,hasVerticalGridlines:i,isColumnSelectionEnabled:a,isSelected:s,isPreviousColumnSelected:c,isColumnSelectable:u,isShowFocusRing:d,isSticky:"enabled"===g,isStickyStartEdge:v,isStickyEndEdge:C,isRtl:w,horizontalAlignment:K,verticalAlignment:P,isHighContrast:k,padding:x})),F={key:l,footerText:p,isTabbable:y};return t.jsx("td",{"aria-colindex":n+1,...s?{"aria-selected":!0}:u?{"aria-selected":!1}:{},class:z,style:`bottom:${h}px;`,tabIndex:f?0:-1,role:"gridcell","data-oj-cell-type":"footer","data-oj-column-key":l,"data-oj-table-focusable":e,"data-oj-table-footer-cell":e,"data-oj-table-tooltip":I?"enabled":void 0,...I&&"safari"===T?Me:{},...u&&H,children:S(F)})}function $e({tableId:e,isRendered:l,columnsArray:n,hasVerticalGridlines:r,activeKey:i,isTabbableMode:a,isShowFocusRing:s,selectedKeys:c,isColumnSelectionEnabled:u,disabledInteractionKeys:d,stickyBottomOffset:f,startStickyEdge:y,endStickyEdge:h,dataRowCount:g,isRtl:b,isHighContrast:m}){const v=o.classNames([S.tableFooterRowStyles.base]);let C=!1;return l?t.jsx("tfoot",{class:S.backgroundStyles.inherit,role:"presentation",children:t.jsx("tr",{"aria-rowindex":Math.max(g,1)+2,class:v,role:"row","data-oj-table-footer-row":e,children:n.map(((l,o)=>{const g=l.key,S=p.containsKey(c,g),v=g===i,w=v&&!a,R={tableId:e,columnKey:g,columnIndex:o,isFinalColumnIndex:o===n.length-1,hasVerticalGridlines:r,stickyBottomOffset:f,stickyColumn:l.value.sticky,isColumnSelectionEnabled:u,isSelected:S,isPreviousColumnSelected:C,isColumnSelectable:u&&"disabled"!==l.value.selectable,isShowFocusRing:s&&v,hasTabIndex:w,isTabbableMode:a,footerText:l.value.footerText,renderer:l.value.footerRenderer,disabledInteractionKeys:d,isStickyStartEdge:o===y,isStickyEndEdge:o===h,isRtl:b,isHighContrast:m,padding:l.value.footerPadding,tooltip:l.value.headerTooltip,horizontalAlignment:null!=l.value.footerAlignment?.horizontal?l.value.footerAlignment.horizontal:l.value.horizontalAlignment,verticalAlignment:l.value.footerAlignment?.vertical};return C=S,t.jsx(Ne,{...R})}))})}):null}function qe({position:e,isRtl:l,height:n}){const r=o.classNames([S.tableDragIndicatorStyles.base]);return t.jsx("div",{class:r,style:(()=>{const t=null!=n?`height:${n}px;`:"";return null!=e?l?`right:${e}px;cursor:col-resize;${t}`:`left:${e}px;cursor:col-resize;${t}`:"display:none;"})()})}function Ge({contextMenuConfig:e,contextMenuContext:l,...n}){const o=e.accessibleLabel;return t.jsx(I.Menu,{...n,...null!=o&&{"aria-label":o},children:n.isOpen&&e.itemsRenderer(l)})}const Xe=(e,t,l,n,o,r,i)=>{let a=0,s=0;if(t.isExternalScroller){const e=t.viewportConfig.scrollerOffsetTop;null!=e&&(a=e);const l=t.viewportConfig.scrollerOffsetBottom;null!=l&&(s=l)}a+=xe(e,l),s+=Ee(e,l);const c=_e(n,o,a,s,r),u=c.top,d=u>=0,f=c.bottom,y=f>=0;d&&y||(null==i||"inView"===i?y?Math.abs(u)>Math.abs(f)?o.scrollTop=Ye(o.scrollTop+f,!0):o.scrollTop=Ye(o.scrollTop-u,!1):d&&(Math.abs(f)>Math.abs(u)?o.scrollTop=Ye(o.scrollTop-u,!1):o.scrollTop=Ye(o.scrollTop+f,!0)):o.scrollTop="top"===i?Ye(o.scrollTop-u,!1):Ye(o.scrollTop+f,!0))},Ye=(e,t)=>t?Math.ceil(e):Math.floor(e),Ue=(e,t,l,n,o,r)=>{const i=e.getBoundingClientRect(),a=t.getBoundingClientRect();return r?{left:a.left-i.left+n+o,right:i.right-a.right+l}:{left:a.left-i.left+l,right:i.right-a.right+n+o}},_e=(e,t,l,n,o)=>{const r=e.getBoundingClientRect(),i=t.getBoundingClientRect();return{top:i.top-r.top+l,bottom:r.bottom-i.bottom+n+o}};function Je(e,t,l,n,o){const r=function(e,t,l,n){if(null!=n){let o,r=!1;if(null!=n.columnKey)r=!0,o=n.columnKey;else if(null!=n.offsetX&&null==n.x){r=!0;o=Ze(e,t,l).columnKey}if(r){if(null!=o){let e=0;for(let r=0;r<l.length;r++){if(t[r].key===o)return e+(null!=n.offsetX?n.offsetX:0);"enabled"!==t[r].value.sticky&&(e+=l[r])}}}else if(null!=n.x)return n.x}return}(e,t,l,o);e.scrollLeft=null!=r?n?-r:r:0}function Qe(e,t,l,n){const o=function(e,t,l,n){if(null!=n){let o,r=!1;if(null!=n.rowKey?(r=!0,o=n.rowKey):null!=n.offsetY&&null==n.y&&(r=!0,o=et(e,t,l).rowKey),r){if(null!=o){let t=0;const r=e.querySelectorAll(`[data-oj-table-data-row='${l}']`);for(let e=0;e<r.length;e++){if(o===Se(r[e]))return t+(null!=n.offsetY?n.offsetY:0);t+=r[e].getBoundingClientRect().height}}}else if(null!=n.y)return n.y}return}(e,t,l,n);t.scrollTop=null!=o?o:0}function Ze(e,t,l,n){const o=Math.abs(null==n?e.scrollLeft:n),r={x:o,columnKey:void 0,offsetX:void 0};let i=0;if(t.length>0&&0===o)return r.columnKey=t[0].key,r.offsetX=0,r;for(let e=0;e<t.length;e++)if("enabled"!==t[e].value.sticky&&(i+=l[e]),o<i){r.columnKey=t[e].key,r.offsetX=l[e]+o-i;break}return r}function et(e,t,l,n){const o=Math.abs(null==n?t.scrollTop:n),r={y:o,rowKey:void 0,offsetY:void 0};let i=0;const a=e.querySelectorAll(`[data-oj-table-data-row='${l}']`);if(a.length>0&&0===o)return r.rowKey=me(e,l,0),r.offsetY=0,r;for(let t=0;t<a.length;t++){const n=a[t].getBoundingClientRect().height;if(i+=n,o<i){r.rowKey=me(e,l,t),r.offsetY=n+o-i;break}}return r}function tt(e,t,l,n,o,r,i,a,s){if("data"===i.cell.type){const o=w.findElementByKey(e,i.cell.rowKey,`[data-oj-table-data-row='${n}']`);if(null!=o&&null!=i.locationY&&!r.isInitialRender){const a=r.boxHeight-r.contentHeight;Xe(e,l,n,o,t,a,i.locationY)}}if("data"===i.cell.type||"header"===i.cell.type||"footer"===i.cell.type){const c=ke(e,n,i.cell);if(null!=c&&null!=i.locationX&&!r.isInitialRender){!function(e,t,l,n,o,r,i,a){const s=Ce(e);let c;for(let e=0;e<n.length;e++)if(n[e].key===s){c=e;break}if(null!=c&&null!=i){let s=0,u=0;if(l.isExternalScroller){const e=l.viewportConfig.scrollerOffsetStart;null!=e&&(s=e);const t=l.viewportConfig.scrollerOffsetEnd;null!=t&&(u=t)}const d=nt(n);for(let e=0;e<d.length;e++){const t=d[e];if(!(t<c))break;s+=i[t]}for(let e=d.length-1;e>-1;e--){const t=d[e];if(!(t>c))break;u+=i[t]}const f=Ue(e,t,s,u,o,r),y=f.left,h=y>=0,g=f.right,p=g>=0;if(h&&p)return;null==a||"inView"===a?h?Math.abs(g)>Math.abs(y)?t.scrollLeft=Ye(t.scrollLeft-y,!1):t.scrollLeft=Ye(t.scrollLeft+g,!0):p&&(Math.abs(y)>Math.abs(g)?t.scrollLeft=Ye(t.scrollLeft+g,!0):t.scrollLeft=Ye(t.scrollLeft-y,!1)):t.scrollLeft="start"===a?Ye(t.scrollLeft-y,!1):Ye(t.scrollLeft+g,!0)}}(c,t,l,o,r.boxWidth-r.contentWidth,a,s,i.locationX)}}if("loadMore"===i.cell.type||"loading"===i.cell.type){const o=ke(e,n,i.cell);if(null!=o&&null!=i.locationY&&!r.isInitialRender){const a=r.boxHeight-r.contentHeight;Xe(e,l,n,o,t,a,"loading"===i.cell.type&&"inView"===i.locationY?"top":i.locationY)}}}function lt(e,t,l,n,o,r,i,a,s,c){let u,d=0,f=0;if(l.isExternalScroller){const e=l.viewportConfig.scrollerOffsetStart;null!=e&&(d=e);const t=l.viewportConfig.scrollerOffsetEnd;null!=t&&(f=t)}const y=[];for(let e=0;e<r.length;e++){const t=i[r[e].key];y.push(t)}const h=nt(r);for(let t=0;t<h.length;t++)u=h[t],ot(e,n,o,u,d,!0),d+=y[u];for(let t=h.length-1;t>-1;t--)u=h[t],ot(e,n,o,u,f,!1),f+=y[u];c?rt(t,r,y,a,s):null==a.start&&null==a.end||s({})}const nt=e=>{const t=[];for(let l=0;l<e.length;l++)"enabled"===e[l].value.sticky&&t.push(l);return t},ot=(e,t,l,n,o,r)=>{const i=r&&!l||!r&&l?"left":"right",a=`${o}px`;e.querySelectorAll(`[data-oj-table-header-cell='${t}']`)[n].style[i]=a;const s=e.querySelectorAll(`[data-oj-table-data-row='${t}']`);for(let e=0;e<s.length;e++){s[e].querySelectorAll(`[data-oj-table-data-cell='${t}']`)[n].style[i]=a}const c=e.querySelectorAll(`[data-oj-table-footer-cell='${t}']`);if(c.length>0){c[n].style[i]=a}};function rt(e,t,l,n,o,r){if(t.length>0){let i,a;const s=Ze(e,t,l,r);for(i=0;i<t.length;i++)if(t[i].key===s.columnKey){a=i;break}let c;const u=nt(t);if(s.x>=1)for(i=0;i<u.length;i++){const e=u[i];if(!(e<a))break;c=e}let d,f=0;const y=e.scrollWidth-e.clientWidth-s.x;if(y>=1)for(let e=t.length-1;e>-1;e--)if(-1!==u.indexOf(e))d=e;else if(f+=l[e],f>y)break;n.start==c&&n.end==d||o({start:c,end:d})}}const it=e=>{e.scrollTop=0},at=(e,t,l,n,o,r,i,a,s,c)=>{const u=n-o>.5,d=r-i>.5;u?(t.classList.remove(S.scrollerStyles.noHorizontalScroll),t.classList.add(S.scrollerStyles.horizontalScroll)):(t.classList.remove(S.scrollerStyles.horizontalScroll),t.classList.add(S.scrollerStyles.noHorizontalScroll)),d?(t.classList.remove(S.scrollerStyles.noVerticalScroll),t.classList.add(S.scrollerStyles.verticalScroll),t.style.paddingInlineEnd=""):(t.classList.remove(S.scrollerStyles.verticalScroll),t.classList.add(S.scrollerStyles.noVerticalScroll),t.style.paddingInlineEnd=`${a}px`),s.current.isHorizontal=u,s.current.isVertical=d,st(e,l,c)},st=(e,t,l)=>{const n=e.querySelector(`[data-oj-table-spacer-row='${t}']`);null!=n&&l(n.offsetHeight>0)};function ct(e,t){return null==e?null==t:null!=t&&(e.type===t.type&&e.rowKey===t.rowKey&&("loading"===e.type||"loadMore"===e.type||"pending"===e.type||e.columnKey===t.columnKey))}function ut(e,t,l,n){let o,r,i;if(null!=l.rowKey){if(o="data",r=l.rowKey,i=null!=l.columnKey?l.columnKey:null!=n?.columnKey?n.columnKey:Te(t,!0),null==i)return}else if(null!=l.columnKey){if(i=l.columnKey,o=null!=l.type?l.type:null!=n?.type&&"noData"!==n.type?n.type:"header","data"===o&&(null!=n?.rowKey?r=n.rowKey:e.length>0&&(r=e[0].metadata),null==r))return}else{if(null==l.type)return;if(o=l.type,"noData"!==o){if(i=null!=n?.columnKey?n.columnKey:Te(t,!0),null==i)return;if("data"===o&&(null!=n?.rowKey?r=n.rowKey:e.length>0&&(r=e[0].metadata),null==r))return}}return{type:o,rowKey:r,columnKey:i}}function dt(e,t,l,n,o,r){if(o)return"pending"===e.type;if("header"===e.type||r&&"footer"===e.type){for(let l=0;l<t.length;l++)if(t[l].key===e.columnKey)return!0}else{if(!(l.length>0))return"loading"===e.type&&n||"noData"===e.type&&!n;if("loadMore"===e.type)return n;if("data"===e.type){let n=!1;for(let l=0;l<t.length;l++)if(t[l].key===e.columnKey){n=!0;break}if(n)for(let t=0;t<l.length;t++)if(l[t].metadata===e.rowKey)return!0}}return!1}const ft={mouse:{initialFocus:"menu",placement:"bottom-start",offsetValue:2},keyboard:{initialFocus:"firstItem",placement:"bottom-start",offsetValue:0},touch:{initialFocus:"menu",placement:"end",offsetValue:40}},yt={isOpen:!1,initialFocus:"menu",placement:"bottom-start",offsetValue:0,anchorRef:{current:null}},ht=50,gt=Math.max(Math.min(D.SHOW_TOOLTIP_DELAY-ht,D.HIDE_TOOLTIP_DELAY),0);const pt=100,bt=200,St=[" ","F2","Enter","Esc","Escape","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End","PageUp","PageDown"],mt=[" ","F2","Enter","Esc","Escape"];function vt({rootRef:e,viewportInfo:t,tableId:n,isRtl:o,tableData:r,hasMore:i,hasFooters:a,columnsArray:s,sizingInfoRef:c,selectionExtensionElementRef:u,cellSupportsTabbable:d,fullColumnWidths:f,currentCellOverride:y,onPersistCurrentCell:h,showTooltip:g,hideTooltip:p,isPendingLayout:b,isEmbeddedSelect:S,isDataLoaded:m}){const v=l.useRef(!1),C=l.useRef(!0);C.current=!0;const R=l.useRef(null),k=l.useRef(!1),x=l.useRef(!1),[E,K]=l.useState(!1),[P,T]=l.useState(!1),I=l.useRef(!1),H=l.useRef(null),A=l.useRef(null),[j,M]=l.useState(void 0),z=l.useRef({hasPendingCurrentCellOverride:!1,hasPendingCurrentCellOverrideScroll:!1}),F=function(e,t,l,n,o,r,i,a){if(o)return{type:"pending"};const s=Te(e,!0);if(null==s)return{type:"noData"};const c={type:"header",columnKey:s},u=r?t.current.previousEmbeddedSelectCurrentCell:t.current.currentCell;if(t.current.hasPendingCurrentCellOverride||t.current.currentCellOverride!==a){if(null==a)return dt(c,e,l,n,o,i)?c:void 0;{const t=ut(l,e,a,u);if(null!=t&&dt(t,e,l,n,o,i))return t;const r=function(e,t){return null!=e.type?e.type:null!=e.rowKey?"data":null!=t?.type&&"noData"!==t.type?t.type:"header"}(a,u);if("data"===r){if(0===l.length&&n)return{type:"loading",columnKey:u?.columnKey}}else if("noData"===r&&0===l.length&&n)return{type:"loading",columnKey:u?.columnKey}}}const d=t.current.activeCell;if(null!=d){if("loadMore"===d.type){const r=t.current.loadMoreInitialData;if(l.length>0&&l!==r){const t={type:"data",rowKey:null!=r&&l.length>r.length?l[r.length].metadata:l[l.length-1].metadata,columnKey:null!=u?.columnKey?u.columnKey:s};if(dt(t,e,l,n,o,i))return t}else if(0===l.length)return n?{type:"loading",columnKey:u?.columnKey}:{type:"noData"}}if(dt(d,e,l,n,o,i))return d;if("loading"===d.type){if(null!=u&&("data"===u.type||"noData"===u.type)&&dt(u,e,l,n,o,i))return u;if(!(l.length>0))return{type:"noData"};{const t={type:"data",rowKey:l[0].metadata,columnKey:null!=u?.columnKey?u.columnKey:s};if(dt(t,e,l,n,o,i))return t}}}if(null!=u){if(dt(u,e,l,n,o,i))return u;if("data"===u.type){if(0===l.length&&n)return{type:"loading",columnKey:u.columnKey}}else if("noData"===u.type&&0===l.length&&n)return{type:"loading",columnKey:s}}return dt(c,e,l,n,o,i)?c:void 0}(s,z,r,i,b,S,a,y),D=l.useMemo((()=>(e,t)=>{const l=e.value;if(!ct(z.current.activeCell,l)){if(M(l),z.current.activeCell=l,function(e){return null!=e&&("loadMore"===e.type||"loading"===e.type||"pending"===e.type)}(l))"loadMore"===l?.type&&(z.current.loadMoreInitialData=r);else{const e=l;null!=h&&h({value:e}),z.current.currentCell=e,null!=e&&(z.current.previousEmbeddedSelectCurrentCell=e),z.current.currentCellOverride=y,z.current.hasPendingCurrentCellOverride=!1,z.current.hasPendingCurrentCellOverrideScroll=!1}t||(u.current=void 0)}}),[y,r,h,u]),L=l.useCallback((()=>{x.current=!1,k.current=!1,K(!1),T(!1),p()}),[p]),B=l.useCallback(((l,r)=>{const i=e.current,a=t.viewportConfig.scroller().current;if(null!=i&&null!=a){K(!1);const e=null!==A.current?A.current:!I.current;T(e),e&&function(e,t,l,n,o){o(!0),("data"===l.type||"header"===l.type||"footer"===l.type)&&null!=ke(e,t,l)&&n(l)}(i,n,l,g,p),I.current||r||tt(i,a,t,n,s,c.current,{cell:l,locationX:"inView",locationY:"inView"},o,f),D({value:l})}}),[e,t,n,s,c,o,D,f,g,p]),O=l.useCallback(((l,r,i)=>{const a=e.current,u=t.viewportConfig.scroller().current;null!=a&&null!=u&&(K(!0),r||(T(!1),D({value:l}),I.current||i||tt(a,u,t,n,s,c.current,{cell:l,locationX:"inView",locationY:"inView"},o,f)))}),[e,t,n,s,c,o,D,f]),W=l.useCallback((t=>{const l=e.current;if(null!=l){K(!1);const e=ke(l,n,t);null!=e?e.focus({preventScroll:!0}):l.focus({preventScroll:!0})}}),[e,n]),V=l.useCallback((e=>{null!=H.current&&clearTimeout(H.current),I.current=!0,H.current=setTimeout((()=>{I.current=!1}),e?bt:pt)}),[]),N=l.useCallback((e=>{P&&T(!1),"touch"!==e.pointerType&&V(!1)}),[P,V]),$=l.useCallback((e=>{V("touch"===e.pointerType)}),[V]),q=l.useCallback((t=>{const l=e.current;if(null!=l){t.target===document.activeElement&&(A.current=P);const e=t.relatedTarget,n=null==e;v.current=n,!n&&w.getElementContainsFunc(l,!0)(e)||(L(),C.current&&(R.current=t.target))}}),[e,P,L]),G=l.useCallback((l=>{const r=e.current,i=t.viewportConfig.scroller().current;if(null!=r&&null!=i){const e=St.indexOf(l.key)>-1;e&&(null!=H.current&&clearTimeout(H.current),H.current=null,I.current=!1),b?e&&T(!0):null!=j&&(d(j)&&("F2"===l.key?E?W(j):O(j,!0):"Esc"===l.key||"Escape"===l.key?W(j):"Enter"!==l.key||E||O(j,!0)),E||(e&&T(!0),mt.indexOf(l.key)>-1&&tt(r,i,t,n,s,c.current,{cell:j,locationX:"inView",locationY:"inView"},o,f)))}}),[e,t,n,s,c,o,E,j,d,f,b,O,W]),X=l.useCallback((t=>{const l=e.current;null!=l&&null!=j&&w.handleEnterActionableMode(t.hasFocusWithin&&null==be(t.activeElement),Q.allTabbableElements(ke(l,n,j)),(e=>{K(null!=e)}))}),[e,j,n]),Y=l.useCallback((e=>{w.handleWrapActionableFocus(!0,e.tabbableElements,(e=>{K(null!=e)}))}),[]),U=l.useCallback((e=>{w.handleWrapActionableFocus(!1,e.tabbableElements,(e=>{K(null!=e)}))}),[]);return l.useEffect((()=>{const l=e.current,i=t.viewportConfig.scroller().current;if(null!=l&&null!=i){!function(e,t,l,n,o,r,i,a,s,c,u,d,f,y,h){const g=c?a.current.previousEmbeddedSelectCurrentCell:a.current.currentCell;if(a.current.hasPendingCurrentCellOverride||a.current.currentCellOverride!==y)if(null!=y){const p=ut(o,r,y,g);null!=p?(s({value:p}),a.current.currentCellOverride=y,a.current.hasPendingCurrentCellOverride=!1,c?u||null==ke(e,n,p)?a.current.hasPendingCurrentCellOverrideScroll=!(!u&&d):(tt(e,t,l,n,r,i.current,{cell:p,locationY:"inView"},f,h),a.current.hasPendingCurrentCellOverrideScroll=!1):a.current.hasPendingCurrentCellOverrideScroll=!1):d?(a.current.currentCellOverride=y,a.current.hasPendingCurrentCellOverride=!1,a.current.hasPendingCurrentCellOverrideScroll=!1):a.current.hasPendingCurrentCellOverride=!0}else s({value:y}),a.current.currentCellOverride=y,a.current.hasPendingCurrentCellOverride=!1,c&&it(t),a.current.hasPendingCurrentCellOverrideScroll=!1;else a.current.hasPendingCurrentCellOverrideScroll&&(null!=a.current.currentCell?u||null==ke(e,n,a.current.currentCell)?!u&&d&&(a.current.hasPendingCurrentCellOverrideScroll=!1):(tt(e,t,l,n,r,i.current,{cell:a.current.currentCell,locationY:"inView"},f,h),a.current.hasPendingCurrentCellOverrideScroll=!1):a.current.hasPendingCurrentCellOverrideScroll=!1)}(l,i,t,n,r,s,c,z,D,S,b,m,o,y,f);const e=R.current;R.current=null,C.current=!1;const a=Q.getActiveElement(l);if(!(null==e||a!==Q.getBodyElement(l)||w.getElementContainsFunc(l,!0)(e)&&Q.isTabbableElement(e,!0)))return void l.focus({preventScroll:!0});if(x.current&&null!=F&&ct(j,z.current.activeCell)){const e=ke(l,n,F);null!=e&&(!E&&a!==e||E&&!w.getElementContainsFunc(e,!0)(a))&&e.focus({preventScroll:!0})}}})),{focusHandlingProps:{onPointerDown:N,onPointerUp:$,onFocus:l=>{x.current=!0;const o=e.current,r=t.viewportConfig.scroller().current;if(null!=o){const e=v.current||b;v.current=!1;const t=l.target;if(t===o||t===r)null!=F&&B(F,e);else{const l=Re(t,n,s);null!=l&&(null!=be(t)?B(l,e):O(l,!1,e))}}A.current=null},onBlur:q,onKeyDown:G},activeCell:j,onActiveCellChanged:D,currentCell:z.current.currentCell,currentActiveCell:F,isShowFocusRing:P,isTabbableMode:E,onStartFocusTracking:X,onFocusStartEdge:Y,onFocusEndEdge:U}}function Ct(e,t,l,n,o,r){const i=function(e,t,l,n,o){let r,i;if("data"===o?.type){r=o.rowKey;const l=ke(e,t,o);null!=l&&(i=l.parentElement)}else r=w.keyExtractor(n,`[data-oj-table-data-row='${t}']`),null!=r&&(i=n.closest(`[data-oj-table-data-row='${t}']`));if(null!=r&&null!=i){const n=ve(e,t,i);if(null!=n)return{key:r,data:l[n].data}}}(e,t,l,o,r);return null!=i&&(n({context:i,target:o}),!0)}function wt(e,t,l,n,o,r,i,a,s,c,u,d,f){const y=Te(o,!0);if(null==y)return;let h=i;const g=i.type;if("noData"===g){const t=y;s?(h={columnKey:t,type:"header"},a({value:h})):He(e,n)&&(h={columnKey:t,type:"footer"},a({value:h}))}else if("loading"===g)s?(h={columnKey:i.columnKey,type:"header"},a({value:h})):He(e,n)&&(h={columnKey:i.columnKey,type:"footer"},a({value:h}));else if("loadMore"===g)if(s){const t=Pe(e,n);null!=t&&(h={rowKey:t,columnKey:i.columnKey,type:"data"},a({value:h}))}else He(e,n)&&(h={columnKey:i.columnKey,type:"footer"},a({value:h}));else if("pending"!==g)if("data"===g){const t=i.rowKey,l=w.findElementByKey(e,t,`[data-oj-table-data-row='${n}']`);if(null!=l){const t=s?l.previousElementSibling:l.nextElementSibling;if(null!=t&&t.children.length>0){const l=Se(t);null!=l?(h={rowKey:l,columnKey:i.columnKey,type:"data"},a({value:h},c)):c||(h={columnKey:i.columnKey,type:"loadMore"},null!=ke(e,n,h)&&a({value:h}))}else!c&&s?(h={columnKey:i.columnKey,type:"header"},a({value:h})):!c&&He(e,n)&&(h={columnKey:i.columnKey,type:"footer"},a({value:h}))}}else if("header"!==g||s){if("footer"===g&&s)if(Ie(e,n))h={type:"noData"},a({value:h});else if(h={columnKey:i.columnKey,type:"loading"},null!=ke(e,n,h))a({value:h});else if(h={columnKey:i.columnKey,type:"loadMore"},null!=ke(e,n,h))a({value:h});else{const t=Pe(e,n);null!=t?(h={rowKey:t,columnKey:i.columnKey,type:"data"},a({value:h})):(h={columnKey:i.columnKey,type:"header"},a({value:h}))}}else{const t=Ke(e,n);null!=t?(h={rowKey:t,columnKey:i.columnKey,type:"data"},a({value:h})):Ie(e,n)?(h={type:"noData"},a({value:h})):(h={columnKey:i.columnKey,type:"loading"},null!=ke(e,n,h)?a({value:h}):He(e,n)&&(h={columnKey:i.columnKey,type:"footer"},a({value:h})))}ct(i,h)||d(!0),tt(e,t,l,n,o,r.current,{cell:h,locationX:"inView",locationY:"inView"},u,f)}function Rt(e,t,l,n,o,r,i,a,s,c,u,d){if("noData"!==i.type&&"pending"!==i.type){const f=e.querySelectorAll(`[data-oj-table-data-row='${n}']`);if(f.length>0){const y=et(e,t,n),h=function(e,t,l){const n=e.querySelectorAll(`[data-oj-table-data-row='${t}']`);for(let e=0;e<n.length;e++)if(l===Se(n[e]))return e}(e,n,y.rowKey);let g;if(s)g=0===y.offsetY?Math.max(h-1,0):h;else{const l=t.getBoundingClientRect(),o=r.current.boxHeight-r.current.contentHeight,i=l.bottom+Ee(e,n)+o;for(g=h;f.length>g+1;){g+=1;if(f[g].getBoundingClientRect().bottom>i)break}}const p=me(e,n,g);if(null!=p){const f={rowKey:p,columnKey:i.columnKey,type:"data"};p!==i.rowKey&&a({value:f}),ct(i,f)||u(!0),tt(e,t,l,n,o,r.current,{cell:f,locationX:"inView",locationY:s?"bottom":"top"},c,d)}}}}function kt(e,t,l,n,o,r,i,a,s,c,u,d){let f=i;const y=i.type;if("data"===y||"header"===y||"footer"===y){const e=function(e,t,l){let n=-1;const o=t.length;for(let l=0;l<o;l++)if(t[l].key===e){n=l;break}return l&&0!==n?t[n-1].key:l||n===o-1?void 0:t[n+1].key}(i.columnKey,o,s);null!=e&&("data"===y?(f={rowKey:i.rowKey,columnKey:e,type:y},a({value:f})):(f={columnKey:e,type:y},a({value:f})))}ct(i,f)||u(!0),tt(e,t,l,n,o,r.current,{cell:f,locationX:"inView",locationY:"inView"},c,d)}function xt(e,t,l,n,o,r,i,a,s,c,u,d,f){const y=Te(o,s);if(null==y)return;let h=i;const g=i.type;if("data"===g||"header"===g||"footer"===g){const t=i.columnKey;if(c)if(Ie(e,n))h={type:"noData"},a({value:h});else{const t=s?Ke(e,n):Pe(e,n);null!=t&&(h={rowKey:t,columnKey:y,type:"data"},a({value:h}))}else y!==t&&("data"===g?(h={rowKey:i.rowKey,columnKey:y,type:g},a({value:h})):(h={columnKey:y,type:g},a({value:h})))}ct(i,h)||d(!0),tt(e,t,l,n,o,r.current,{cell:h,locationX:"inView",locationY:"inView"},u,f)}function Et(e,t,l,n,o,r,i,a,s){const c={all:!1,keys:new Set};let u=null!=s?.row?s.row:c,d=null!=s?.column?s.column:c;const f=w.keyExtractor(n,`[data-oj-table-data-row='${t}']`);if(null!=f){if("single"===a?.row||"multiple"===a?.row){const e=o||i;u=null==u?{all:!1,keys:new Set([f])}:p.containsKey(u,f)?e?p.removeKey(u,f,!1):{all:!1,keys:new Set([f])}:e&&"multiple"===a.row?p.addKey(u,f):{all:!1,keys:new Set([f])},d=c}}else if("single"===a?.column||"multiple"===a?.column){const r=n.closest(`[data-oj-table-focusable='${t}']`);if(null!=r){const n=be(r);if("header"===n||"footer"===n){const i=we(e,t,r,"header"===n);if(null!=i){const e=l[i];"disabled"!==e.value.selectable&&(d=null==d?{all:!1,keys:new Set([e.key])}:p.containsKey(d,e.key)?o?p.removeKey(d,e.key,!1):{all:!1,keys:new Set([e.key])}:o&&"multiple"===a.column?p.addKey(d,e.key):{all:!1,keys:new Set([e.key])},u=c)}}}}p.isSameKey(u,s?.row)&&p.isSameKey(d,s?.column)||r({value:{row:u,column:d},target:n},!1)}function Kt(e,t,l,n,o,r,i,a,s,c,u,d){const f={all:!1,keys:new Set};let y=null!=u?.row?u.row:f,h=null!=u?.column?u.column:f;if(i){if(h=f,"multiple"===c?.row)if(y=s?y:f,o<=r){for(let l=o;l<=r;l++){const n=me(e,t,l);y=p.addKey(y,n)}if(s&&null!=d)if(d>r)for(let l=d;l>r;l--){const n=me(e,t,l);y=p.removeKey(y,n,!1)}else if(d<o)for(let l=d;l<o;l++){const n=me(e,t,l);y=p.removeKey(y,n,!1)}}else{for(let l=o;l>=r;l--){const n=me(e,t,l);y=p.addKey(y,n)}if(s&&null!=d)if(d<r)for(let l=d;l<r;l++){const n=me(e,t,l);y=p.removeKey(y,n,!1)}else if(d>o)for(let l=d;l>o;l--){const n=me(e,t,l);y=p.removeKey(y,n,!1)}}}else if(y=f,"multiple"===c?.column)if(h=f,o<=r)for(let e=o;e<=r;e++){const t=l[e];"disabled"!==t.value.selectable&&(h=p.addKey(h,t.key))}else for(let e=o;e>=r;e--){const t=l[e];"disabled"!==t.value.selectable&&(h=p.addKey(h,t.key))}p.isSameKey(y,u?.row)&&p.isSameKey(h,u?.column)||a({value:{row:y,column:h},target:n},!0)}function Pt(e,t,l,n,o,r,i,a,s,c,u,d,f,y,h,g){const p=ke(e,n,s);if(null!=p){let b,S;const m="data"===s.type,v="header"===s.type;if(m?(S=d&&null!=c.current?c.current:p.parentElement,b=ve(e,n,S)):(S=p,b=we(e,n,S,v)),null!=b){let C,R,k;const x=d&&m?p.parentElement:c.current;if(null!=x?(R=m?ve(e,n,x):we(e,n,x,v),k=a?x.previousElementSibling:x.nextElementSibling,null!=k&&(!m||m&&null!=Se(k))?(d&&m?null==c.current&&(c.current=p.parentElement):c.current=k,C=m?ve(e,n,k):we(e,n,k,v)):C=m?ve(e,n,x):we(e,n,x,v)):(k=a?S.previousElementSibling:S.nextElementSibling,null!=k&&(!m||m&&null!=Se(k))?(c.current=k,C=m?ve(e,n,k):we(e,n,k,v)):C=b),null!=C&&Kt(e,n,o,i,b,C,m,u,d,h,g,R),!m||!d){const i=null!=c.current?c.current:p;let a;if(m){const e=w.keyExtractor(i,`[data-oj-table-data-row='${n}']`);null!=e&&(a={type:s.type,rowKey:e,columnKey:s.columnKey})}else a=Re(i,n,o);null!=a&&tt(e,t,l,n,o,r.current,{cell:a,locationX:"inView",locationY:"inView"},f,y)}}}}function Tt(e,t,l,n,o,r){const i=e.querySelector(`[data-oj-table-header-row='${t}']`);if(null!=i){const e=i.querySelectorAll(`[data-oj-table-header-cell='${t}']`);if(w.getElementContainsFunc(i)(l.target)){let t=!1;for(let a=0;a<e.length;a++){const s=e[a].getBoundingClientRect(),c=r?s.left:s.right;if(Math.abs(c-l.pageX)<=8){if("enabled"!==n[a].value.edgeResizable)break;o.current.key=n[a].key,i.style.cursor="col-resize",t=!0,o.current.isResizeHover=!0}}t||(i.style.cursor="",o.current.key=void 0,o.current.isResizeHover=!1)}else null!=i&&(i.style.cursor=""),o.current.key=void 0,o.current.isResizeHover=!1}}function It(e,t,l,n,o,r){if(n.current.isResizing&&null!=r){for(const e of n.current.fullColumnWidths);const i=e.getBoundingClientRect(),a=o?i.right-t.clientX:t.clientX-i.left;n.current.delta=a-n.current.startX,r({key:n.current.key,delta:n.current.delta,allColumnWidths:l})}n.current={isResizing:!1,isResizeHover:n.current.isResizeHover,ignoreClick:n.current.ignoreClick}}function Ht({rootRef:e,viewportInfo:t,tableId:n,tableData:o,isRtl:r,columnsArray:i,appliedColumnWidths:a,resizeInfoRef:s,selectionExtensionElementRef:c,fullColumnWidths:u,onColumnResizing:d,onColumnResize:f,activeCell:y,onActiveCellChanged:h,isDropDownSelection:g,selectionMode:p,selected:S,onTableSelectionChange:m,onRowAction:v,showTooltip:C,hideTooltip:w,tooltipId:R}){const k=l.useRef(!1),[x,E]=l.useState(),K=l.useRef(),P=l.useCallback((l=>{const o=e.current,c=t.viewportConfig.scroller().current;null!=o&&(K.current={target:l.target,x:l.clientX,y:l.clientY},function(e,t,l,n,o,r){let i=!1;const a=l.relatedTarget;if(null!=a&&null!=a.closest(`#${r}`))return;const s=l.target.closest(`[data-oj-table-focusable='${e}']`);if(null!=s){const l=be(s);"data"!==l&&"header"!==l&&"footer"!==l||(n(Re(s,e,t)),i=!0)}i||o()}(n,i,l,C,w,R),null!=d&&(s.current.isResizing?null!=c&&null!=a&&function(e,t,l,n,o,r,i){if(n.current.isResizing&&null!=r){const r=e.getBoundingClientRect(),a=o?r.right-t.clientX:t.clientX-r.left;n.current.delta=a-n.current.startX,null!=i&&i({key:n.current.key,delta:n.current.delta,allColumnWidths:l})}}(c,l,a,s,r,u,d):function(e,t,l,n,o,r){Tt(e,t,l,n,o,r)}(o,n,l,i,s,r)))}),[e,t,n,i,a,s,r,u,d,C,w,R]),T=l.useCallback((t=>{null!=e.current&&(K.current={target:t.target,x:t.clientX,y:t.clientY},function(e,t,l,n){if("mouse"===t.pointerType){const o=t.target.closest(`[data-oj-table-focusable='${e}']`);if(null!=o&&"header"===be(o)){const e=Ce(o);e!==n&&l(e)}else null!=n&&l(void 0)}}(n,t,E,x))}),[e,n,x]),I=l.useCallback((l=>{const o=e.current,c=t.viewportConfig.scroller().current;if(null!=o){k.current="touch"===l.pointerType;const e=l.target;null!=m&&null!=y&&l.shiftKey&&function(e,t,l,n,o,r){const i=Re(n,t,l);if(("multiple"===r?.row&&"data"===o.type||"multiple"===r?.column&&("header"===o.type||"footer"===o.type))&&i?.type===o.type){const l=ke(e,t,o),n=ke(e,t,i);if(null!=l&&null!=n){if("data"===i.type)return null!=ve(e,t,l.parentElement)&&null!=ve(e,t,n.parentElement);if("header"===i.type||"footer"===i.type){const o="header"===i.type;return null!=we(e,t,l,o)&&null!=we(e,t,n,o)}}}return!1}(o,n,i,e,y,p)?Z.getIsSelectionPending()||l.preventDefault():null!=c&&null!=a&&function(e,t,l,n,o,r,i,a,s,c){if(null!=s&&(null==i.current.key&&Tt(e,l,n,o,i,a),null!=i.current.key)){const e=t.getBoundingClientRect(),l=a?e.right-n.clientX:n.clientX-e.left,o=[];for(let e=0;e<s.length;e++){const t=s[e];o.push(t)}return i.current={isResizing:!0,isResizeHover:!0,key:i.current.key,startX:l,delta:0,fullColumnWidths:o,ignoreClick:i.current.ignoreClick},null!=c&&c({key:i.current.key,delta:0,allColumnWidths:r}),!0}return!1}(o,c,n,l,i,a,s,r,u,d)?(l.preventDefault(),s.current.ignoreClick=!0):null==Re(e,n,i)&&l.preventDefault()}}),[e,t,n,i,a,s,r,y,p,m,u,d]),H=l.useCallback((e=>{const l=t.viewportConfig.scroller().current;null!=l&&null!=a&&It(l,e,a,s,r,f)}),[t,a,s,r,f]),A=l.useCallback((t=>{const l=e.current;null!=l&&(!function(e,t){null!=t&&e(void 0)}(E,x),function(e,t,l){if(!l.current.isResizing){const n=e.querySelector(`[data-oj-table-header-row='${t}']`);null!=n&&(n.style.cursor=""),l.current.isResizeHover=!1}}(l,n,s),je(l,t,w,R)),K.current=void 0}),[e,n,s,x,w,R]),j=l.useCallback((e=>{const l=t.viewportConfig.scroller().current;null!=l&&null!=a&&function(e,t,l,n,o,r){n.current.isResizing&&0===t.buttons&&It(e,t,l,n,o,r)}(l,e,a,s,r,f)}),[t,a,s,r,f]),M=l.useCallback((t=>{const l=e.current;if(null!=l&&("mouse"!==t.pointerType||null!=K.current&&K.current.target===t.target&&Math.abs(K.current.x-t.clientX)<=1&&Math.abs(K.current.y-t.clientY)<=1)){let e=!1;const r=b.getClientHints().platform,a=t.target;null==m||s.current.ignoreClick||Z.getIsSelectionPending()||(null!=y&&t.shiftKey&&(e=function(e,t,l,n,o,r,i,a,s,c,u){const d=Re(n,t,l);if(null!=d){const f=ke(e,t,o),y=ke(e,t,d);if(null!=f&&null!=y&&("multiple"===c?.row&&"data"===d.type||"multiple"===c?.column&&("header"===d.type||"footer"===d.type))&&d.type===o.type){let o,h,g,p;const b="data"===d.type;if(b){p=y.parentElement;const l=s&&null!=i.current?i.current:f.parentElement;o=ve(e,t,l),h=ve(e,t,p);const n=s?f.parentElement:i.current;null!=n&&(g=ve(e,t,n))}else if("header"===d.type||"footer"===d.type){const l="header"===d.type;p=y,o=we(e,t,f,l),h=we(e,t,y,l)}if(null!=o&&null!=h)return b&&s?(null==i.current&&(i.current=f.parentElement),r({value:d},!0),y.focus({preventScroll:!0})):i.current=p,Kt(e,t,l,n,o,h,b,a,s,c,u,g),!0}}return!1}(l,n,i,a,y,h,c,m,g,p,S)),e||Et(l,n,i,a,("mac"===r?t.metaKey:t.ctrlKey)||k.current,m,g,p,S)),null!=v&&!Z.getIsSelectionPending()&&Ct(l,n,o,v,a)&&t.stopPropagation()}s.current.ignoreClick=!1}),[e,n,i,o,s,c,y,h,g,p,S,m,v]);return{pointerHandlingProps:{onPointerOver:T,onPointerMove:P,onPointerDown:I,onPointerUp:H,onPointerLeave:A,onPointerEnter:j,onClick:M},hoverColumnKey:x}}function At({rootRef:e,viewportInfo:t,tableId:n,layoutInfo:o,sizingInfoRef:r,columnsArray:i,stickyEdgesState:a,setStickyEdgesState:s,fullColumnWidths:c,horizontalScrollPositionOverride:u,verticalScrollPositionOverride:d,tooltipAnchorRef:f,hideTooltip:y,isPendingLayout:h,isRtl:g}){const p=l.useRef(),b=l.useRef();l.useLayoutEffect((()=>{const l=e.current,r=t.viewportConfig.scroller().current;null==l||null==r||h||o.isLayoutRequired||(p.current!==u&&(Je(r,i,o.columnWidthsArray,g,u),p.current=u),b.current!==d&&(Qe(l,r,n,d),b.current=d))}));const S=l.useCallback((()=>{const l=e.current,o=t.viewportConfig.scroller().current;null!=l&&null!=o&&null!=c&&(rt(o,i,c,a,s,o.scrollLeft),function(e,t,l,n,o,r,i,a,s){if(null!=i.current){const c=_e(i.current,t,xe(e,l),Ee(e,l),n.boxHeight-n.contentHeight),u=c.top,d=u>=0,f=c.bottom,y=f>=0;if(d&&Math.abs(u)>i.current.offsetHeight||y&&Math.abs(f)>i.current.offsetHeight)return void a(!0);let h=0,g=0;const p=nt(o);for(let e=0;e<p.length;e++)h+=r[p[e]];for(let e=p.length-1;e>-1;e--)g+=r[p[e]];const b=Ue(i.current,t,h,g,n.boxWidth-n.contentWidth,s),S=b.left,m=S>=0,v=b.right,C=v>=0;(m&&Math.abs(S)>i.current.offsetWidth||C&&Math.abs(v)>i.current.offsetWidth)&&a(!0)}}(l,o,n,r.current,i,c,f,y,g))}),[e,t,n,r,i,a,s,c,f,y,g]);return l.useLayoutEffect((()=>{const e=t.isExternalScroller,l=t.viewportConfig.scroller().current;let n;return e&&null!=l&&(n=l===document.body||l===document.documentElement?window:l,n.addEventListener("scroll",S)),()=>{e&&null!=n&&n.removeEventListener("scroll",S)}}),[t,S]),t.isExternalScroller?{}:{onScroll:S}}const jt=["enter"];function Mt({rootRef:e,viewportInfo:n,ref:o,tableId:i,tableData:a,hasMore:s,hasFooters:c,isRtl:u,columnsArray:d,appliedColumnWidths:f,layoutInfo:y,sizingInfoRef:h,stickyEdgesState:g,setStickyEdgesState:p,cellHasRenderer:S,horizontalScrollPositionOverride:m,verticalScrollPositionOverride:v,onColumnResizing:C,onColumnResize:w,currentCellOverride:R,onPersistCurrentCell:k,selectionMode:x,selected:E,onSelectionChange:K,onRowAction:P,sortCriterion:T,onSortCriterionChange:I,isPendingLayout:H,contextMenuConfig:A}){const j=l.useRef({isResizing:!1,isResizeHover:!1,ignoreClick:!1}),{tooltipContent:M,tooltipId:z,tooltipAnchorRef:F,showTooltip:L,hideTooltip:B}=function({rootRef:e,tableId:n}){const o=D.getGlobalTooltipManager(),i=r.useId(),a=l.useRef(),s=l.useRef(),c=l.useRef(),u=l.useRef(),[d,f]=l.useState(),y=l.useRef(!1),h=l.useRef(),g=l.useRef(),p=l.useRef(),b=l.useCallback((()=>{clearTimeout(p.current),p.current=void 0}),[]),S=l.useCallback((()=>{clearTimeout(g.current),g.current=void 0,s.current=void 0}),[]),m=l.useCallback((()=>{g.current=setTimeout((function(){null!=p.current&&b(),g.current=void 0;const t=s.current,l=e.current;if(null!=l&&null!=t){const e=ke(l,n,t);null!=e&&Ae(e)&&(f(String(e.innerText).trim()),c.current=e,a.current=t)}s.current=void 0}),D.SHOW_TOOLTIP_DELAY)}),[e,n,b]),v=l.useCallback((()=>{p.current=setTimeout((function(){p.current=void 0,f(void 0),c.current=void 0,a.current=void 0}),gt)}),[]),C=l.useCallback((e=>{if(ct(a.current,e))return null!=g.current&&S(),void(null!=p.current&&b());null==g.current?(s.current=e,m()):ct(s.current,e)||(S(),s.current=e,m()),null!=a.current&&null==p.current&&v()}),[m,v,S,b]),w=l.useCallback((e=>{y.current||(null!=g.current&&S(),e?(null!=p.current&&b(),f(void 0),c.current=void 0,a.current=void 0):null==p.current&&v())}),[v,S,b]),R=l.useCallback((e=>{null!=g.current&&(clearTimeout(g.current),g.current=void 0,s.current=void 0),null!=p.current&&(clearTimeout(p.current),p.current=void 0)}),[]),k=l.useCallback((e=>{const t=e.relatedTarget;null!=t&&null!=t.closest(`#${n}`)||w()}),[n,w]),x=l.useCallback((e=>{y.current=!0,null!=h.current&&clearTimeout(h.current),h.current=setTimeout((function(){y.current=!1,h.current=void 0}),ht)}),[]),E=l.useRef(!0);null!=d&&d!==u.current&&(E.current=!0);const K={onPointerLeave:k,onPointerMove:R,onPointerDown:x},P=t.jsx(J.TooltipContent,{...K,id:i,isOpen:E.current,isDatatip:!1,children:null!=d?d:u.current});u.current=d;const T=_.useScale();let I=-8,H=-14;"md"===T?(I=-7,H=-12):"sm"===T&&(I=-6,H=-11);const A=U.useColorScheme(),j=null!=c.current?D.getWrappedTooltipContent(P,"tooltip",A,c,"end-top",{mainAxis:I,crossAxis:H}):void 0,M=l.useCallback((()=>{w(!0)}),[w]);return l.useEffect((()=>{E.current&&null!=c.current?o.register(M):o.unregister(M)}),[c,M,d,o]),{tooltipContent:j,tooltipId:i,showTooltip:C,hideTooltip:w,tooltipAnchorRef:c}}({rootRef:e,tableId:i}),O="embedded"===G.useCollectionInteractionContext(),W=O?void 0:jt,V=l.useRef(),N=l.useMemo((()=>null!=K?(e,t)=>{t||(V.current=void 0),K(e)}:void 0),[K]),{focusHandlingProps:$,activeCell:q,onActiveCellChanged:Q,currentActiveCell:Z,currentCell:ee,isShowFocusRing:te,isTabbableMode:le,onStartFocusTracking:ne,onFocusStartEdge:oe,onFocusEndEdge:re}=vt({rootRef:e,viewportInfo:n,tableId:i,tableData:a,hasMore:s,hasFooters:c,columnsArray:d,sizingInfoRef:h,selectionExtensionElementRef:V,isRtl:u,cellSupportsTabbable:S,fullColumnWidths:y.isLayoutRequired?void 0:y.columnWidthsArray,currentCellOverride:R,onPersistCurrentCell:k,showTooltip:L,hideTooltip:B,isPendingLayout:H,isEmbeddedSelect:O,isDataLoaded:!s||a.length>0}),ie=function({rootRef:e,viewportInfo:t,tableId:n,tableData:o,isRtl:r,isTabbableMode:i,columnsArray:a,sizingInfoRef:s,selectionExtensionElementRef:c,fullColumnWidths:u,activeCell:d,onActiveCellChanged:f,isDropDownSelection:y,selectionMode:h,selected:g,onTableSelectionChange:p,onRowAction:S,sortCriterion:m,onSortCriterionChange:v,hideTooltip:C}){const w=l.useCallback((l=>{const w=e.current,R=t.viewportConfig.scroller().current;if(null!=w&&null!=R){const e=b.getClientHints().platform,k={" ":function(){null!=d&&(i||(null==p||l.repeat||Et(w,n,a,ke(w,n,d),!0,p,y,h,g),l.preventDefault()),null!=S&&!l.repeat&&Ct(w,n,o,S,l.target,d)&&l.stopPropagation())},Enter:function(){null!=d&&("data"===d.type?(y&&!i&&(null==p||l.repeat||Et(w,n,a,ke(w,n,d),!0,p,y,h,g),l.preventDefault()),null!=S&&!l.repeat&&Ct(w,n,o,S,l.target,d)&&l.stopPropagation()):"header"!==d.type||i||l.repeat||null==v||!function(e,t,l,n){if(function(e,t){for(const l of e)if(l.key===t)return"enabled"===l.value.sortable;return!1}(e,t)){let e;if(null!=n)for(const l of n)if(l.key===t){e=l.sortDirection;break}return l([{key:t,sortDirection:"ascending"===e?"descending":"ascending"}]),!0}return!1}(a,d.columnKey,v,m)||l.stopPropagation())},ArrowUp:function(){if(!i&&null!=d){let e=!1;"data"===d.type&&l.shiftKey&&null!=p&&"multiple"===h?.row&&(Pt(w,R,t,n,a,s,w,!0,d,c,p,y,r,u,h,g),e=!0),e&&!y||wt(w,R,t,n,a,s,d,f,!0,e,r,C,u),l.preventDefault()}},ArrowDown:function(){if(!i&&null!=d){let e=!1;"data"===d.type&&l.shiftKey&&null!=p&&"multiple"===h?.row&&(Pt(w,R,t,n,a,s,w,!1,d,c,p,y,r,u,h,g),e=!0),e&&!y||wt(w,R,t,n,a,s,d,f,!1,e,r,C,u),l.preventDefault()}},ArrowLeft:function(){i||null==d||("header"!==d.type&&"footer"!==d.type||!l.shiftKey||null==p||"multiple"!==h?.column?kt(w,R,t,n,a,s,d,f,!r,r,C,u):Pt(w,R,t,n,a,s,w,!0,d,c,p,y,r,u,h,g),l.preventDefault())},ArrowRight:function(){i||null==d||("header"!==d.type&&"footer"!==d.type||!l.shiftKey||null==p||"multiple"!==h?.column?kt(w,R,t,n,a,s,d,f,r,r,C,u):Pt(w,R,t,n,a,s,w,!1,d,c,p,y,r,u,h,g),l.preventDefault())},PageUp:function(){i||null==d||(Rt(w,R,t,n,a,s,d,f,!0,r,C,u),l.preventDefault())},PageDown:function(){i||null==d||(Rt(w,R,t,n,a,s,d,f,!1,r,C,u),l.preventDefault())},Home:function(){i||null==d||(xt(w,R,t,n,a,s,d,f,!0,"mac"===e?l.metaKey:l.ctrlKey,r,C,u),l.preventDefault())},End:function(){i||null==d||(xt(w,R,t,n,a,s,d,f,!1,"mac"===e?l.metaKey:l.ctrlKey,r,C,u),l.preventDefault())}};Object.keys(k).includes(l.key)&&k[l.key]()}}),[e,t,n,o,r,i,a,s,c,u,d,f,y,h,g,p,S,m,v,C]);return{onKeyDown:w}}({rootRef:e,viewportInfo:n,tableId:i,tableData:a,isRtl:u,isTabbableMode:le,columnsArray:d,sizingInfoRef:h,selectionExtensionElementRef:V,fullColumnWidths:y.isLayoutRequired?void 0:y.columnWidthsArray,activeCell:q,onActiveCellChanged:Q,isDropDownSelection:O,selectionMode:x,selected:E,onTableSelectionChange:N,onRowAction:P,sortCriterion:T,onSortCriterionChange:I,hideTooltip:B}),{hoverColumnKey:ae,pointerHandlingProps:se}=Ht({rootRef:e,viewportInfo:n,tableId:i,tableData:a,isRtl:u,columnsArray:d,appliedColumnWidths:f,resizeInfoRef:j,selectionExtensionElementRef:V,fullColumnWidths:y.isLayoutRequired?void 0:y.columnWidthsArray,onColumnResizing:C,onColumnResize:w,activeCell:q,onActiveCellChanged:Q,isDropDownSelection:O,selectionMode:x,selected:E,onTableSelectionChange:N,onRowAction:P,showTooltip:L,hideTooltip:B,tooltipId:z}),ce=At({rootRef:e,viewportInfo:n,tableId:i,layoutInfo:y,sizingInfoRef:h,columnsArray:d,stickyEdgesState:g,setStickyEdgesState:p,fullColumnWidths:y.isLayoutRequired?void 0:y.columnWidthsArray,horizontalScrollPositionOverride:m,verticalScrollPositionOverride:v,tooltipAnchorRef:F,hideTooltip:B,isPendingLayout:H,isRtl:u}),{contextMenuTriggerProps:ue,menuProps:de,contextMenuContext:fe}=((e,t,n,o)=>{const[r,i]=l.useState(),[a,s]=l.useState(yt),c=l.useRef(),{triggerProps:u}=Y.useContextMenuGesture((({gesture:l,anchor:o,target:r})=>{if(null!=n){const a=function(e,t){if("data"===t?.type){for(const l of e)if(l.metadata===t.rowKey)return{rowData:l.data,rowKey:t.rowKey,columnKey:t.columnKey,type:"data"}}else if("header"===t?.type||"footer"===t?.type)return{columnKey:t.columnKey,type:t.type}}(t,n);if(null!=a){const t=r.closest(`[data-oj-table-focusable='${e}']`);if(null!=t){c.current=t;const e="keyboard"===l?t:o;i(a),s({...ft[l],anchorRef:{current:e},isOpen:!0})}}}}),{isDisabled:!o}),d=l.useCallback((e=>{"dismissed"!==e.reason&&"itemAction"!==e.reason||c.current?.focus({preventScroll:!0}),s({...yt})}),[]);return{menuProps:{...a,onClose:d},onClose:d,contextMenuContext:r,contextMenuTriggerProps:u}})(i,a,q,A),ye=H?$:X.mergeProps($,ie,se,ue);return l.useImperativeHandle(o,(()=>{const t=e.current,l=n.viewportConfig.scroller().current;return{focus:()=>{if(null!=t){if(null!=Z){const e=ke(t,i,Z);if(null!=e)return void e.focus()}t.focus()}},getHorizontalScrollPosition:()=>null==l||y.isLayoutRequired?{}:Ze(l,d,y.columnWidthsArray),getVerticalScrollPosition:()=>null==t||null==l||y.isLayoutRequired?{}:et(t,l,i)}}),[e,n,i,d,Z,y.isLayoutRequired,y.columnWidthsArray]),{interactionManagerProps:ye,scrollHandlingProps:ce,onTableSelectionChange:N,isShowFocusRing:te,isTabbableMode:le,currentCell:ee,currentActiveCell:Z,resizeInfoRef:j,onStartFocusTracking:ne,onFocusStartEdge:oe,onFocusEndEdge:re,hoverColumnKey:ae,tooltipContent:M,contextMenuContext:fe,menuProps:de,disabledRowInteractionKeys:W}}function zt(e,t,l,n,o,r,i,a,s,c){let u,d=0,f=[];const y=l.querySelectorAll(`[data-oj-table-col='${o}']`);if(r){u=function(e,t,l){const n=1,o=100,r=void 0;let i=!1,a=0,s=0,c=0;const u=[],d=[],f=[],y=[],h=[];for(let e=0;e<t.length;e++){const g=t[e];let p=g.value.minWidth;(null==p||p<=0)&&(p=o);let b=g.value.maxWidth;(null==b||b<p)&&(b=r),u.push(b);let S=g.value.weight;(null==S||S<1)&&(S=n),d.push(S);const m=null!=l?l[g.key]:void 0;null!=m?(s+=m,c+=m,f.push(m),y.push(m),h.push(m)):(i=!0,c+=p,a+=S,f.push(void 0),y.push(p),h.push(p))}i&&c<e&&function(e,t,l,n,o,r,i,a,s){let c=!0;for(;c;){c=!1,Lt(e,t,l,n,o,r,a,s);let u=0;for(let t=0;t<e.length;t++){if(null==o[t]){const e=i[t];null!=e&&a[t]>e&&(c=!0,o[t]=e,n+=e,l-=r[t],a[t]=e,s[t]=e)}u+=a[t]}c=c&&u<t}}(t,e,a,s,f,d,u,y,h);return Bt(t,y)}(a,s,c);for(let e=0;e<s.length;e++){const t=u[s[e].key];f.push(t),d+=t}return Ot(l,y,f,d),u}const h=l.querySelectorAll(`[data-oj-table-header-cell='${o}']`);u=Ft(l,h,i,a,s,c);for(let e=0;e<s.length;e++){const t=u[s[e].key];f.push(t),d+=t}if(Ot(l,y,f,d),-1===a&&(a=t.isExternalScroller?e.clientWidth-n:e.getBoundingClientRect().width-n,Math.abs(d-a)>.005)){u=Ft(l,h,i,a,s,c),d=0,f=[];for(let e=0;e<s.length;e++){const t=u[s[e].key];f.push(t),d+=t}Ot(l,y,f,d)}return u}function Ft(e,t,l,n,o,r){let i=!1;const a=[],s=[],c=[],u=[];for(let e=0;e<o.length;e++){const t=o[e];let l=t.value.minWidth;(null==l||l<=0)&&(l=undefined),a.push(l);let n=t.value.maxWidth;(null==n||n<(null!=l?l:0))&&(n=undefined),s.push(n);const d=null!=r?r[t.key]:void 0;null!=d?(c.push(d),u[e]=d):(i=!0,c.push(void 0))}if(i){let r=0,i=0,d=0,f=0,y=0;const h=l.current,g=[],p=[],b=[];if(null!=h)for(let e=0;e<o.length;e++)g.push(h.minWidths[o[e].key]),p.push(h.weightWidths[o[e].key]);else{l.current={minWidths:{},weightWidths:{}};for(let e=0;e<t.length;e++){const n=t[e].getBoundingClientRect().width;p.push(n),l.current.weightWidths[o[e].key]=n}e.style.width="min-content";for(let e=0;e<t.length;e++){const n=t[e].getBoundingClientRect().width;g.push(n),l.current.minWidths[o[e].key]=n}}for(let e=0;e<g.length;e++){const t=c[e];if(null==t){let t;const l=g[e],n=a[e],o=s[e];t=null!=n&&n>=l?n:null!=o&&l>=o?o:l,i+=t;const r=null!=n&&n>=p[e]?n:p[e];p[e]=r,d+=null!=o&&o<=r?o:r,f+=r,y+=r-t,u[e]=t,b.push(t)}else r+=t,i+=t,d+=t,b.push(t)}-1===n&&(n=d),i<n&&function(e,t,l,n,o,r,i,a,s,c,u,d){let f=!0;for(;f;){f=!1,l>t?Dt(e,t-r,n,s,a,u,d):Lt(e,t,o,i,a,s,u,d);let y=0;for(let t=0;t<e.length;t++){if(null==a[t]){const e=c[t];null!=e&&u[t]>e&&(f=!0,a[t]=e,i+=e,r+=e-d[t],o-=s[t],u[t]=e,d[t]=e)}y+=u[t]}f=f&&y<t}}(o,n,d,y,f,i,r,c,p,s,u,b)}return Bt(o,u)}function Dt(e,t,l,n,o,r,i){if(t>0){let a=t,s=l;for(let t=0;t<e.length;t++)if(s>0&&null==o[t]){const e=n[t]-i[t],l=e/s*a;r[t]=l+i[t],a-=l,s-=e}}}function Lt(e,t,l,n,o,r,i,a){const s=[];let c=!0;for(;c;){c=!1;let u=l,d=t-n;if(d>0)for(let t=0;t<e.length;t++)if(u>0&&null==o[t]&&null==s[t]){const e=r[t],o=e/u*d,f=a[t];if(o<f){s[t]=f,n+=f,i[t]=f,c=!0,l-=e;break}i[t]=o,d-=o,u-=e}}}function Bt(e,t){const l={};for(let n=0;n<e.length;n++)l[e[n].key]=t[n];return l}function Ot(e,t,l,n){for(let e=0;e<t.length;e++){t[e].style.width=`${l[e]}px`}e.style.width=`${n}px`,e.style.tableLayout="fixed"}function Wt({rootRef:e,scrollerRef:t,innerTableRef:n,tableId:o,tableData:r,viewportConfig:i,layout:a,columns:s,columnOrder:c,columnWidths:u,isRtl:d}){const[f,y]=l.useState(!1),h=l.useRef(),[g,p]=l.useState(),[b,S]=l.useState(),[m,v]=l.useState(!1),C=l.useRef({isInitialRender:!0,isScrollbarSizeKnown:!1}),w=l.useRef({}),R=l.useRef({isHorizontal:!1,isVertical:!1}),[k,x]=l.useState({}),E=l.useMemo((()=>{const e=((e,t)=>t??{scroller:()=>e})(t,i);return{isExternalScroller:null!=i?.scroller(),viewportConfig:e}}),[t,i]),K=l.useMemo((()=>{const e=[];if(null!=c)for(const t of c)null!=s[t]&&e.push({key:t,value:s[t]});else for(const[t,l]of Object.entries(s))e.push({key:t,value:l});return e}),[c,s]);let P=!1;const T=[];if(null!=g)for(let e=0;e<K.length;e++){const t=K[e].key,l=g[t],n=null!=u?u[t]:void 0;if(null==l||null!=n&&n!==l){P=!0;break}T.push(l)}else P=!0;const I={isLayoutRequired:P,columnWidthsArray:P?void 0:T};l.useLayoutEffect((()=>{h.current=void 0,p(void 0)}),[s,c,a]),l.useLayoutEffect((()=>{p(void 0)}),[u]),l.useLayoutEffect((()=>{const e=E.viewportConfig.scroller().current,t=n.current;if("pending"!==a&&null!=e&&null!=t&&!C.current.isInitialRender&&(E.isExternalScroller||C.current.isScrollbarSizeKnown)&&I.isLayoutRequired&&K.length>0){let l=0;if(E.isExternalScroller){const e=E.viewportConfig.scrollerOffsetStart;null!=e&&(l+=e);const t=E.viewportConfig.scrollerOffsetEnd;null!=t&&(l+=t)}else C.current.isScrollbarSizeKnown&&(l=C.current.defaultScrollbarWidth);const n="fixed"===a?C.current.contentWidth-l:-1,r=zt(e,E,t,l,o,"fixed"===a,h,n,K,u);p(r)}}),[E,n,o,K,u,a,I.isLayoutRequired]),l.useLayoutEffect((()=>{const t=e.current,l=E.viewportConfig.scroller().current;"pending"!==a&&null!=t&&null!=l&&null!=g&&lt(t,l,E,o,d,K,g,k,x,E.isExternalScroller||R.current.isHorizontal)}),[r,e,E,o,g,K,a,k,d]);const H=l.useCallback((e=>{if(null!=g)if(E.isExternalScroller||R.current.isHorizontal){const t=[];for(let e=0;e<K.length;e++){const l=g[K[e].key];t.push(l)}rt(e,K,t,k,x)}else null==k.start&&null==k.end||x({})}),[g,K,k,E]),A=l.useCallback((()=>{let t=w.current.scroller;const l=e.current,r=E.viewportConfig.scroller().current,i=n.current;let s=!1;if(null!=t&&null!=l&&null!=r&&null!=i){const e=t.contentBoxSize[0].inlineSize,n=t.contentBoxSize[0].blockSize,c=t.borderBoxSize[0].inlineSize,f=t.borderBoxSize[0].blockSize;if(0!==c||0!==f){let t;s=!0;let b=0,S=0;if(E.isExternalScroller){const l=E.viewportConfig.scrollerOffsetStart;null!=l&&(b+=l);const o=E.viewportConfig.scrollerOffsetEnd;null!=o&&(b+=o),C.current.isScrollbarSizeKnown?C.current={isInitialRender:!1,contentWidth:e,boxWidth:c,contentHeight:n,boxHeight:f,isScrollbarSizeKnown:!0,defaultScrollbarWidth:C.current.defaultScrollbarWidth,defaultScrollbarHeight:C.current.defaultScrollbarHeight}:C.current={isInitialRender:!1,contentWidth:e,boxWidth:c,contentHeight:n,boxHeight:f,isScrollbarSizeKnown:!1},t=e-b}else{const l=C.current.isInitialRender;C.current.isScrollbarSizeKnown?(b=C.current.defaultScrollbarWidth,C.current={isInitialRender:!1,contentWidth:e,boxWidth:c,contentHeight:n,boxHeight:f,isScrollbarSizeKnown:!0,defaultScrollbarWidth:C.current.defaultScrollbarWidth,defaultScrollbarHeight:C.current.defaultScrollbarHeight}):(b=c-e,C.current={isInitialRender:!1,contentWidth:e,boxWidth:c,contentHeight:n,boxHeight:f,isScrollbarSizeKnown:!0,defaultScrollbarWidth:b,defaultScrollbarHeight:f-n},y(!0)),S=C.current.defaultScrollbarWidth,t=l&&"fixed"!==a?-1:e}if(K.length>0){let s;if("pending"!==a&&(s=zt(r,E,i,b,o,"fixed"===a,h,t,K,u),null!=g&&((e,t)=>{const l=Object.keys(e),n=Object.keys(t);if(l.length===n.length){for(const n of l){const l=n;if(e[l]!==t[l])return!1}return!0}return!1})(g,s)?s=void 0:p(s)),E.isExternalScroller)st(l,o,v);else{const t=i.getBoundingClientRect();at(l,r,o,t.width,e,t.height,n,S,R,v)}"pending"!==a&&(null!=s?lt(l,r,E,o,d,K,s,k,x,E.isExternalScroller||R.current.isHorizontal):H(r))}}}if(t=w.current.innerTable,null!=t){const e=t.borderBoxSize[0].inlineSize,n=t.borderBoxSize[0].blockSize;!s&&null!=l&&null!=r&&K.length>0&&(0!==e||0!==n)&&(E.isExternalScroller?st(l,o,v):C.current.isScrollbarSizeKnown&&at(l,r,o,e,C.current.contentWidth,n,C.current.contentHeight,C.current.defaultScrollbarWidth,R,v),"pending"!==a&&H(r)),S(n)}w.current={}}),[e,E,n,o,a,K,u,g,k,d,H]),j=l.useRef(A);j.current=A;const M=l.useCallback((e=>{null!=w.current.scroller&&null!=w.current.innerTable||window.requestAnimationFrame((()=>{j.current()})),w.current.scroller=e}),[]),z=l.useCallback((e=>{null!=w.current.scroller&&null!=w.current.innerTable||window.requestAnimationFrame((()=>{j.current()})),w.current.innerTable=e}),[]);return ee.useResizeObserver(E.viewportConfig.scroller(),M),ee.useResizeObserver(n,z),{layoutInfo:I,viewportInfo:E,columnsArray:K,appliedColumnWidths:g,sizingInfoRef:C,innerTableHeight:b,hasVerticalUnderflow:m,stickyEdgesState:k,setStickyEdgesState:x,overflowRef:R}}const Vt={row:{all:!1,keys:new Set},column:{all:!1,keys:new Set}},Nt=["enter"],$t=n.forwardRef((function({"aria-label":e,"aria-labelledby":n,getAccessibleRowHeaders:s,columns:c,columnOrder:u,columnWidths:f,contextMenuConfig:y,viewportConfig:h,layout:g="contents",data:p,getRowKey:b,hasMore:m=!1,onLoadMore:v=(()=>{}),currentCellOverride:C,onPersistCurrentCell:w,currentRowVariant:R="none",gridlines:k,selectionMode:E,selected:K=Vt,onSelectionChange:P,onRowAction:T,sortCriterion:I,onSortCriterionChange:H,horizontalScrollPositionOverride:A,verticalScrollPositionOverride:j,columnResizingIndicator:M,onColumnResizing:z,onColumnResize:F,noDataRenderer:D,testId:L},B){const O=r.useId(),W=le.useTestId(L),V=l.useRef(null),N=l.useRef(null),q=l.useRef(null),{direction:G,forcedColors:X}=a.useUser(),Y="active"===X,U="rtl"===G,{tableData:_,onTableLoadMore:J}=function({data:e,getRowKey:t,hasMore:n,onLoadMore:o}){const r=l.useMemo((()=>null!=e?e.map((e=>({data:e,metadata:t(e)}))):[]),[e,t]),i=l.useRef();n||(i.current=void 0);const a=l.useCallback((()=>{if(r!==i.current)return i.current=r,o()}),[r,o]);return{tableData:r,onTableLoadMore:a}}({data:p,getRowKey:b,hasMore:m,onLoadMore:v}),{layoutInfo:Q,viewportInfo:Z,columnsArray:ee,appliedColumnWidths:oe,sizingInfoRef:re,innerTableHeight:ie,hasVerticalUnderflow:ae,stickyEdgesState:ce,setStickyEdgesState:ue,overflowRef:de}=Wt({rootRef:V,scrollerRef:N,innerTableRef:q,tableId:O,tableData:_,viewportConfig:h,layout:g,columns:c,columnOrder:u,columnWidths:f,isRtl:U}),fe=l.useCallback((e=>{let t=!1;if("noData"===e.type)t=null!=D;else if("loadMore"!==e.type&&"loading"!==e.type&&"pending"!==e.type)for(const l of ee)if(l.key===e.columnKey){"data"===e.type?t=null!=l.value.renderer:"header"===e.type?t=null!=l.value.headerRenderer:"footer"===e.type&&(t=null!=l.value.footerRenderer);break}return t}),[ee,D]),ye="pending"===g,he=ee.some((e=>null!=e.value.footerRenderer||null!=e.value.footerText)),ge=m||ye?-1:_.length+(he?2:1),pe=Math.max(ee.length,1),{interactionManagerProps:be,scrollHandlingProps:Se,onTableSelectionChange:me,isShowFocusRing:ve,isTabbableMode:Ce,currentCell:we,currentActiveCell:Re,resizeInfoRef:ke,onStartFocusTracking:xe,onFocusStartEdge:Ee,onFocusEndEdge:Ke,hoverColumnKey:Pe,tooltipContent:Te,contextMenuContext:Ie,menuProps:He,disabledRowInteractionKeys:Ae}=Mt({rootRef:V,viewportInfo:Z,ref:B,tableId:O,tableData:_,hasMore:m,hasFooters:he,isRtl:U,columnsArray:ee,appliedColumnWidths:oe,layoutInfo:Q,sizingInfoRef:re,stickyEdgesState:ce,setStickyEdgesState:ue,cellHasRenderer:fe,horizontalScrollPositionOverride:A,verticalScrollPositionOverride:j,onColumnResizing:z,onColumnResize:F,currentCellOverride:C,onPersistCurrentCell:w,selectionMode:E,selected:K,onSelectionChange:P,onRowAction:T,sortCriterion:I,onSortCriterionChange:H,isPendingLayout:ye,contextMenuConfig:y}),{classes:je}=x.useComponentTheme(te.TableRedwoodTheme,{pendingLayout:ye?"isPendingLayout":"notPendingLayout",showFocusRing:ve?"isShowFocusRing":"notShowFocusRing",externalScroller:Z.isExternalScroller?"isExternalScroller":"notExternalScroller"});let Me,ze="";const Fe=[S.scrollerStyles.base];Z.isExternalScroller?Fe.push(S.scrollerStyles.externalScroller):re.current.isScrollbarSizeKnown?(de.current.isHorizontal?Fe.push(S.scrollerStyles.horizontalScroll):Fe.push(S.scrollerStyles.noHorizontalScroll),de.current.isVertical?Fe.push(S.scrollerStyles.verticalScroll):(Fe.push(S.scrollerStyles.noVerticalScroll),ze=`padding-inline-end: ${re.current.defaultScrollbarWidth}px;`)):Fe.push(S.scrollerStyles.forceScroll),Me=Q.isLayoutRequired&&ee.length>0?`${ze}opacity:0.001;`:ze;const De=o.classNames(Fe),Le=o.classNames([je]),Oe=o.classNames([S.innerTableStyles.base]),Ve=ce.start,Ne=ce.end,Xe="visible"===k?.vertical,Ye="hidden"!==k?.horizontal,Ue="single"===E?.row||"multiple"===E?.row,_e="single"===E?.column||"multiple"===E?.column,Je=Y?d.tableSkeletonStylesHC:d.tableSkeletonStyles;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{...W,ref:V,"aria-colcount":pe,"aria-label":e,"aria-labelledby":n,"aria-rowcount":ge,..."multiple"===E?.column||"multiple"===E?.row?{"aria-multiselectable":!0}:{},class:Le,id:O,role:"grid",tabIndex:null!=Re?-1:0,...be,children:[t.jsxs("div",{ref:N,class:De,role:"rowgroup",style:Me,tabIndex:-1,...Se,children:[t.jsxs($.FocusTracker,{isDisabled:!Ce,onFocusStartEdge:Ee,onFocusEndEdge:Ke,onStartTracking:xe,children:[t.jsx(i.TabbableModeContext.Provider,{value:{isTabbable:Ce},children:t.jsxs("table",{ref:q,"aria-hidden":!!ye||void 0,class:Oe,role:"presentation",style:(()=>{if(!Q.isLayoutRequired){let e=0;for(let t=0;t<Q.columnWidthsArray.length;t++)e+=Q.columnWidthsArray[t];return`width:${e}px;table-layout:fixed;`}return ee.length>0?"fixed"===g?`width:${100*ee.length}px;table-layout:fixed;`:"width:max-content;will-change:width;":"width:100%;"})(),"data-oj-table-inner-table":O,children:[t.jsx(ne,{...(()=>{let e;if(Q.isLayoutRequired)if("fixed"===g){e=[];for(let t=0;t<ee.length;t++)e[t]=100}else{e=[];for(let t=0;t<ee.length;t++)e[t]=void 0}else e=Q.columnWidthsArray;return{tableId:O,isRendered:ee.length>0,columnWidthsArray:e}})()}),t.jsx(We,{tableId:O,isRendered:ee.length>0,columnsArray:ee,hasVerticalGridlines:Xe,activeKey:"header"===Re?.type?Re.columnKey:void 0,isTabbableMode:Ce,selectedColumnKeys:K.column,selectedRowKeys:K.row,isColumnSelectionEnabled:_e,isRowSelectionEnabled:Ue,disabledInteractionKeys:Nt,onSelectionChange:me,isForceSortIcons:"contents"===g&&Q.isLayoutRequired,hoverColumnKey:Pe,sortCriterion:I,onSortCriterionChange:H,isShowFocusRing:ve,stickyTopOffset:Z.viewportConfig.scrollerOffsetTop,startStickyEdge:Ve,endStickyEdge:Ne,isResizeHover:ke.current.isResizeHover,isRtl:U,isHighContrast:Y}),t.jsx(Be,{rootRef:V,viewportInfo:Z,tableId:O,isValidRender:ee.length>0,tableData:_,columnsArray:ee,getAccessibleRowHeaders:s,hasVerticalGridlines:Xe,hasHorizontalGridlines:Ye,hasFooters:he,hasVerticalUnderflow:ae,selected:K,isRowSelectionEnabled:Ue,isSingleRowSelectionEnabled:"single"===E?.row,activeCell:Re,currentRowKey:"data"===we?.type?we.rowKey:void 0,currentRowVariant:R,isShowFocusRing:ve,isTabbableMode:Ce,hasMore:m,onLoadMore:J,noDataRenderer:D,disabledInteractionKeys:Ae,onSelectionChange:me,startStickyEdge:Ve,endStickyEdge:Ne,isRtl:U,isHighContrast:Y}),t.jsx($e,{tableId:O,isRendered:he,columnsArray:ee,hasVerticalGridlines:Xe,activeKey:"footer"===Re?.type?Re.columnKey:void 0,isTabbableMode:Ce,selectedKeys:K.column,isColumnSelectionEnabled:_e,isShowFocusRing:ve,disabledInteractionKeys:Nt,stickyBottomOffset:Z.viewportConfig.scrollerOffsetBottom,startStickyEdge:Ve,endStickyEdge:Ne,dataRowCount:_.length,isRtl:U,isHighContrast:Y})]})}),(()=>{if(null!=M&&!Q.isLayoutRequired){let e=0;for(let t=0;t<ee.length;t++)if(e+=Q.columnWidthsArray[t],ee[t].key===M.key){null!=M.delta&&(e+=M.delta);break}return t.jsx(qe,{position:e,isRtl:U,height:ie})}})()]}),Te]}),ye?t.jsx("div",{class:Je.pendingLayout,children:t.jsx("table",{role:"presentation",style:"width:100%;table-layout:fixed;",children:t.jsx("tbody",{role:"presentation",children:t.jsx(se,{tableId:O,hasTabIndex:"pending"===Re?.type,colspan:pe,isPendingLayout:!0,isShowFocusRing:!1,isHighContrast:Y})})})}):void 0]}),null!=y&&null!=Ie&&t.jsx(Ge,{...He,contextMenuConfig:y,contextMenuContext:Ie})]})}));e.Table=$t}));
//# sourceMappingURL=Table-87f7e3c4.js.map
