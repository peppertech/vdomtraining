define(['exports', './useDatatip-87792500', './util-5bb1f200', 'preact/jsx-runtime', './VisTabularDatatip-1051eaca', './colorUtils-a785c4c4', './accUtils-1557920a', './useUser-85c781ea'], (function(e,s,t,a,r,i,o,n){"use strict";function u(e,s,t,a,r,i,o){const n=e.value,u=a?.value?.format?a?.value?.format?.(n):o?.(n),l=[];return 0!=a?.series?.isDisplayed&&l.push({key:a?.series?.label||"Series",value:s}),0!=a?.group?.isDisplayed&&l.push({key:a?.group?.label||(r?"Date":"Group"),value:r?i?.(new Date(t).getTime()):t}),0!=a?.value?.isDisplayed&&l.push({key:a?.value?.label||"Value",value:u}),l}e.useChartDatatip=({isDataCursorEnabled:e,dataCursorPosition:o,isHoriz:l,datatip:d,xScale:p,getDataItem:x,getDataItemPos:c,hoveredItemInfo:m,focusedItemInfo:f,series:I,valueFormats:g,groups:v,width:b,height:y,findNearest:A,timeAxisType:C,touchResponse:D,isDisabled:h,formatAxisLabel:T,formatYValue:V})=>{let k=h?void 0:f?.isCurrent?f:m?.isCurrent&&void 0!==m.seriesIndex&&void 0!==m.groupIndex?m:void 0;const F=f?.isCurrent||e?"element":"pointer",P=f?.isCurrent?c(f.seriesIndex,f.groupIndex):void 0,{direction:U}=n.useUser(),L="rtl"===U;let R,S,Y="top-start",j=t.calculateOffset(L,b,P);if(e&&null!=o?.x&&null!=o?.y){k=k||A?.(o.x,o.y);const e=p.transform(o.x);j={mainAxis:-1,crossAxis:-1},l?(Y="end",j.mainAxis=-10,j.crossAxis=e-y/2):(Y="top",j.crossAxis=L?b/2-e:e-b/2,j.mainAxis=-10)}if(null!=k?.seriesIndex&&null!=k?.groupIndex){S=x(k.seriesIndex,k.groupIndex);const e=S?{data:S,seriesIndex:k.seriesIndex,groupIndex:k.groupIndex,id:S.id}:void 0;if(e){R=(d||function(e){const s="mixedFrequency"===e.timeAxisType,t="enabled"===e.timeAxisType||"skipGaps"===e.timeAxisType;return i=>{const o=e.groups.name||e.groups.id,n=s?i.data.x:t?o:void 0;return{content:a.jsx(r.VisTabularDatatip,{tableData:u(i.data,e.series.name||e.series.id.toString(),n||e.groups.name||e.groups.id,e.valueFormats,null!=e.timeAxisType,e.formatAxisLabel,e.formatYValue)}),borderColor:i.data.color||e.series.color}}}({series:I[k.seriesIndex],groups:v[k.groupIndex],valueFormats:g,timeAxisType:C,formatAxisLabel:T,formatYValue:V}))(e)}}const w=i.getColorRamp(),G=R?.borderColor||k&&(I[k.seriesIndex].color||I[k.seriesIndex].lineColor||I[k.seriesIndex].areaColor)||k&&w[k.seriesIndex%w.length],{datatipContent:q,datatipProps:z}=s.useDatatip({content:R?.content,anchor:F,placement:Y,offset:j,borderColor:G,touchResponse:D});return{datatipContent:q,datatipProps:z}}}));
//# sourceMappingURL=useChartDatatip-c702890c.js.map
