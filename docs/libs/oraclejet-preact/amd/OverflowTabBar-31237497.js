define(['exports', 'preact/jsx-runtime', 'preact', 'preact/hooks', './classNames-08d99695', './TabBar-1c002b5b', './UNSAFE_OverflowTabBar/themes/OverflowTabBarStyles.css', './useDetectHorizontalOverflow-995d565f', './collectionUtils-6740111c', './RemovableTabBarItem-6a25d890', './TabBarItem-16383a92', './OverflowTabBarItem-4c4b75e0'], (function(e,a,t,l,r,s,o,i,n,c,d,m){"use strict";e.OverflowTabBar=function({items:e,layout:b="stretch",display:u="standard",size:y="md",edge:f="top",selection:v,onSelect:B,onRemove:I,"aria-label":w,"aria-labelledby":g,testId:T}){const p="stacked"===u?{display:u}:{display:u,size:y},K=l.useRef(null),h=t.createRef(),[R,O]=l.useState(!1),x=l.useRef(!1),j=l.useCallback((e=>{"more"===e.value?x.current?O(!1):O(!0):B?.(e),x.current=!1}),[B]),k=l.useMemo((()=>e.map((e=>e.itemKey))),[e]),S=l.useCallback((e=>{const a=n.findElementByKey(K.current,e,'[role="tab"]'),t=e===k[k.length-1]?0:32;return a?a.getBoundingClientRect().width+t:0}),[k]),{visibleItemKeys:z,overflowItemKeys:C}=i.useDetectHorizontalOverflow({rootRef:K,getWidth:S,keysArray:k}),A=r.classNames([o.styles.overflowTabBarBase]);return a.jsx("div",{ref:K,class:A,children:a.jsxs(s.TabBar,{ref:h,selection:v,onSelect:j,...p,layout:b,edge:f,onRemove:I,"aria-label":w,"aria-labelledby":g,testId:T,children:[null!=z&&z.length>0&&e.filter((e=>z?.includes(e.itemKey))).map((e=>e.isRemovable?a.jsx(c.RemovableTabBarItem,{itemKey:e.itemKey,label:e.label,icon:e.icon,badge:e.badge,metadata:e.metadata,severity:e.severity,"aria-controls":e.tabPanelId}):a.jsx(d.TabBarItem,{itemKey:e.itemKey,label:e.label,icon:e.icon,badge:e.badge,metadata:e.metadata,severity:e.severity,"aria-controls":e.tabPanelId}))),null!=C&&C.length>0&&a.jsx(m.OverflowTabBarItem,{isOpen:R,onClose:e=>{h.current&&["itemAction","dismissed"].includes(e.reason)&&h?.current?.focus(),"outsideMousedown"===e.reason&&(x.current=!0),O(!1)},overflowItemKey:"more",overflowItems:e.filter((e=>C?.includes(e.itemKey)))})]})})}}));
//# sourceMappingURL=OverflowTabBar-31237497.js.map
