define(['exports', 'preact/jsx-runtime', 'preact/hooks', './PRIVATE_VisOverview/themes/VisOverview.css', './eventsUtils-edf8f4e5', './accUtils-530bdb90', './DragH-01dfdece', './clientUtils-009e930e'], (function(t,e,n,i,o,s,r,a){"use strict";const d=20;const h=a.isTouch()?30:10;t.OverviewSlidingWindow=function({x:t,width:s,height:a,y:l,windowX:f,windowHeight:c,windowWidth:w,windowY:g,hasHandles:x,onWindowDimsChange:u}){const j=n.useRef(null),m=function({x:t,width:e,windowX:i,windowWidth:s,rootRef:r,windowHeight:a,windowY:h,onWindowDimsChange:l}){const f=n.useRef(),[c,w]=n.useState();return{onPointerDown:n.useCallback((t=>{f.current={x:t.offsetX,y:t.offsetY},t.target.setPointerCapture(t.pointerId),w({x:t.offsetX,y:t.offsetY})}),[f]),onPointerUp:n.useCallback((n=>{const{offsetX:o,offsetY:r}=n,c=Math.abs(f.current.x-o)>d/4;if(f.current=void 0,w(void 0),o<=i+s&&o>=i&&r<=h+a&&r>=h||c)return;const g=Math.min(t+e-s,Math.max(o-s/2,t));l?.({deltaX:g-i,deltaWidth:0})}),[f,a,i,h,s,e,t,l]),onPointerMove:n.useCallback((n=>{const a=o.getElementData(r,n.target)?.ojObject;if(!f.current||null==n.target||null==a||null==c)return;let h=0,g=0;if("window"===a){const o=n.offsetX-c.x;h=Math.min(t+e-s,Math.max(t,i+o))-i}else"leftHandle"===a&&n.offsetX<=i+s-d/2?(h=Math.max(t,i+n.offsetX-c.x)-i,g=-1*h):"rightHandle"===a&&n.offsetX>=i+d/2&&(g=Math.min(n.offsetX-c.x,t+e-i));w({x:n.offsetX,y:n.offsetY}),l?.({deltaX:h,deltaWidth:g}),n.stopPropagation()}),[f,r,t,c,e,i,s,l])}}({x:t,y:l,width:s,height:a,windowHeight:c,windowWidth:w,windowX:f,windowY:g,rootRef:j,onWindowDimsChange:u}),v=g+.5*(c-16);return e.jsxs("g",{ref:j,...x?m:{},children:[e.jsx("rect",{x:t,y:l,width:s,height:a,fill:"transparent"}),e.jsx("rect",{"data-oj-object":"window",cursor:"move",x:f,y:g,height:c-1,width:w-1,class:i.styles.overviewWindow}),x&&e.jsxs(e.Fragment,{children:[e.jsx("g",{transform:`translate(${f} ${v})`,children:e.jsx(r.SvgDragH,{})}),e.jsx("g",{transform:`translate(${f+w-16} ${v})`,children:e.jsx(r.SvgDragH,{})}),e.jsx("rect",{x:f,y:g,height:c,width:h,strokeWidth:"1","data-oj-object":"leftHandle",fill:"transparent",stroke:"transparent",cursor:"col-resize"}),e.jsx("rect",{x:f+w-h,y:g,strokeWidth:"1",height:c,"data-oj-object":"rightHandle",width:h,stroke:"transparent",fill:"transparent",cursor:"col-resize"})]})]})}}));
//# sourceMappingURL=OverviewSlidingWindow-e4bea056.js.map
