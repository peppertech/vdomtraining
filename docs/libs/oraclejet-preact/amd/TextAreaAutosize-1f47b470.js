define(['exports', 'preact/jsx-runtime', 'preact/compat', './FormContext-5130e198', './useFormContext-30acdd33', './FormFieldContext-3c44aaaa', 'preact/hooks', './useFocusableTextField-8b755b15', './Label-a4172af7', './TextFieldInput-d6645f5b', 'css!./ObfuscatedTextFieldInputStyles.styles.css', './ReadonlyTextFieldInput-608bddc1', './StyledTextField-a51060bb', './TextField-51daf13e', './MaxLengthLiveRegion-8954fc30', './useTextField-e6877c79', './logger-0f873e29', './TabbableModeContext-a9c97640', './useId-c9578d26', './useTranslationBundle-516b1b83', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-2a480664', './CompactUserAssistance-a7b3ffc0', './mergeProps-bcfa6a92', './LayerHost-e95c5f30', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', './tooltipUtils-3b34c2bc', 'preact', 'css!./IconStyle.styles.css', './Popup-956e6d7d', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './InputGroupContext-372087af', './HiddenAccessible-037ef42d', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './useLengthFilter-ed8959a4', './useCurrentValueReducer-faded381', './TextArea-916c5bb1', './useSelectableTextField-900d2860'], (function(e,s,t,a,n,o,i,l,r,d,c,u,m,p,x,h,b,f,g,F,y,R,v,T,A,L,C,S,I,w,U,E,j,P,H,_,D,k,B,V,N,M,q,W,$){"use strict";const z=({isReadonly:e,enabledElementRef:s,readonlyElementRef:t,minRows:a=2,maxRows:n,value:o})=>{i.useLayoutEffect((()=>{const o=e?t:s;if(null===o.current)return;if(o.current instanceof HTMLDivElement)return;const i=o.current,l=(e=>{const s=window.getComputedStyle(e),t=s.lineHeight;if("normal"===t)return 1.2*parseFloat(s.fontSize);return parseFloat(t)})(i);i.style.height="0";const{paddingHeight:r,borderHeight:d}=(e=>{const s=window.getComputedStyle(e);return{paddingHeight:parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),borderHeight:parseFloat(s.borderTop)+parseFloat(s.borderBottom)}})(i),c=l*a+r+d,u=i.scrollHeight+d;let m=0;if(void 0===n)m=u<c?c:u;else if(n>a){const e=l*n+r+d;m=u>e?e:u<c?c:u}else m=c;i.style.height=m+.5+"px"}),[o,a,n,e,s,t])},G=t.forwardRef((({"aria-describedby":e,assistiveText:a,autoComplete:i="off",autoFocus:c=!1,columnSpan:b,helpSourceLink:f,helpSourceText:y,isDisabled:R,isReadonly:v,isRequired:C=!1,isRequiredShown:S,label:I,labelEdge:w,labelStartWidth:U,maxLength:E,maxLengthCounter:j="remaining",maxLengthUnit:P,maxRows:H,messages:_,minRows:D=2,placeholder:k,role:V,textAlign:N,userAssistanceDensity:G,value:O,variant:X="default",onInput:J,onCommit:K,testId:Q},Y)=>{const Z=F.useTranslationBundle("@oracle/oraclejet-preact"),ee=E?Z.formControl_limitReached({CHARACTER_LIMIT:E}):"",{currentCommitValue:se,dispatch:te}=q.useCurrentValueReducer({value:O}),ae=t.useCallback((e=>{te({type:"input",payload:e.value}),J?.(e)}),[J,te]),ne=t.useCallback((e=>{te({type:"commit",payload:e.value}),K?.(e)}),[K,te]),{isDisabled:oe,isReadonly:ie,labelEdge:le,labelStartWidth:re,textAlign:de,userAssistanceDensity:ce}=n.useFormContext(),ue=R??oe,me=v??ie,pe=w??le,xe=U??re,he=N??de,be=G??ce,fe=t.useRef(g.useId()),ge=e?`${e} ${fe.current}`:fe.current,Fe=t.useRef(null),ye=t.useRef(null),{focusProps:Re,isFocused:ve,methods:Te}=l.useFocusableTextField({isDisabled:ue,isReadonly:me,enabledElementRef:Fe,readonlyElementRef:ye}),{methods:Ae}=$.useSelectableTextField(Fe);t.useImperativeHandle(Y,(()=>L.mergeProps(Te,Ae)),[Te,Ae]);const{isMaxLengthReached:Le,valueLength:Ce,onFilteredInput:Se}=M.useLengthFilter({maxLength:E,maxLengthUnit:P,value:O,onInput:ae,onCommit:ne}),Ie=[..._??[],...Le?[{detail:ee,severity:"info"}]:[]],{formFieldContext:we,inputProps:Ue,labelProps:Ee,textFieldProps:je,userAssistanceProps:Pe}=h.useTextField({ariaDescribedBy:me||ue?e:ge,contentVariant:"textarea",helpSourceLink:f,helpSourceText:y,isDisabled:ue,isFocused:ve,isReadonly:me,isRequiredShown:S,labelEdge:pe,messages:Ie,styleVariant:X,userAssistanceDensity:be,value:O}),He=t.useCallback((()=>{const e=Fe.current,s=e?e.value.length:null;Fe.current?.setSelectionRange(s,s),Fe.current?.focus()}),[Fe]),_e="none"!==pe?s.jsx(r.Label,{...Ee,children:I}):void 0,De={label:"none"!==pe?_e:void 0,labelEdge:"none"!==pe?pe:void 0,labelStartWidth:"none"!==pe?xe:void 0},ke="none"===pe?I:void 0,Be="efficient"===be||"reflow"===be?ue||me?"efficient"!==be?void 0:s.jsx(T.InlineUserAssistance,{userAssistanceDensity:be,...Pe}):s.jsx(T.InlineUserAssistance,{assistiveText:a,fieldLabel:I,helpSourceLink:f,helpSourceText:y,messages:Ie,isRequiredShown:S,userAssistanceDensity:be,...Pe}):void 0,Ve=t.useRef(null),Ne="compact"===be?s.jsx(A.CompactUserAssistance,{anchorRef:Ve,messages:Ie,assistiveText:a,...Pe}):void 0;if(z({isReadonly:me,enabledElementRef:Fe,readonlyElementRef:ye,minRows:D,maxRows:H,value:O}),me){const e=s.jsx(u.ReadonlyTextFieldInput,{"aria-describedby":Ue["aria-describedby"],"aria-label":ke,"aria-labelledby":Ee.id,elementRef:ye,...H?{as:"textarea",rows:D}:{as:"div"},autoFocus:c,textAlign:he,value:O,variant:"textarea",hasEmptyLabel:""===I&&"none"===pe,hasInsideLabel:void 0!==I&&"inside"===pe});return s.jsx(o.FormFieldContext.Provider,{value:we,children:s.jsx(m.ReadonlyTextField,{role:"presentation",colSpan:b,compactUserAssistance:Ne,inlineUserAssistance:Be,variant:"textarea",mainContent:e,ref:Ve,testId:Q,...De})})}const Me=void 0!==E,qe=s.jsxs(s.Fragment,{children:[s.jsx(d.TextFieldInput,{as:"textarea","aria-label":ke,autoComplete:i,autoFocus:c,currentCommitValue:se,hasEmptyLabel:""===I&&"none"===pe,hasInsideLabel:void 0!==_e&&"inside"===pe,isRequired:C,inputRef:Fe,onCommit:ne,onInput:Se,placeholder:k,role:V,rows:D,textAlign:he,value:O,...Ue}),"remaining"===j&&Me&&s.jsx(W.MaxLengthCounter,{maxLength:E,valueLength:Ce,onClick:He}),Me&&s.jsx(B.HiddenAccessible,{id:fe.current,children:Z.formControl_maxLength({MAX_LENGTH:`${E}`})}),Me&&ve&&s.jsx(x.MaxLengthLiveRegion,{maxLength:E,valueLength:Ce,testId:Q+"_remainingChars"})]});return s.jsx(o.FormFieldContext.Provider,{value:we,children:s.jsx(p.TextField,{mainContent:qe,columnSpan:b,compactUserAssistance:Ne,inlineUserAssistance:Be,onBlur:Re?.onFocusOut,onFocus:Re?.onFocusIn,mainFieldRef:Ve,testId:Q,...je,...De})})}));e.TextAreaAutosize=G}));
//# sourceMappingURL=TextAreaAutosize-1f47b470.js.map
