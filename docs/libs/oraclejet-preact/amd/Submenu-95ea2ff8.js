define(['exports', 'preact/jsx-runtime', 'preact/compat', './DirectionalExpandArrowIcon-e9bdb06e', './useId-c9578d26', './MenuItem-87cd59b8', './Menu-5d447084', 'preact/hooks', './DirectionalCollapseArrowIcon-20cef34d'], (function(e,n,t,s,u,o,r,c,a){"use strict";const l=({label:e,children:c,startIcon:a,itemKey:l})=>{const m=u.useId(),d=u.useId(),b=t.useMemo((()=>`oj-menu-item-${d}`),[d]),{changeKey:p,currentKey:I}=o.useMenuContainerContext(),f=t.useRef(null),x=t.useRef(null),[y,h]=t.useState(!1),[k,j]=t.useState("none");t.useEffect((()=>{b!==I&&h(!1)}),[I,b]);const C=t.useCallback((e=>{f.current?.focus(),h(!0),"keyup"===e.type?j("firstItem"):j("none")}),[]),M=t.useRef({recentClose:!1,pendingUnhover:!1});return n.jsxs(n.Fragment,{children:[n.jsx(o.BaseMenuItem,{itemKey:l,startIcon:a,id:b,submenuId:m,ref:f,label:e,endIcon:n.jsx(s.DirectionalExpandArrowIcon,{}),type:"submenu",role:"menuitem",onAction:C,hoverInfo:{hoverProps:{onMouseEnter:e=>{C(e)}},hoverStatus:M},openSubmenu:()=>{h(!0),j("firstItem")},submenuRef:x,isSubmenuOpen:y}),n.jsx(r.DropdownMenu,{isOpen:y,menuLevel:"sub",menuId:m,closeSubmenu:()=>{M.current.recentClose=!0,p({key:I,reason:"keyboard"}),setTimeout((()=>{M.current.recentClose=!1}),i),h(!1),f.current?.focus()},ref:x,anchorRef:f,defaultPlacement:"end-top",currentFocus:k,offsetValue:{mainAxis:-8,crossAxis:-8},flipOptions:{crossAxis:!0,mainAxis:!0,fallbackPlacements:["start-top","end-bottom","start-bottom"]},children:c})]})},i=100,m=({label:e,children:t,startIcon:l,itemKey:i})=>{const m=u.useId(),d=u.useId(),b=u.useId(),p=c.useRef(null),[I,f]=c.useState(!1),[x,y]=c.useState("menu"),{menuContainerRef:h,changeKey:k}=o.useMenuContainerContext();c.useEffect((()=>{I&&h.current&&(h.current.style.display="none")}),[I,h]);const j=c.useCallback((()=>{f(!0),y("secondItem")}),[]),C=c.useCallback((e=>{f(!0),"keyup"===e.type?y("secondItem"):y("menu")}),[]),M=c.useCallback((()=>{k({key:d,reason:"keyboard"}),p.current?.focus()}),[k,d,p]),S=()=>{f(!1),h.current&&(h.current.style.display="block")};return n.jsxs(n.Fragment,{children:[n.jsx(o.BaseMenuItem,{itemKey:i,startIcon:l,id:d,submenuId:m,ref:p,label:e,endIcon:n.jsx(s.DirectionalExpandArrowIcon,{}),type:"submenu",role:"menuitem",onAction:C,openSubmenu:j,isSubmenuOpen:I}),I?n.jsxs(r.SheetMenu,{"aria-label":e,menuId:m,closeSubmenu:()=>{S(),M()},menuLevel:"sub",anchorRef:p,currentFocus:x,children:[n.jsx(o.BaseMenuItem,{id:b,menuItemLabelWeight:"bold",role:"menuitem",type:"submenu",startIcon:n.jsx(a.DirectionalCollapseArrowIcon,{}),onAction:e=>{S(),"keyup"===e.type?M():(k({key:void 0,reason:"click"}),h.current?.focus())},label:e}),t]}):null]})};e.Submenu=e=>{const{isMobile:t}=o.useMenuContext();return n.jsx(n.Fragment,{children:t?n.jsx(m,{...e}):n.jsx(l,{...e})})}}));
//# sourceMappingURL=Submenu-95ea2ff8.js.map
