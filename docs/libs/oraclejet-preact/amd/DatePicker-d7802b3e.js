define(['exports', 'preact/jsx-runtime', './Flex-56ecdf4c', './useTestId-3a316499', './useFocusWithin-5a504fca', './useTranslationBundle-516b1b83', './calendarDateUtils-ee8bb928', 'preact/compat', './useBreakpointValues-3a067093', './Button-89a64825', './UNSAFE_DatePicker/themes/DatePickerContract.css', './useComponentTheme-5aa41a8f', './UNSAFE_DatePicker/themes/redwood/DatePickerTheme', './DatePickerHeader-c03ca6b4', './MonthView-ac27389f', './YearsGridView-e758c73a'], (function(e,a,o,t,i,n,s,r,d,c,u,l,h,w,y,v){"use strict";const V=["monthView","monthsGridView","yearsGridView","viewFocus","viewBlur"],p=["daySelected","goToToday","previousDay","nextDay","previousWeek","nextWeek","previousMonth","previousMonthAndFocus","nextMonth","nextMonthAndFocus","previousYear","nextYear","firstDayOfMonth","lastDayOfMonth"],m=["previousMonthInGridView","nextMonthInGridView","previousMonthRowInGridView","nextMonthRowInGridView","monthSelected"],b=["previousYearInGridView","nextYearInGridView","previousYearRowInGridView","nextYearRowInGridView","previousDecade","previousDecadeAndFocus","nextDecade","nextDecadeAndFocus","yearSelected"],g=(e,a)=>{if("reset"===a.type)return a.payload;switch(a.type){case"monthView":return{...e,currentView:"monthView",isViewFocused:!1,isNextNavigationButtonHidden:!1,isPreviousNavigationButtonHidden:!1,isTodayNavigationButtonHidden:!1};case"monthsGridView":return{...e,currentView:"monthsGridView",focusableMonth:e.focusableDate.month,isViewFocused:!1,isNextNavigationButtonHidden:!0,isPreviousNavigationButtonHidden:!0,isTodayNavigationButtonHidden:!0};case"yearsGridView":return{...e,currentView:"yearsGridView",focusableYear:e.focusableDate.year,isViewFocused:!1,isNextNavigationButtonHidden:!1,isPreviousNavigationButtonHidden:!1,isTodayNavigationButtonHidden:!0};case"viewFocus":return e.isViewFocused?e:{...e,isViewFocused:!0};case"viewBlur":return e.isViewFocused?{...e,isViewFocused:!1}:e;case"daySelected":case"goToToday":return{...e,isViewFocused:!0,focusableDate:a.payload};case"previousDay":{const o=s.addToCalendarDate(a.payload,{days:-1});return{...e,isViewFocused:!0,focusableDate:o}}case"nextDay":{const o=s.addToCalendarDate(a.payload,{days:1});return{...e,isViewFocused:!0,focusableDate:o}}case"previousWeek":{const o=s.addToCalendarDate(a.payload,{days:-7});return{...e,isViewFocused:!0,focusableDate:o}}case"nextWeek":{const o=s.addToCalendarDate(a.payload,{days:7});return{...e,isViewFocused:!0,focusableDate:o}}case"previousMonth":case"previousMonthAndFocus":{const o=s.addToCalendarDate(a.payload,{months:-1});return{...e,isViewFocused:"previousMonthAndFocus"===a.type,focusableDate:o}}case"nextMonth":case"nextMonthAndFocus":{const o=s.addToCalendarDate(a.payload,{months:1});return{...e,isViewFocused:"nextMonthAndFocus"===a.type,focusableDate:o}}case"previousYear":{const o=s.addToCalendarDate(a.payload,{years:-1});return{...e,isViewFocused:!0,focusableDate:o}}case"nextYear":{const o=s.addToCalendarDate(a.payload,{years:1});return{...e,isViewFocused:!0,focusableDate:o}}case"firstDayOfMonth":{const o=a.payload,t={year:o.year,month:o.month,day:1};return{...e,isViewFocused:!0,focusableDate:t}}case"lastDayOfMonth":{const o=a.payload,t=s.getDaysInMonth(o.month,o.year),i={year:o.year,month:o.month,day:t};return{...e,isViewFocused:!0,focusableDate:i}}case"previousMonthInGridView":{const o=s.addToMonth(a.payload.month,-1);return{...e,focusableMonth:o,isViewFocused:!0}}case"previousMonthRowInGridView":{const o=s.addToMonth(a.payload.month,-4);return{...e,focusableMonth:o,isViewFocused:!0}}case"nextMonthInGridView":{const o=s.addToMonth(a.payload.month,1);return{...e,focusableMonth:o,isViewFocused:!0}}case"nextMonthRowInGridView":{const o=s.addToMonth(a.payload.month,4);return{...e,focusableMonth:o,isViewFocused:!0}}case"monthSelected":{const o=a.payload.month-e.focusableDate.month,t=s.addToCalendarDate(e.focusableDate,{months:o});return{...e,currentView:"monthView",focusableDate:t,isViewFocused:!0,isNextNavigationButtonHidden:!1,isPreviousNavigationButtonHidden:!1,isTodayNavigationButtonHidden:!1}}case"previousYearInGridView":{const o=s.addToYear(a.payload.year,-1);return{...e,focusableYear:o,isViewFocused:!0}}case"previousYearRowInGridView":{const o=s.addToYear(a.payload.year,-4);return{...e,focusableYear:o,isViewFocused:!0}}case"previousDecade":case"previousDecadeAndFocus":{const o=s.addToYear(a.payload.year,-10);return{...e,focusableYear:o,isViewFocused:"previousDecadeAndFocus"===a.type}}case"nextYearInGridView":{const o=s.addToYear(a.payload.year,1);return{...e,focusableYear:o,isViewFocused:!0}}case"nextYearRowInGridView":{const o=s.addToYear(a.payload.year,4);return{...e,focusableYear:o,isViewFocused:!0}}case"nextDecade":case"nextDecadeAndFocus":{const o=s.addToYear(a.payload.year,10);return{...e,focusableYear:o,isViewFocused:"nextDecadeAndFocus"===a.type}}case"yearSelected":{const o=a.payload.year-e.focusableDate.year,t=s.addToCalendarDate(e.focusableDate,{years:o});return{...e,currentView:"monthView",focusableDate:t,isViewFocused:!0,isNextNavigationButtonHidden:!1,isPreviousNavigationButtonHidden:!1,isTodayNavigationButtonHidden:!1}}default:return e}},D={monthView:"none",monthsGridView:"month",yearsGridView:"year"},x=({isReadonly:e,max:a,min:o,todayTimeZone:t,value:d,onCommit:c})=>{if(o&&a&&s.isCalendarDateBefore(a,o))throw new Error("DatePicker: min must be equal or less than max.");const u=s.getCalendarDateToday(t),l=r.useMemo((()=>s.constrainCalendarDate(d??u,o,a)),[d,u,o,a]),{state:h,actions:w}=(({initialFocusableDate:e})=>{const a={currentView:"monthView",focusableDate:e,focusableMonth:e.month,focusableYear:e.year,isViewFocused:!1,isNextNavigationButtonHidden:!1,isPreviousNavigationButtonHidden:!1,isTodayNavigationButtonHidden:!1},[o,t]=r.useReducer(g,a),i=r.useRef(e);return 0!==s.compareDates(i.current,e)&&(i.current=e,0!==s.compareDates(e,o.focusableDate)&&t({type:"reset",payload:a})),{state:o,actions:r.useMemo((()=>{const e={};return V.forEach((a=>{e[a]=()=>t({type:a})})),p.forEach((a=>{e[a]=e=>t({type:a,payload:e})})),m.forEach((a=>{e[a]=e=>t({type:a,payload:e})})),b.forEach((a=>{e[a]=e=>t({type:a,payload:e})})),e}),[t])}})({initialFocusableDate:l}),y=n.useTranslationBundle("@oracle/oraclejet-preact"),v={next:y.datePicker_next(),previous:y.datePicker_prev(),goToToday:y.datePicker_goToToday(),today:y.datePicker_today()},x={handleMonthToggle:r.useCallback((()=>{"monthsGridView"!==h.currentView?w.monthsGridView(void 0):w.monthView(void 0)}),[w,h.currentView]),handleYearToggle:r.useCallback((()=>{"yearsGridView"!==h.currentView?w.yearsGridView(void 0):w.monthView(void 0)}),[w,h.currentView]),handleTodayNavigation:r.useCallback((()=>{w.goToToday(u)}),[w,u]),handlePreviousNavigation:r.useCallback((()=>"monthView"===h.currentView?w.previousMonth(h.focusableDate):"yearsGridView"===h.currentView?w.previousDecade({year:h.focusableYear}):void 0),[w,h.currentView,h.focusableDate,h.focusableYear]),handleNextNavigation:r.useCallback((()=>"monthView"===h.currentView?w.nextMonth(h.focusableDate):"yearsGridView"===h.currentView?w.nextDecade({year:h.focusableYear}):void 0),[w,h.currentView,h.focusableDate,h.focusableYear]),handleMonthViewAction:r.useCallback((a=>{void 0===a.date||e||(w.daySelected(a.date),c?.({previousValue:d,value:a.date}))}),[w,e,c,d]),handleMonthViewNavigation:r.useCallback((e=>{switch(e.direction){case"previousMonth":return w.previousMonthAndFocus(e.date);case"nextMonth":return w.nextMonthAndFocus(e.date);case"today":return w.goToToday(u);default:return w[e.direction](e.date)}}),[w,u]),handleMonthsGridViewAction:r.useCallback((e=>{w.monthSelected(e)}),[w]),handleMonthsGridViewNavigation:r.useCallback((e=>{switch(e.direction){case"down":return w.nextMonthRowInGridView({month:e.month});case"next":return w.nextMonthInGridView({month:e.month});case"previous":return w.previousMonthInGridView({month:e.month});case"up":return w.previousMonthRowInGridView({month:e.month})}}),[w]),handleYearsGridViewAction:r.useCallback((e=>{w.yearSelected(e)}),[w]),handleYearsGridViewNavigation:r.useCallback((e=>{switch(e.direction){case"down":return w.nextYearRowInGridView({year:e.year});case"next":return w.nextYearInGridView({year:e.year});case"nextDecade":return w.nextDecadeAndFocus({year:e.year});case"previous":return w.previousYearInGridView({year:e.year});case"previousDecade":return w.previousDecadeAndFocus({year:e.year});case"up":return w.previousYearRowInGridView({year:e.year})}}),[w])},{focusProps:f}=i.useFocusWithin({onBlurWithin:r.useCallback((()=>w.viewBlur(void 0)),[w]),onFocusWithin:r.useCallback((()=>w.viewFocus(void 0)),[w])});return{accessibleLabels:v,actions:w,handlers:x,state:h,todaysDate:u,toggleSelection:D[h.currentView],viewContainerProps:{...f}}},f=({onTodayNavigationAction:e,testId:t,todayNavigationAriaLabel:i,todayNavigationLabel:n})=>a.jsx(o.Flex,{direction:"column",children:a.jsx(c.Button,{testId:t,label:n,"aria-label":i,size:"sm",onAction:e})});e.DatePicker=({dayFormatter:e,daysOutsideMonth:i,height:n,isReadonly:s=!1,monthAndYearPicker:r="on",max:c,maxWidth:V,min:p,value:m,testId:b,todayTimeZone:g,todayButton:D="visible",weekDisplay:T="none",width:F,onCommit:N})=>{const{accessibleLabels:M,handlers:G,state:Y,todaysDate:k,toggleSelection:B,viewContainerProps:P}=x({isReadonly:s,max:c,min:p,todayTimeZone:g,value:m,onCommit:N}),{month:A,year:I}=Y.focusableDate,C="on"===r&&!s,H=d.useBreakpointValues({sm:!0,md:!1},{sm:"0px",md:"360px"}),R=!Y.isTodayNavigationButtonHidden&&H&&"visible"===D,{classes:S}=l.useComponentTheme(h.DatePickerRedwoodTheme),j=t.useTestId(b);return a.jsx("div",{class:S,...j,children:a.jsxs(o.Flex,{direction:"column",gap:"monthView"===Y.currentView?u.datePickerPropVars.calendarGridRowGap:u.datePickerPropVars.monthYearGridRowGap,height:"auto"===n?void 0:R?u.datePickerPropVars.todayFooterButtonHeight:u.datePickerPropVars.height,maxWidth:void 0!==V?V:u.datePickerPropVars.maxWidth,width:void 0!==F?F:u.datePickerPropVars.width,children:[a.jsx(w.DatePickerHeader,{testId:b?b+"_header":void 0,month:A,year:I,isPreviousNavigationButtonHidden:Y.isPreviousNavigationButtonHidden,isTodayNavigationButtonHidden:"hidden"===D||Y.isTodayNavigationButtonHidden||H,isNextNavigationButtonHidden:Y.isNextNavigationButtonHidden,monthYearHeader:C?"independentButtons":"text",toggleSelection:C?B:void 0,previousNavigationAccessibleLabel:M.previous,todayNavigationAccessibleLabel:M.goToToday,nextNavigationAccessibleLabel:M.next,onTodayNavigationAction:G.handleTodayNavigation,onPreviousNavigationAction:G.handlePreviousNavigation,onNextNavigationAction:G.handleNextNavigation,onMonthToggle:C?G.handleMonthToggle:void 0,onYearToggle:C?G.handleYearToggle:void 0}),a.jsxs("div",{...P,children:["monthView"===Y.currentView&&a.jsx(y.MonthView,{dayFormatter:e,daysOutsideMonth:i,isReadonly:s,max:c,min:p,selectedDate:m,focusableDate:Y.focusableDate,isFocused:Y.isViewFocused,testId:b?b+"_monthView":void 0,todaysDate:k,onNavigation:G.handleMonthViewNavigation,onAction:G.handleMonthViewAction,weekDisplay:T}),"monthsGridView"===Y.currentView&&a.jsx(v.MonthsGridView,{currentMonth:k.month,focusableMonth:Y.focusableMonth,isFocused:Y.isViewFocused,selectedMonth:A,testId:b?b+"_monthsGridView":void 0,onAction:G.handleMonthsGridViewAction,onNavigation:G.handleMonthsGridViewNavigation}),"yearsGridView"===Y.currentView&&a.jsx(v.YearsGridView,{currentYear:k.year,focusableYear:Y.focusableYear,isFocused:Y.isViewFocused,selectedYear:I,testId:b?b+"_yearsGridView":void 0,onAction:G.handleYearsGridViewAction,onNavigation:G.handleYearsGridViewNavigation})]}),R&&a.jsx("div",{children:a.jsx(f,{testId:b?b+"_footerTodayButton":void 0,todayNavigationLabel:M.today,todayNavigationAriaLabel:M.goToToday,onTodayNavigationAction:G.handleTodayNavigation})})]})})}}));
//# sourceMappingURL=DatePicker-d7802b3e.js.map
