{"version":3,"file":"ComponentMessageContainer-8028ba70.js","sources":["../../src/UNSAFE_ComponentMessage/ComponentMessage.tsx","../../src/UNSAFE_ComponentMessage/ComponentMessageContainer.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { useComponentTheme } from '../hooks/UNSAFE_useComponentTheme';\nimport { isSeverityIconNeeded, MessageStartIcon, MessageSummary } from '../PRIVATE_Message';\nimport { HiddenAccessible } from '../UNSAFE_HiddenAccessible';\nimport { ComponentMessageVariantOptions } from './themes/ComponentMessageStyles.css';\nimport { ComponentMessageRedwoodTheme } from './themes/redwood/ComponentMessageTheme';\nimport { classNames } from '#utils/UNSAFE_classNames';\nimport { type TestIdProps, useTestId } from '#hooks/UNSAFE_useTestId';\nimport { UserAssistanceRedwoodTheme } from '#UNSAFE_UserAssistance/themes/redwood/UserAssistanceTheme';\n/**\n * A type for a single component message\n */\nexport type ComponentMessageItem = {\n  summary?: string;\n  detail?: string;\n  severity?: 'confirmation' | 'error' | 'info' | 'warning';\n};\n\n/**\n * Props for the Message Component\n */\ntype Props = TestIdProps & {\n  /**\n   * The error detail text for the component message\n   */\n  detail?: ComponentMessageItem['detail'];\n\n  /**\n   * The label of the field which is showing this error\n   */\n  fieldLabel?: string;\n\n  /**\n   * The severity of the component message\n   */\n  severity?: ComponentMessageItem['severity'];\n};\n\n/**\n * The component that renders an individual message for inline component messaging.\n */\nexport function ComponentMessage({ detail, fieldLabel, severity = 'error', testId }: Props) {\n  const { classes } = useComponentTheme<ComponentMessageVariantOptions>(\n    ComponentMessageRedwoodTheme,\n    {\n      severity: severity ?? 'none'\n    }\n  );\n\n  const { baseTheme } = useComponentTheme(UserAssistanceRedwoodTheme);\n  const styleClasses = classNames([classes, baseTheme]);\n  const testIdProps = useTestId(testId);\n\n  return (\n    <div class={styleClasses} aria-live=\"assertive\" aria-atomic=\"true\" {...testIdProps}>\n      {fieldLabel && <HiddenAccessible>{fieldLabel}</HiddenAccessible>}\n      {isSeverityIconNeeded(severity) && (\n        <MessageStartIcon\n          severity={severity}\n          testId={testId ? `${testId}-icon` : undefined}\n          variant=\"inline\"\n        />\n      )}\n      {/* We will be using the MessageSummary component, as this aligns with the style required */}\n      <MessageSummary\n        testId={testId ? `${testId}-summary` : undefined}\n        text={detail}\n        variant=\"inline\"\n      />\n    </div>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { MessagesManager } from '../PRIVATE_Message';\nimport { Item } from '../utils/UNSAFE_dataProvider';\nimport { ComponentMessage, ComponentMessageItem } from './ComponentMessage';\nimport { componentMessageContainerBase } from './themes/ComponentMessageStyles.css';\nimport { type TestIdProps, useTestId } from '#hooks/UNSAFE_useTestId';\n\n/**\n * Converts the messages data into Item\n *\n * @param messages The messages data passed down as prop\n * @returns The messages data as Item\n */\nfunction generateMessagesData(messages: ComponentMessageItem[]) {\n  return messages.map<Item<number, ComponentMessageItem>>((message, index) => {\n    return {\n      key: index,\n      data: {\n        closeAffordance: 'off',\n        severity: message.severity || 'error',\n        detail: message.detail\n      }\n    };\n  });\n}\n\n/**\n * Props for the ComponentMessaging component\n */\ntype Props = TestIdProps & {\n  /**\n   * The label of the field which is showing this error\n   */\n  fieldLabel?: string;\n\n  /**\n   * Data for the messages. This data is used for rendering each message.\n   */\n  messages?: ComponentMessageItem[];\n};\n\nexport function ComponentMessageContainer({ fieldLabel, messages = [], testId }: Props) {\n  const testIdProps = useTestId(testId);\n  return (\n    <div class={componentMessageContainerBase} {...testIdProps}>\n      <MessagesManager data={generateMessagesData(messages)}>\n        {({ item }) => (\n          <ComponentMessage\n            key={item.key}\n            detail={item.data.detail}\n            fieldLabel={fieldLabel}\n            severity={item.data.severity}\n            testId={testId ? `${testId}-message-${item.key}` : undefined}\n          />\n        )}\n      </MessagesManager>\n    </div>\n  );\n}\n"],"names":["ComponentMessage","detail","fieldLabel","severity","testId","classes","useComponentTheme","ComponentMessageRedwoodTheme","baseTheme","UserAssistanceRedwoodTheme","styleClasses","classNames","testIdProps","useTestId","_jsxs","class","children","_jsx","HiddenAccessible","isSeverityIconNeeded","MessageStartIcon","undefined","variant","MessageSummary","text","generateMessagesData","messages","map","message","index","key","data","closeAffordance","jsx","componentMessageContainerBase","MessagesManager","item"],"mappings":"ilCAgDgB,SAAAA,GAAiBC,OAAEA,EAAMC,WAAEA,EAAUC,SAAEA,EAAW,QAAOC,OAAEA,IACzE,MAAMC,QAAEA,GAAYC,EAAiBA,kBACnCC,+BACA,CACEJ,SAAUA,GAAY,UAIpBK,UAAEA,GAAcF,EAAiBA,kBAACG,EAA0BA,4BAC5DC,EAAeC,EAAUA,WAAC,CAACN,EAASG,IACpCI,EAAcC,YAAUT,GAE9B,OACEU,OAAK,MAAA,CAAAC,MAAOL,cAAwB,YAAW,cAAa,UAAWE,EACpEI,SAAA,CAAAd,GAAce,EAAAA,IAACC,EAAgBA,2BAAEhB,IACjCiB,uBAAqBhB,IACpBc,EAAAA,IAACG,EAAgBA,iBAAA,CACfjB,SAAUA,EACVC,OAAQA,EAAS,GAAGA,cAAgBiB,EACpCC,QAAQ,WAIZL,EAAAA,IAACM,EAAAA,gBACCnB,OAAQA,EAAS,GAAGA,iBAAmBiB,EACvCG,KAAMvB,EACNqB,QAAQ,aAIhB,CC1DA,SAASG,EAAqBC,GAC5B,OAAOA,EAASC,KAAwC,CAACC,EAASC,KACzD,CACLC,IAAKD,EACLE,KAAM,CACJC,gBAAiB,MACjB7B,SAAUyB,EAAQzB,UAAY,QAC9BF,OAAQ2B,EAAQ3B,WAIxB,kDAiBM,UAAoCC,WAAEA,EAAUwB,SAAEA,EAAW,GAAEtB,OAAEA,IACrE,MAAMQ,EAAcC,YAAUT,GAC9B,OACEa,EAAAgB,IAAA,MAAA,CAAKlB,MAAOmB,EAAAA,iCAAmCtB,EAC7CI,SAAAC,EAAAgB,IAACE,kBAAgB,CAAAJ,KAAMN,EAAqBC,GACzCV,SAAA,EAAGoB,UACFnB,MAACjB,EAAgB,CAEfC,OAAQmC,EAAKL,KAAK9B,OAClBC,WAAYA,EACZC,SAAUiC,EAAKL,KAAK5B,SACpBC,OAAQA,EAAS,GAAGA,aAAkBgC,EAAKN,WAAQT,GAJ9Ce,EAAKN,QAUtB"}