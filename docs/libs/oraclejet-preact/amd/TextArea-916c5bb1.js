define(['exports', 'preact/jsx-runtime', 'preact/compat', './FormContext-5130e198', './useFormContext-30acdd33', './FormFieldContext-3c44aaaa', 'preact/hooks', './useFocusableTextField-8b755b15', './Label-a4172af7', './TextFieldInput-d6645f5b', 'css!./ObfuscatedTextFieldInputStyles.styles.css', './ReadonlyTextFieldInput-608bddc1', './StyledTextField-a51060bb', './TextField-51daf13e', './MaxLengthLiveRegion-8954fc30', './useTextField-e6877c79', './logger-0f873e29', './TabbableModeContext-a9c97640', './useId-c9578d26', './useTranslationBundle-516b1b83', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-2a480664', './CompactUserAssistance-a7b3ffc0', './mergeProps-bcfa6a92', './LayerHost-e95c5f30', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', './tooltipUtils-3b34c2bc', 'preact', 'css!./IconStyle.styles.css', './Popup-956e6d7d', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './InputGroupContext-372087af', './HiddenAccessible-037ef42d', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './useLengthFilter-ed8959a4', './classNames-08d99695', './usePress-a9ed1488', './useFormFieldContext-8196183c', 'css!./MaxLengthCounterStyles.styles.css', './useCurrentValueReducer-faded381', './useSelectableTextField-900d2860'], (function(e,s,t,a,n,l,i,o,r,d,c,u,x,m,p,h,b,F,y,g,f,C,L,v,A,S,T,R,I,U,j,_,E,w,P,k,D,M,N,V,B,H,q,z,W,$,G,O){"use strict";var X="MaxLengthCounterStyles_spanStyles__7dy9j72";const J=()=>{};function K({maxLength:e,valueLength:t=0,onClick:a}){const{isFocused:n}=W.useFormFieldContext(),l=i.useCallback((e=>e.preventDefault()),[]),o=q.classNames([!n&&"MaxLengthCounterStyles_hide__7dy9j71"]),{pressProps:r}=z.usePress(a??J);return s.jsx("div",{class:"MaxLengthCounterStyles_maxLengthCounterBase__7dy9j70",onMouseDown:l,...r,children:s.jsxs("span",{class:o,children:[s.jsx("span",{class:X,children:t}),s.jsx("span",{class:X,children:"/"}),s.jsx("span",{class:X,children:e})]})})}const Q=t.forwardRef((({"aria-describedby":e,assistiveText:a,autoComplete:i="off",autoFocus:c=!1,columnSpan:b,helpSourceLink:F,helpSourceText:f,isDisabled:C,isReadonly:L,isRequired:T=!1,isRequiredShown:R,label:I,labelEdge:U,labelStartWidth:j,maxLength:_,maxLengthCounter:E="remaining",maxLengthUnit:w,messages:P,placeholder:k,resize:D,role:M,rows:V,textAlign:B,userAssistanceDensity:q,value:z,variant:W="default",onInput:$,onCommit:X,testId:J},Q)=>{const Y=g.useTranslationBundle("@oracle/oraclejet-preact"),Z=_?Y.formControl_limitReached({CHARACTER_LIMIT:_}):"",{currentCommitValue:ee,dispatch:se}=G.useCurrentValueReducer({value:z}),te=t.useCallback((e=>{se({type:"input",payload:e.value}),$?.(e)}),[$,se]),ae=t.useCallback((e=>{se({type:"commit",payload:e.value}),X?.(e)}),[X,se]),{isDisabled:ne,isReadonly:le,labelEdge:ie,labelStartWidth:oe,textAlign:re,userAssistanceDensity:de}=n.useFormContext(),ce=C??ne,ue=L??le,xe=U??ie,me=j??oe,pe=B??re,he=q??de,be=t.useRef(y.useId()),Fe=e?`${e} ${be.current}`:be.current,ye=t.useRef(null),ge=t.useRef(null),{focusProps:fe,isFocused:Ce,methods:Le}=o.useFocusableTextField({isDisabled:ce,isReadonly:ue,enabledElementRef:ye,readonlyElementRef:ge}),{methods:ve}=O.useSelectableTextField(ye);t.useImperativeHandle(Q,(()=>S.mergeProps(Le,ve)),[Le,ve]);const{isMaxLengthReached:Ae,valueLength:Se,onFilteredInput:Te}=H.useLengthFilter({maxLength:_,maxLengthUnit:w,value:z,onInput:te,onCommit:ae}),Re=[...P??[],...Ae?[{detail:Z,severity:"info"}]:[]],{formFieldContext:Ie,inputProps:Ue,labelProps:je,textFieldProps:_e,userAssistanceProps:Ee}=h.useTextField({ariaDescribedBy:ue||ce?e:Fe,contentVariant:"textarea",helpSourceLink:F,helpSourceText:f,isDisabled:ce,isFocused:Ce,isReadonly:ue,isRequiredShown:R,labelEdge:xe,messages:Re,styleVariant:W,userAssistanceDensity:he,value:z}),we=t.useCallback((()=>{const e=ye.current,s=e?e.value.length:null;ye.current?.setSelectionRange(s,s),ye.current?.focus()}),[ye]),Pe="none"!==xe?s.jsx(r.Label,{...je,children:I}):void 0,ke={label:"none"!==xe?Pe:void 0,labelEdge:"none"!==xe?xe:void 0,labelStartWidth:"none"!==xe?me:void 0},De="none"===xe?I:void 0,Me="efficient"===he||"reflow"===he?ce||ue?"efficient"!==he?void 0:s.jsx(v.InlineUserAssistance,{userAssistanceDensity:he,...Ee}):s.jsx(v.InlineUserAssistance,{assistiveText:a,fieldLabel:I,helpSourceLink:F,helpSourceText:f,messages:Re,isRequiredShown:R,userAssistanceDensity:he,...Ee}):void 0,Ne=t.useRef(null),Ve="compact"===he?s.jsx(A.CompactUserAssistance,{anchorRef:Ne,messages:Re,assistiveText:a,...Ee}):void 0;if(ue){const e=s.jsx(u.ReadonlyTextFieldInput,{"aria-describedby":Ue["aria-describedby"],"aria-label":De,"aria-labelledby":je.id,as:"textarea",elementRef:ge,rows:V,autoFocus:c,textAlign:pe,value:z,variant:"textarea",hasEmptyLabel:""===I&&"none"===xe,hasInsideLabel:void 0!==I&&"inside"===xe});return s.jsx(l.FormFieldContext.Provider,{value:Ie,children:s.jsx(x.ReadonlyTextField,{role:"presentation",columnSpan:b,compactUserAssistance:Ve,inlineUserAssistance:Me,ref:Ne,testId:J,variant:"textarea",mainContent:e,resize:D,...ke})})}const Be=void 0!==_,He=s.jsxs(s.Fragment,{children:[s.jsx(d.TextFieldInput,{as:"textarea","aria-label":De,autoComplete:i,autoFocus:c,currentCommitValue:ee,hasEmptyLabel:""===I&&"none"===xe,hasInsideLabel:void 0!==Pe&&"inside"===xe,isRequired:T,inputRef:ye,onCommit:ae,onInput:Te,placeholder:k,role:M,rows:V,textAlign:pe,value:z,...Ue}),"remaining"===E&&Be&&s.jsx(K,{maxLength:_,valueLength:Se,onClick:we}),Be&&s.jsx(N.HiddenAccessible,{id:be.current,isHidden:!0,children:Y.formControl_maxLength({MAX_LENGTH:`${_}`})}),Be&&Ce&&s.jsx(p.MaxLengthLiveRegion,{maxLength:_,valueLength:Se,testId:J+"_remainingChars"})]});return s.jsx(l.FormFieldContext.Provider,{value:Ie,children:s.jsx(m.TextField,{mainContent:He,columnSpan:b,compactUserAssistance:Ve,inlineUserAssistance:Me,onBlur:fe?.onFocusOut,onFocus:fe?.onFocusIn,mainFieldRef:Ne,resize:D,testId:J,..._e,...ke})})}));e.MaxLengthCounter=K,e.TextArea=Q}));
//# sourceMappingURL=TextArea-916c5bb1.js.map
