define(['exports', 'preact/jsx-runtime', './PRIVATE_Chart/themes/ChartStyles.css', './TrackResizeContainer-74ef32df', './useTextDimensions-b37344b4', './useCssVars-c043f8da', 'preact/hooks', './Gridlines-b1d59999', './useId-c9578d26', './Axis-6cddf1d3', './useChartViewport-ca564baa', './layoutUtils-ac40a238', './useChartNav-5ff92999', './mergeProps-bcfa6a92', './useSelectDrill-a7d833b6', './useUser-85c781ea', './useTestId-3a316499', './cssUtils-577028f8', './useChartContextMenu-673e3de0', './eventsUtils-5d567a9d', './accUtils-1557920a', 'preact/compat', './LayerHost-e95c5f30', 'css!./LayerStyles.styles.css', './Floating-a658b79c', 'css!./useDatatip.styles.css', './datatipUtils-1b8ab042', './util-5bb1f200', './useTooltip-6a5fedfa', './logger-0f873e29', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', './tooltipUtils-3b34c2bc', './useChartMarquee-62e7676c', './useVisTouchResponse-36416652', './stringUtils-0ae982c2', './ScrollBar-4046f84f'], (function(e,t,o,s,i,r,n,a,l,d,u,c,p,x,g,f,h,I,m,C,y,S,b,v,A,D,M,P,T,w,R,V,E,G,N,j,k,F){"use strict";function U(e,t,o){const s=e.groupIndex+1;if(!(s>=t))return o(s)?{groupIndex:s}:U({groupIndex:s},t,o)}function z(e,t){const o=e.groupIndex-1;if(!(o<0))return t(o)?{groupIndex:o}:z({groupIndex:o},t)}const B=I.getChartVars();function L({width:e,height:s,selectedIds:I,hiddenIds:y,hideAndShowBehavior:S="none",orientation:b="vertical",xAxis:v,yAxis:A,plotArea:D,dragMode:M="user",series:w,groups:R,isStacked:V=!1,getDataItem:E,selectionMode:G="none",drilling:L="off",dataCursorPosition:q,onSelectionChange:H,isDataCursorEnabled:O,dataCursorStyle:W,onViewportChange:$,onDataCursorPositionChange:_,onItemDrill:Y,onGroupDrill:Z,onItemHover:J,onItemFocus:K,datatip:Q,zoomAndScroll:X="off",offset:ee,getNavUtil:te,getDataItemPos:oe,getGapRatio:se,valueFormats:ie,findNearest:re,getMarkerInfo:ne,isRtl:ae,children:le,testId:de,renderGridLinesInFront:ue,contextMenuConfig:ce,...pe}){const xe=h.useTestId(de),ge=n.useRef(null),fe="horizontal"===b,{xAxisPosition:he,yAxisPosition:Ie}=c.getAxesPosition(A,fe,ae),{resolvedVars:me,cssContent:Ce}=r.useCssVars(B),ye=Array.from(Array(12)).map(((e,t)=>me[`color${t+1}`])),{textMeasureContent:Se,getTextDimensions:be}=i.useTextDimensions();let ve=c.getAvailSpace(e,s);const Ae=c.getScrollBarSpace(ve,X,he);let De=Ae.scrollDims;ve=Ae.availSpace;const Me=new Set(y),{locale:Pe}=f.useUser(),{xProps:Te,xScale:we,xViewportExtent:Re,xAxisExtent:Ve,xIndexExtent:Ee,yViewportExtent:Ge,yAxisExtent:Ne,groupWidth:je,yProps:ke,yScale:Fe,yMaxDim:Ue,yMajorTicks:ze,yMinorTicks:Be,plotAreaSpace:Le,idToDataMap:qe,formatAxisLabel:He,formatYValue:Oe}=c.getLayoutInfo(w,R,E,v,A,ve,Me,S,fe,ae,V,me.labelFontSize,ee,Pe,be);De=c.updateScrollBarSpace(De,"bottom"===he,ae,Ue);const We=se(Ee.startIndex,Ee.endIndex),$e=te(Ee.startIndex,Ee.endIndex),_e=Te.tickLabels.map((({index:e})=>e+Ee.startIndex)),{getNextNavGroup:Ye,getDefaultNavGroup:Ze}=function(e,t,o,s,i){const r=o=>{const i=e[t[o]].drilling;return("on"===s||"groupsOnly"===s)&&"off"!=i},n=e=>o.startIndex>t[e.groupIndex]?(e.groupIndex=0,e):o.endIndex<t[e.groupIndex]?(e.groupIndex=t.length-1,e):void 0;return{getDefaultNavGroup:n,getNextNavGroup:(e,o)=>{let s=n(e);return s||(s="ArrowRight"===o?i?z(e,r):U(e,t.length,r):i?U(e,t.length,r):z(e,r),s||e)}}}(R,_e,Ee,L,ae),{cursor:Je,marqueeProps:Ke,marqueeContent:Qe,toggleButtonContent:Xe,isPointInsideMarquee:et,dragMode:tt}=N.useChartMarquee({plotAreaSpace:Le,dragMode:M,chartWidth:e,isMultiSelection:"multiple"===G,onViewportChange:$,isZoomScroll:"live"===X,xAxisExtent:Ve,xScale:we,selectedIds:I,getDataById:e=>qe.get(e),onSelectionChange:H,viewportMax:Re.viewportMax,viewportMin:Re.viewportMin,isRtl:ae}),{touchResponse:ot,touchResponseStyle:st}=j.useVisTouchResponse({type:"auto",supportsTouchDragGestures:"off"!==tt,rootRef:ge}),{activeId:it,focusedItemInfo:rt,hoveredItemInfo:nt,focusedGroupInfo:at,navProps:lt,onFocusUpdate:dt}=p.useChartNav({rootRef:ge,getNextChartItem:$e,getNextNavGroup:Ye,getDefaultNavGroup:Ze,touchResponse:ot,onItemHover:J,onItemFocus:K,drilling:L,xIndexExtent:Ee}),{tooltipContent:ut,tooltipProps:ct}=function({getTextAndBounds:e,width:t,isRtl:o}){const[s,i]=n.useState(),r=n.useRef(),{tooltipContent:a,tooltipProps:l}=T.useTooltip({text:s,position:"top-start",offset:P.calculateOffset(o,t,r.current)});return{tooltipContent:a,tooltipProps:x.mergeProps({onPointerMove:t=>{const o=e(t.target);o?(r.current=o.bounds,i(o.text)):i(void 0)}},l)}}({getTextAndBounds:e=>{if(e!=ge.current){const t=C.getElementData(ge,e),o=t?.ojText;if(!o)return;if(o===v?.title)return{text:o,bounds:Te.titleProps?.dims};if(o===A?.title)return{text:o,bounds:ke.titleProps?.dims};if(t?.ojGroupIndex){const e=parseInt(t.ojGroupIndex);return{bounds:Te.tickLabels[e].dims,text:o}}}if(e===ge.current&&at.isFocusVisible){const e=R[at.groupIndex];return{bounds:Te.tickLabels[at.groupIndex].dims,text:e.name||e.id}}},width:e,isRtl:ae}),{selectDrillProps:pt,selectionContent:xt}=g.useSelectDrill({selectionMode:G,selection:[...I],onChange:H,rootRef:ge,drilling:L,onItemDrill:Y,onGroupDrill:Z,focusedGroupInfo:at,focusedItemInfo:rt,groups:R,getDataItem:E,getDataById:e=>qe.get(e)}),gt=u.useChartViewport({rootRef:ge,width:e,height:s,xViewportExtent:Re,yViewportExtent:Ge,xAxisExtent:Ve,yAxisExtent:Ne,xScale:we,yScale:Fe,plotAreaSpace:Le,isRtl:ae,isHoriz:fe,zoomAndScroll:X,onViewportChange:$}),ft=re(we,Fe,je,We),ht=oe(we,Fe,je,We),{datatipContent:It,dataCursorContent:mt,datatipProps:{"aria-describedby":Ct,...yt}}=g.useChartDatatipAndCursor({series:w,groups:R,width:e,height:s,findNearest:ft,plotAreaSpace:Le,onDataCursorPositionChange:_,isDataCursorEnabled:O,dataCursorPosition:q,dataCursorStyle:W,hoveredItemInfo:nt,focusedItemInfo:rt,getDataItem:E,getMarkerInfo:ne,getDataItemPos:ht,datatip:Q,valueFormats:ie,isHoriz:fe,touchResponse:ot,isDisabled:"off"!=tt,xScale:we,yScale:Fe,timeAxisType:v?.timeAxisType,formatAxisLabel:He,formatYValue:Oe}),St=l.useId(),{viewportMin:bt,viewportMax:vt}=Re,{startIndex:At,endIndex:Dt}=Ee,Mt=t.jsx(a.Gridlines,{plotArea:D,yMinorTicks:Be,xScale:we,yScale:Fe,isLog:"log"===A?.scale,xViewportMin:bt,xViewportMax:vt,yTicks:ze,yAxisPosition:Ie}),{contextMenuContent:Pt,contextMenuProps:Tt}=m.useChartContextMenu({series:w,groups:R,getDataItem:E,focusedItemInfo:rt,rootRef:ge,xAxisTitle:v?.title,yAxisTitle:A?.title,contextMenuConfig:ce,onContextMenuDismissed:e=>{"keyboard"===e&&dt()}}),wt=x.mergeProps(lt,pt,gt,yt,Ke,ct,Tt);return t.jsxs("div",{tabIndex:0,ref:ge,"aria-activedescendant":it,"aria-label":pe["aria-label"],"aria-labelledby":pe["aria-labelledby"],"aria-describedby":k.merge([pe["aria-describedby"],Ct]),style:st,role:"application",className:o.styles.baseChartStyle,...xe,...wt,children:[t.jsxs("svg",{width:"100%",height:"100%",children:[t.jsx("clipPath",{id:`${St}`,children:t.jsx("rect",{...Le})}),t.jsx(a.PlotArea,{color:D?.color,yScale:Fe,cursor:Je,isLog:"log"===A?.scale,availSpace:Le,xAxisPosition:he}),!ue&&Mt,t.jsx(d.Axis,{...ke,axisPosition:Ie,isRtl:ae}),t.jsx(d.Axis,{...Te,isRtl:ae,axisPosition:he,isTextInteractive:e=>{if(null!=v?.timeAxisType)return!1;const t=R[e].drilling;return"on"===t||"off"!=t&&("on"===L||"groupsOnly"===L)},activeId:it,focusedGroupIndex:at.isFocusVisible?at.groupIndex:void 0}),t.jsxs("g",{"clip-path":`url(#${St})`,children:[le({xStartIndex:At,xEndIndex:Dt,colors:ye,xScale:we,yScale:Fe,isPointInsideMarquee:et,defaultFontSize:me.labelFontSize,gapRatio:We,activeId:it,focusedItemInfo:rt,hoveredItemInfo:nt,getTextDimensions:be,groupWidth:je}),ue&&Mt,mt]}),"live"===X&&t.jsx(F.ScrollBar,{availSpace:De,isRtl:ae,viewport:Re,axisExtent:Ve,isHoriz:"bottom"===he}),Qe]}),Xe,Se,Ce,It,ut,Pt,xt]})}e.Chart=function({width:e,height:i,...r}){return t.jsx(s.TrackResizeContainer,{width:e,height:i,class:o.dimensionStyle,children:(e,o)=>e||o?t.jsx(L,{width:e,height:o,...r}):void 0})}}));
//# sourceMappingURL=Chart-96ea9fed.js.map
