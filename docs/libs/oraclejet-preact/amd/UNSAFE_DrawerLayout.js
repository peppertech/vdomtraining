define(['exports', 'preact/jsx-runtime', 'preact/hooks', './positionUtils-332efab6', './useAnimation-71f423d8', './useUser-e0989b0b', './useTestId-af48c25c', './useBreakpointValues-63556c69', './useComponentTheme-f77b756d', './classNames-2e65b3b3', './UNSAFE_DrawerLayout/themes/redwood/DrawerLayoutTheme', './TopLayerHost-06d05670', 'preact', './Common/themes/redwood/theme', './Common/themes/themeContract.css', 'preact/compat', './useBreakpoints-3f5e2935', './logger-e130a3d8', './UNSAFE_DrawerLayout/themes/DrawerLayoutStyles.css', 'css!./DrawerLayoutStyles.styles.css', './UNSAFE_DrawerLayout/themes/redwood/DrawerLayoutBaseTheme.css', 'module', './UNSAFE_DrawerLayout/themes/redwood/DrawerLayoutVariants.css', './vanilla-extract-recipes-createRuntimeFn.esm-103a441d'], (function(e,r,t,a,s,o,n,i,c,l,u,d,w,m,f,h,y,D,p,v,x,g,b,S){"use strict";e.DrawerLayout=({children:e,startDrawer:d,endDrawer:w,bottomDrawer:m,isStartOpen:f=!1,isEndOpen:h=!1,isBottomOpen:y=!1,startDisplay:D,endDisplay:p,bottomDisplay:v,onClose:x,onTransitionEnd:g,testId:b})=>{const S="0px",L=250,N="start",R="end",E="bottom",O="initial",T="opening",A="closing",B="unmounted",j="full-overlay",k="overlay",C="hidden",[U,H]=t.useState(f?O:B),[X,Y]=t.useState(h?O:B),[$,_]=t.useState(y?O:B),[F,I]=t.useState(C),[K,M]=t.useState(C),[V,W]=t.useState(C),P=i.useBreakpointValues({sm:"full-overlay",md:"overlay",lg:"reflow"}),[z,q]=t.useState(P);t.useEffect((()=>{q(P)}),[P]);const G=t.useRef(null),J=t.useRef(null),Q=t.useRef(null),Z=e=>Math.round(e.offsetHeight),ee=e=>Math.round(e.getBoundingClientRect().width),{direction:re}=o.useUser(),te="ltr"===re,ae=(e,r)=>`${"right"===(e=>a.normalizePosition(e,re))(e)?"":"-"}${ee(r.current)}px`,se=e=>`${Z(e.current)}px`,oe=e=>[T,A].indexOf(e)>-1,ne=e=>[j,k].indexOf(e)>-1,ie=e=>{switch(e){case N:return f;case R:return h;case E:return y}},ce=(e,r)=>{switch(e){case N:return I(r);case R:return M(r);case E:return W(r)}},le=e=>{switch(e){case N:return U;case R:return X;case E:return $}},ue=(e,r)=>{switch(e){case N:H(r);break;case R:Y(r);break;case E:_(r)}},de=e=>{const r=(e=>{switch(e){case N:return D;case R:return p;case E:return v}})(e);return r||z},we=(e,r)=>{const t=(e=>e===E)(e);return"reflow"===de(e)?t?{opening:()=>({from:{maxHeight:S,overflowX:"hidden"},to:{maxHeight:`${Z(r.current)}px`,overflowX:"hidden"},options:{duration:L}}),closing:()=>({from:{maxHeight:`${Z(r.current)}px`},to:{maxHeight:S,overflowX:"hidden"},options:{duration:L}})}:{opening:()=>({from:{maxWidth:S,overflowY:"hidden"},to:{maxWidth:`${ee(r.current)}px`,overflowY:"hidden"},options:{duration:L}}),closing:()=>({from:{maxWidth:`${ee(r.current)}px`},to:{maxWidth:S,overflowY:"hidden"},options:{duration:L}})}:t?{opening:()=>({from:{translateY:se(r)},to:{translateY:S},options:{duration:L}}),closing:()=>({from:{translateY:S},to:{translateY:se(r)},options:{duration:L}})}:{opening:()=>({from:{translateX:ae(e,r)},to:{translateX:S},options:{duration:L}}),closing:()=>({from:{translateX:S},to:{translateX:ae(e,r)},options:{duration:L}})}};function me(e,r){const t=ie(e),a=le(e);return s.useAnimation(a,{animationStates:we(e,r),isAnimatedOnMount:!0,onAnimationEnd:()=>{a===T?(ue(e,"open"),g?.({placement:e,value:!0})):t||((e=>{switch(e){case N:fe(null);break;case R:he(null);break;case E:ye(null)}})(e),ce(e,C),ue(e,B),g?.({placement:e,value:!1}))}}).nodeRef}const fe=me(N,G),he=me(R,J),ye=me(E,Q),De=n.useTestId(b);function pe(e){const r=ie(e),a=le(e);t.useEffect((()=>{if(a!==B||r)if(a===B&&r)ue(e,O);else{if(a===O&&r){const r=(e=>{switch(e){case N:return G;case R:return J;case E:return Q}})(e),t=(e=>{switch(e){case N:return fe;case R:return he;case E:return ye}})(e);return t(r.current),void ue(e,T)}a===T&&r?ce(e,"visible"):r||ue(e,A)}}),[r,a,e])}pe(N),pe(R),pe(E);const ve=e=>{be(N,e)},xe=e=>{be(R,e)},ge=e=>{be(E,e)},be=(e,r)=>{"Escape"===r.code&&ne(de(e))&&"Escape"===r.code&&x?.({placement:e,reason:"escapeKey"})},{classes:Se,styles:Le}=c.useComponentTheme(u.DrawerLayoutRedwoodTheme),Ne=e=>{const r=de(e),t=(e=>{switch(e){case N:return F;case R:return K;case E:return V}})(e),a=(e=>e===C?Le.visibilityHidden:Le.visibilityVisible)(t),s=(e=>{switch(e){case N:return oe(U);case R:return oe(X);case E:return oe($)}})(e)&&Le.animatedDrawer;switch(e){case N:return r===j?l.classNames([Le.overlayDrawer,Le.fullOverlayDrawerSide,te&&Le.overlayDrawerLeft,!te&&Le.overlayDrawerRight,a,s]):r===k?l.classNames([Le.overlayDrawer,Le.basicOverlayDrawerSide,te&&Le.overlayDrawerLeft,!te&&Le.overlayDrawerRight,a,s]):l.classNames([Le.reflowDrawer,te&&Le.reflowDrawerLeft,!te&&Le.reflowDrawerRight,a,s]);case R:return r===j?l.classNames([Le.overlayDrawer,Le.fullOverlayDrawerSide,te&&Le.overlayDrawerRight,!te&&Le.overlayDrawerLeft,a,s]):r===k?l.classNames([Le.overlayDrawer,Le.basicOverlayDrawerSide,te&&Le.overlayDrawerRight,!te&&Le.overlayDrawerLeft,a,s]):l.classNames([Le.reflowDrawer,te&&Le.reflowDrawerRight,!te&&Le.reflowDrawerLeft,a,s]);case E:return[k,j].indexOf(r)>-1?l.classNames([Le.overlayDrawer,Le.overlayDrawerBottom,a]):l.classNames([Le.reflowDrawer,Le.reflowDrawerBottom,a,s])}},Re=e=>{if(le(e)!==B)switch(e){case N:return r.jsx("div",{ref:G,className:Ne(N),tabIndex:ne(de(N))?-1:void 0,onKeyDown:ve,children:d});case R:return r.jsx("div",{ref:J,className:Ne(R),tabIndex:ne(de(N))?-1:void 0,onKeyDown:xe,children:w});case E:return r.jsx("div",{ref:Q,className:Ne(E),tabIndex:ne(de(N))?-1:void 0,onKeyDown:ge,children:m})}return null};return r.jsxs("div",{className:Se,...De,children:[Re(N),r.jsxs("div",{className:Le.centerSection,children:[r.jsx("div",{className:Le.mainContent,children:e}),Re(E)]}),Re(R)]})},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_DrawerLayout.js.map
