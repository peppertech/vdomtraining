{"version":3,"file":"TopLayerHost-06d05670.js","sources":["../../src/UNSAFE_Environment/EnvironmentContext.tsx","../../src/UNSAFE_Layer/LayerContext.ts","../../src/UNSAFE_Layer/LayerHost.tsx","../../src/UNSAFE_Layer/TopLayerHost.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { Theme, ThemeModifiers } from '../UNSAFE_Theme';\n\nimport { Redwood } from '../Common';\nimport { createContext } from 'preact';\n\n/**\n * Defines user specific environment\n */\ntype User = {\n  locale: string;\n  direction: 'rtl' | 'ltr';\n  forcedColors: 'none' | 'active';\n};\n\n/**\n * Defines translation bundle type.\n */\nexport type TranslationBundle = Record<string, (...args: any[]) => string>;\n\n/**\n * Defines a type for translation property which is an object where\n * - key - string - bundle id\n * - value - object - strings to functions of the type (options?: object)=>string\n *\n * Translation bundle example:\n * const bundle = {\n *  @oracle/oracle-preact-bundle: {\n *      welcome: () => 'bienvenido',\n *      success: () => 'Ã©xito'\n *  }\n * }\n */\ntype Translations = { [bundleId: string]: TranslationBundle };\n\n/**\n * Defines the mode in which the application is running. For \"test\" mode, UNSAFE_useTestId hook will\n * return a set of attributes to be rendered on the component DOM for testing purposes. Default is\n * \"production\"\n */\ntype Mode = 'test' | 'production';\n\n/**\n * Environment specified at the root level\n */\nexport type RootEnvironment = Partial<ThemeModifiers> & {\n  /**\n   * user - supports user preferences\n   */\n  user?: Partial<User>;\n  /**\n   * theme - supports theme settings\n   */\n  theme?: Theme;\n  /**\n   * translations - supports translation bundles\n   */\n  translations?: Translations;\n  /**\n   * mode - the application's configured mode\n   */\n  mode?: Mode;\n};\n\n/**\n * Environment specified at the component level\n */\nexport type Environment = Partial<ThemeModifiers> & {\n  translations?: Translations;\n};\n\nexport type CompleteEnvironmentType = ThemeModifiers & {\n  user: User;\n  theme: Theme;\n  translations?: Translations;\n  mode: Mode;\n};\n\n/**\n * Default environment created for the application\n */\nexport const DefaultEnvironment: CompleteEnvironmentType = {\n  user: {\n    locale: document.documentElement.getAttribute('lang') || 'en',\n    direction:\n      document.documentElement.getAttribute('dir')?.toLowerCase() === 'rtl' ? 'rtl' : 'ltr',\n    forcedColors: window.matchMedia?.('(forced-colors: active)')?.matches ? 'active' : 'none'\n  },\n  theme: Redwood,\n  colorScheme: 'light',\n  scale: 'lg',\n  currentBgColor: undefined,\n  mode: 'production'\n};\n\nexport const EnvironmentContext = createContext<CompleteEnvironmentType>(DefaultEnvironment);\n","import { createContext } from 'preact';\n\nexport type LayerPriority = 'normal' | 'top';\n\nexport type LayerContextProps = {\n  priority?: LayerPriority;\n  getHost?: (priority?: LayerPriority) => Element;\n};\n\nexport const LayerContext = createContext<LayerContextProps>({});\n","/**\n * The LayerHost is a div which is created in place\n * where you want to \"house\" a portaled content\n */\nimport { forwardRef } from 'preact/compat';\n\nconst LayerHost = forwardRef<HTMLDivElement>((_props, ref) => {\n  return <div id=\"__root_layer_host\" ref={ref} />;\n});\n\nLayerHost.displayName = 'Forwarded<LayerHost>';\n\nexport default LayerHost;\n","/**\n * The PriorityLayerHost is a div which is created in place\n * where you want to host portaled content which should be \"on top\" (like Messages)\n */\nimport { forwardRef } from 'preact/compat';\n\nconst TopLayerHost = forwardRef<HTMLDivElement>((_props, ref) => {\n  return <div id=\"__top_layer_host\" ref={ref} />;\n});\n\nTopLayerHost.displayName = 'Forwarded<TopLayerHost>';\n\nexport default TopLayerHost;\n"],"names":["DefaultEnvironment","user","locale","document","documentElement","getAttribute","direction","toLowerCase","forcedColors","window","matchMedia","matches","theme","Redwood","colorScheme","scale","currentBgColor","undefined","mode","EnvironmentContext","createContext","LayerContext","LayerHost","forwardRef","_props","ref","_jsx","id","displayName","TopLayerHost"],"mappings":"mIAwFa,MAAAA,EAA8C,CACzDC,KAAM,CACJC,OAAQC,SAASC,gBAAgBC,aAAa,SAAW,KACzDC,UACkE,QAAhEH,SAASC,gBAAgBC,aAAa,QAAQE,cAA0B,MAAQ,MAClFC,aAAcC,OAAOC,aAAa,4BAA4BC,QAAU,SAAW,QAErFC,MAAOC,EAAOA,QACdC,YAAa,QACbC,MAAO,KACPC,oBAAgBC,EAChBC,KAAM,cAGKC,EAAqBC,EAAaA,cAA0BpB,GC7F5DqB,EAAeD,EAAaA,cAAoB,CAAE,GCHzDE,EAAYC,EAAUA,YAAiB,CAACC,EAAQC,IAC7CC,EAAAA,IAAA,MAAA,CAAKC,GAAG,oBAAoBF,IAAKA,MAG1CH,EAAUM,YAAc,uBCJlB,MAAAC,EAAeN,EAAUA,YAAiB,CAACC,EAAQC,IAChDC,EAAAA,IAAA,MAAA,CAAKC,GAAG,mBAAmBF,IAAKA,MAGzCI,EAAaD,YAAc"}