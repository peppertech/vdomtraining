{"version":3,"names":["define","oj","ojdataprovider","ojeventtarget","ojMap","ojbufferingdataproviderevents","ojSet","ojcomponentcore","Object","prototype","hasOwnProperty","call","EditBuffer","constructor","this","unsubmittedItems","submittingItems","submittedAddItems","addItemOrder","mapOpTransform","mapEditItemStatus","addItem","item","key","metadata","unsubmitted","get","submitting","operation","Error","delete","editItem","set","unshift","removeItem","_removeFromAddItemOrder","updateItem","setItemMutated","_isAddOrMoveAdd","setItemStatus","newStatus","error","newEditItem","data","message","getUnsubmittedItems","getSubmittingItems","getSubmittedAddItems","isEmpty","includeSubmitted","size","getItem","isUpdateTransformed","getEditItemStatus","isSubmittingOrSubmitted","has","resetAllUnsubmittedItems","_clearAddItemOrder","clear","forEach","index","findIndex","k","KeyUtils","equals","splice","_isMoveAdd","getAddItemOrder","BufferingDataProvider","dataProvider","options","_a","_generateKey","value","customKeyGenerator","crypto","randomUUID","replace","c","getRandomValues","Uint8Array","toString","AsyncIterable","_parent","_asyncIterator","Symbol","asyncIterator","AsyncIterator","_baseIterator","_params","mergedAddKeySet","mergedItemArray","nextOffset","_fetchNext","signal","wrapWithAbortHandling","resolve","next","then","async","result","fetchParameters","sortCriteria","lastSortCriteria","baseItemArray","map","val","totalFilteredRowCount","_mergeEdits","filterCriterion","done","actualReturnSize","length","i","_isItemRemoved","params","newDataArray","newMetaArray","idx","push","includeFilteredRowCount","_addEventListeners","editBuffer","lastIterator","keyGenerator","generatedKeyMap","dataBeforeUpdated","Map","_fetchByKeysFromBuffer","results","unresolvedKeys","Set","keys","add","_compareItem","d1","d2","sortCrt","comparator","SortUtils","getNaturalSortComparator","descendingResult","direction","comparatorResult","attribute","_insertAddEdits","editItems","filterObj","itemArray","lastBlock","filter","oldData","keySet","fetchByKeys","inserted","allItemsRemoved","_mergeAddEdits","newItemArray","FilterFactory","getFilter","filterDef","filterOptions","baseItem","offset","isFetchToEnd","mergedItems","submitted","_getEditBufferCounts","numUnsubmittedAdds","numAdds","unbufferedResultsToIgnore","fetchByOffset","numRemoves","numMoveAdds","numSubmittedOrSubmittingAdds","overrideOffset","overrideSize","Math","max","underlyingFetchParams","_getAllAdds","slice","undefined","updatedItem","nextParams","extraResults","_fetchFromOffset","containsKeys","bufferResult","Promise","containsParameters","attributes","scope","baseResults","fetchFirst","baseIterator","getCapability","capabilityName","_calculateSizeChange","sizeChange","_getCounts","getTotalSize","totalSize","_addToMergedArrays","fromBaseDP","addBeforeKeyFromBase","addBeforeKey","_getNextKey","shouldIncrementNextOffset","bRemoved","nextKey","keyIdx","_findKeyInItems","assign","detail","addBeforeKeys","indexes","event","DataProviderMutationEvent","dispatchEvent","_dispatchSubmittableChangeEvent","_removeFromMergedArrays","itemKey","remove","update","getSubmittableItems","submittableItems","DataProviderRefreshEvent","_addEventDetail","detailType","detailItem","detailAddBeforeKey","resetUnsubmittedItem","editItemMap","resultObj","resultItem","newKey","submittable","BufferingDataProviderSubmittableChangeEvent","_findKeyInMetadata","items","_initDetailProp","newDetail","propName","initValue","_initDetail","bEmpty","bAdd","parentKeys","_initDetails","details","newDetails","_pushDetailProp","_pushDetail","_isSkipItem","skipItem","_isSortFieldUpdated","sortUpd","sortFields","sortField","_getOperationDetails","sortFldUpdateds","_processAdd","_handleRefreshEvent","_cleanUpSubmittedItem","_handleMutateEvent","detailAdd","nextIdx","detailRemove","detailUpdate","currData","_checkGeneratedKeys","eventDetail","checkKeyMap","eventAddDetail","transientKey","firstKey","dataprovider","_ADDEVENTLISTENER","_REFRESH","bind","_MUTATE","EventTargetMixin","applyMixin","_registerLegacyNamespaceProp"],"sources":["../debug/ojbufferingdataprovider.js"],"mappings":"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"}