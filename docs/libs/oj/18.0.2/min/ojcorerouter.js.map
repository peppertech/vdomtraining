{"version":3,"names":["define","Logger","ojobservable","UrlPathAdapter","rootRouter","urlAdapter","Object","prototype","hasOwnProperty","call","noHistorySegments","getActiveRoutes","router","routes","state","_activeState","_getPendingState","path","push","params","pathParams","childRouter","paramRegex","getPathParam","segment","match","Error","getFullUrl","pathname","loc","document","location","protocol","hostname","port","CoreRouter","options","parentRouter","this","_name","_urlOffset","beforeStateChange","BehaviorSubject","accept","currentState","complete","_noHistory","history","_noHistoryOffset","_parentRouter","length","_setupNavigationListener","undefined","_configure","reconfigure","routeConfigs","navigateTo","oldRoutes","_routes","newRoutes","_getActiveRoutes","Array","isArray","go","catch","ex","map","config","segments","split","shift","configuredRoute","detail","redirect","RegExp","_match","freeze","sync","_execute","_getRouteSegment","then","p","route","getRoutesForUrl","_getRoutePathParams","offset","t","join","newPath","info","getUrlForNavigation","Promise","reject","message","currentPath","getUrlForRoutes","prevNoHistorySegments","slice","concat","window","pushState","replaceState","paramTypesRegex","forEach","keys","key","test","_getParentRoutes","filter","Boolean","transition","execPromise","_prepublish","_isCurrentState","_publish","allPre","next","res","activeSync","all","s","_activeSync","allPub","_popstateHandler","addEventListener","route1","route2","cs","pending","find","createChildRouter","destroy","console","debug","removeEventListener"],"sources":["../debug/ojcorerouter.js"],"mappings":"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"}